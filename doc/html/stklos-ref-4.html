<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
 <style type="text/css">
  <!--
  tt { font-family: monospace }
  code { font-family: monospace }
  -->
 </style>
<link href="doc-style.css" rel="stylesheet" type="text/css">
</head>
<body>
<div id='doc-title'>
STklos Reference Manual<hr align="center" width="10%">4. Standard Procedures</div>
<table cellpadding="3" cellspacing="0" width="100%"><tr>
<td align="left" valign="top" width="20%" bgcolor="#204875">
<table width="100%" border="0" cellpadding="2" cellspacing="4" style="border-collapse: collapse;" frame="box" rules="none"><tbody>
<tr><th align="center" colspan="2" bgcolor="#ACE919"><font color="darkolivegreen"><br />Contents<br /><br /></font></th></tr>
<tr class="navnorm"><td align="center"></td><td align="left"><a href="stklos-ref.html#-document-52974">*Top*</a></td></tr>
<tr class="navnorm"><td width="8%" align="left" valign="top">1&nbsp;</td><td align="left"><a href="stklos-ref-1.html#Introduction">Introduction</a></td></tr>
<tr class="navnorm"><td width="8%" align="left" valign="top">2&nbsp;</td><td align="left"><a href="stklos-ref-2.html#Expressions">Expressions</a></td></tr>
<tr class="navnorm"><td width="8%" align="left" valign="top">3&nbsp;</td><td align="left"><a href="stklos-ref-3.html#Program-structure">Program structure</a></td></tr>
<tr class="navsel"><td width="8%" align="left" valign="top">4&nbsp;</td><td align="left"><a href="stklos-ref-4.html#Standard-Procedures">Standard Procedures</a><br /><table cellspacing="1" cellpadding="1" width="100%">
<tbody>
 <tr><td valign="top" align="left">4.1</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Equivalence-predicates">Equivalence predicates</td></tr>
 <tr><td valign="top" align="left">4.2</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Numbers">Numbers</td></tr>
 <tr><td valign="top" align="left">4.3</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Booleans">Booleans</td></tr>
 <tr><td valign="top" align="left">4.4</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Pairs-and-lists">Pairs and lists</td></tr>
 <tr><td valign="top" align="left">4.5</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Symbols">Symbols</td></tr>
 <tr><td valign="top" align="left">4.6</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Characters">Characters</td></tr>
 <tr><td valign="top" align="left">4.7</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Strings">Strings</td></tr>
 <tr><td valign="top" align="left">4.8</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Vectors">Vectors</td></tr>
 <tr><td valign="top" align="left">4.9</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Structures">Structures</td></tr>
 <tr><td valign="top" align="left">4.10</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Bytevectors">Bytevectors</td></tr>
 <tr><td valign="top" align="left">4.11</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Control-features">Control features</td></tr>
 <tr><td valign="top" align="left">4.12</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Input-and-Output">Input and Output</td></tr>
 <tr><td valign="top" align="left">4.13</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#System-interface">System interface</td></tr>
 <tr><td valign="top" align="left">4.14</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Keywords">Keywords</td></tr>
 <tr><td valign="top" align="left">4.15</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Hash-Tables">Hash Tables</td></tr>
 <tr><td valign="top" align="left">4.16</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Dates-and-Times">Dates and Times</td></tr>
 <tr><td valign="top" align="left">4.17</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Boxes">Boxes</td></tr>
 <tr><td valign="top" align="left">4.18</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Processes">Processes</td></tr>
 <tr><td valign="top" align="left">4.19</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Sockets">Sockets</td></tr>
 <tr><td valign="top" align="left">4.20</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Signals">Signals</td></tr>
 <tr><td valign="top" align="left">4.21</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Parameter-Objects">Parameter Objects</td></tr>
 <tr><td valign="top" align="left">4.22</td><td colspan="4" width="100%"><a href="stklos-ref-4.html#Misc">Misc</td></tr>
</tbody>
</table>
</td></tr>
<tr class="navnorm"><td width="8%" align="left" valign="top">5&nbsp;</td><td align="left"><a href="stklos-ref-5.html#Regular-Expressions">Regular Expressions</a></td></tr>
<tr class="navnorm"><td width="8%" align="left" valign="top">6&nbsp;</td><td align="left"><a href="stklos-ref-6.html#Pattern-Matching">Pattern Matching</a></td></tr>
<tr class="navnorm"><td width="8%" align="left" valign="top">7&nbsp;</td><td align="left"><a href="stklos-ref-7.html#Exceptions-and-Conditions">Exceptions and Conditions</a></td></tr>
<tr class="navnorm"><td width="8%" align="left" valign="top">8&nbsp;</td><td align="left"><a href="stklos-ref-8.html#STklos-Object-System">STklos Object System</a></td></tr>
<tr class="navnorm"><td width="8%" align="left" valign="top">9&nbsp;</td><td align="left"><a href="stklos-ref-9.html#Threads--Mutexes-and-Condition-Variables">Threads, Mutexes and Condition Variables</a></td></tr>
<tr class="navnorm"><td width="8%" align="left" valign="top">10&nbsp;</td><td align="left"><a href="stklos-ref-10.html#Customizations">Customizations</a></td></tr>
<tr class="navnorm"><td width="8%" align="left" valign="top">11&nbsp;</td><td align="left"><a href="stklos-ref-11.html#The-ScmPkg-Package-System">The ScmPkg Package System</a></td></tr>
<tr class="navnorm"><td width="8%" align="left" valign="top">12&nbsp;</td><td align="left"><a href="stklos-ref-12.html#Foreign-Function-Interface">Foreign Function Interface</a></td></tr>
<tr class="navnorm"><td width="8%" align="left" valign="top">13&nbsp;</td><td align="left"><a href="stklos-ref-13.html#Using-the-SLIB-package">Using the SLIB package</a></td></tr>
<tr class="navnorm"><td width="8%" align="left" valign="top">14&nbsp;</td><td align="left"><a href="stklos-ref-14.html#SRFIs">SRFIs</a></td></tr>
<tr class="navnorm"><td width="8%" align="left" valign="top">15&nbsp;</td><td align="left"><a href="stklos-ref-15.html#Index">Index</a></td></tr>
<tr class="navnorm"><td width="8%" align="left" valign="top">&nbsp;</td><td align="left"><a href="stklos-ref-16.html#Bibliography">Bibliography</a></td></tr>
</tbody></table>
</td>
<td align="left" valign="top">
<div class="chapterbody"><div class="sectiondiv"><div class="sectiontitle"><a name="Equivalence-predicates"></a>
<h3 id="Equivalence-predicates">4.1 Equivalence predicates</h3>
</div>
<div class="sectionbody"><p>A predicate is a procedure that always returns a boolean value
(<code>#t</code> or <code>#f</code>). An equivalence predicate is the
computational analogue of a mathematical equivalence relation (it
is symmetric, reflexive, and transitive).  Of the equivalence
predicates described in this section, <code>eq?</code> is the finest
or most discriminating, and <code>equal?</code> is the coarsest.
<code>Eqv?</code> is slightly less discriminating than <code>eq?</code>.</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="eqv-"></a><a name="--index-entry-12176"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(eqv? obj1 obj2)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />The <code>eqv?</code> procedure defines a useful equivalence relation on objects.
Briefly, it returns <code>#t</code> if <code>obj1</code> and <code>obj2</code> should normally be regarded
as the same object. This relation is left slightly open to interpretation,
but the following partial specification of <code>eqv?</code> holds for all
implementations of Scheme.

The <code>eqv?</code> procedure returns <code>#t</code> if:
<ul><li>
<code>obj1</code> and <code>obj2</code> are both <code>#t</code> or both <code>#f</code>.
</li>
<li>
<code>obj1</code> and <code>obj2</code> are both symbols and
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(string=? (symbol-&gt;string obj1)
          (symbol-&gt;string obj2))
                     &#8658;  #t
</pre></td></tr>
</tbody></table></blockquote>


<strong>Note:</strong> This assumes that neither <code>obj1</code> nor <code>obj2</code> is an
&quot;uninterned symbol&quot;.
</li>
<li>
<code>obj1</code> and <code>obj2</code> are both keywords and
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(string=? (keyword-&gt;string obj1)
          (keyword-&gt;string obj2))
                     &#8658;  #t
</pre></td></tr>
</tbody></table></blockquote>

</li>
<li>
<code>obj1</code> and <code>obj2</code> are both numbers, are numerically equal
(see <a href="stklos-ref-4.html#-">-</a>), and are either both exact or both inexact.
</li>
<li>
<code>obj1</code> and <code>obj2</code> are both characters and are the same character
according to the <code>char=?</code> procedure (see <a href="stklos-ref-4.html#char--">char--</a>).
</li>
<li>
both <code>obj1</code> and <code>obj2</code> are the empty list.
</li>
<li>
<code>obj1</code> and <code>obj2</code> are pairs, vectors, or strings that denote
the same locations in the store.
</li>
<li>
<code>obj1</code> and <code>obj2</code> are procedures whose location tags are equal.
</li>
</ul>

<strong>Note:</strong> <span style="font-variant: small-caps">STklos</span> extends <span style="font-variant: small-caps">R<sup>5</sup>RS</span> <code>eqv?</code> to take into account
the keyword type.
<br />
Here are some examples:
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(eqv? 'a 'a)                     &#8658;  #t
(eqv? 'a 'b)                     &#8658;  #f
(eqv? 2 2)                       &#8658;  #t
(eqv? <span class="source-key">:foo</span> <span class="source-key">:foo</span>)                 &#8658;  #t
(eqv? <span class="source-key">:foo</span> <span class="source-key">:bar</span>)                 &#8658;  #f
(eqv? '() '())                   &#8658;  #t
(eqv? 100000000 100000000)       &#8658;  #t
(eqv? (cons 1 2) (cons 1 2))     &#8658;  #f
(eqv? (<strong>lambda</strong> () 1)
      (<strong>lambda</strong> () 2))             &#8658;  #f
(eqv? #f 'nil)                   &#8658;  #f
(<strong>let</strong> ((p (<strong>lambda</strong> (x) x)))
  (eqv? p p))                    &#8658;  #t
</pre></td></tr>
</tbody></table></blockquote>


The following examples illustrate cases in which the above rules do
not fully specify the behavior of <code>eqv?</code>. All that can be said about
such cases is that the value returned by eqv? must be a boolean.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(eqv? <span class="source-string">&quot;&quot;</span> <span class="source-string">&quot;&quot;</span>)             &#8658;  unspecified
(eqv? '#() '#())         &#8658;  unspecified
(eqv? (<strong>lambda</strong> (x) x)
      (<strong>lambda</strong> (x) x))    &#8658;  unspecified
(eqv? (<strong>lambda</strong> (x) x)
      (<strong>lambda</strong> (y) y))    &#8658;  unspecified
</pre></td></tr>
</tbody></table></blockquote>


<strong>Note:</strong> In fact, the value returned by <span style="font-variant: small-caps">STklos</span> depends of
the way code is entered and can yield <code>#t</code> in some cases and <code>#f</code>
in others.
<br />
See <span style="font-variant: small-caps">R<sup>5</sup>RS</span> for more details on <code>eqv?</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="eq-"></a><a name="--index-entry-12591"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(eq? obj1 obj2)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>Eq?</code> is similar to <code>eqv?</code> except that in some cases it is capable of
discerning distinctions finer than those detectable by <code>eqv?</code>.
<br />
<code>Eq?</code> and <code>eqv?</code> are guaranteed to have the same behavior on symbols,
keywords, booleans, the empty list, pairs, procedures, and non-empty strings
and vectors. <code>Eq?</code>'s behavior on numbers and characters is
implementation-dependent, but it will always return either true or false,
and will return true only when <code>eqv?</code> would also return true.
<code>Eq?</code> may also behave differently from <code>eqv?</code> on empty vectors
and empty strings.
<br />
<strong>Note:</strong> <span style="font-variant: small-caps">STklos</span> extends <span style="font-variant: small-caps">R<sup>5</sup>RS</span> <code>eq?</code> to take into account
the keyword type.
<br />
<strong>Note:</strong> In <span style="font-variant: small-caps">STklos</span>, comparison of character returns <code>#t</code> for identical
characters and <code>#f</code> otherwise.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(eq? 'a 'a)                     &#8658;  #t
(eq? '(a) '(a))                 &#8658;  unspecified
(eq? (list 'a) (list 'a))       &#8658;  #f
(eq? <span class="source-string">&quot;a&quot;</span> <span class="source-string">&quot;a&quot;</span>)                   &#8658;  unspecified
(eq? <span class="source-string">&quot;&quot;</span> <span class="source-string">&quot;&quot;</span>)                     &#8658;  unspecified
(eq? <span class="source-key">:foo</span> <span class="source-key">:foo</span>)                 &#8658;  #t
(eq? <span class="source-key">:foo</span> <span class="source-key">:bar</span>)                 &#8658;  #f
(eq? '() '())                   &#8658;  #t
(eq? 2 2)                       &#8658;  unspecified
(eq? #\A #\A)                   &#8658;  #t (unspecified in <span style="font-variant: small-caps">R<sup>5</sup>RS</span>)
(eq? car car)                   &#8658;  #t
(<strong>let</strong> ((n (+ 2 3)))
  (eq? n n))                    &#8658;  #t (unspecified in <span style="font-variant: small-caps">R<sup>5</sup>RS</span>)
(<strong>let</strong> ((x '(a)))
  (eq? x x))                    &#8658;  #t
(<strong>let</strong> ((x '#()))
  (eq? x x))                    &#8658;  #t
(<strong>let</strong> ((p (<strong>lambda</strong> (x) x)))
  (eq? p p))                    &#8658;  #t
(eq? <span class="source-key">:foo</span> <span class="source-key">:foo</span>)                 &#8658;  #t
(eq? <span class="source-key">:bar</span> <span class="source-key">bar:</span>)                 &#8658;  #t
(eq? <span class="source-key">:bar</span> <span class="source-key">:foo</span>)                 &#8658;  #f
</pre></td></tr>
</tbody></table></blockquote>

</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="equal-"></a><a name="--index-entry-12853"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(equal? obj1 obj2)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>Equal?</code> recursively compares the contents of pairs, vectors, and
strings, applying <code>eqv?</code> on other objects such as numbers and symbols.
A rule of thumb is that objects are generally <code>equal?</code> if they print the
same. <code>Equal?</code> always terminates even if its arguments are circular
data structures.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(equal? 'a 'a)                  &#8658;  #t
(equal? '(a) '(a))              &#8658;  #t
(equal? '(a (b) c)
        '(a (b) c))             &#8658;  #t
(equal? <span class="source-string">&quot;abc&quot;</span> <span class="source-string">&quot;abc&quot;</span>)            &#8658;  #t
(equal? 2 2)                    &#8658;  #t
(equal? (make-vector 5 'a)
        (make-vector 5 'a))     &#8658;  #t
(equal? '#1=(a b . #1#)
        '#2=(a b a b . #2#)) &#8658;  #t
</pre></td></tr>
</tbody></table></blockquote>


<strong>Note:</strong> A rule of thumb is that objects are generally
<code>equal?</code> if they print the same.</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Numbers"></a>
<h3 id="Numbers">4.2 Numbers</h3>
</div>
<div class="sectionbody"><p><span style="font-variant: small-caps">R<sup>5</sup>RS</span> description of numbers is quite long and will not be given here.
STklos support the full number tower as described in <span style="font-variant: small-caps">R<sup>5</sup>RS</span>; see this
document for a complete description.</p><p><span style="font-variant: small-caps">STklos</span> extends the number syntax of R5RS with the
following inexact numerical constants:
<code>+inf.0</code> (infinity), <code>-inf.0</code> (negative
infinity), <code>+nan.0</code> (not a number), and
<code>-nan.0</code> (same as +nan.0).</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="integer-"></a><a name="rational-"></a><a name="real-"></a><a name="complex-"></a><a name="number-"></a><a name="--index-entry-12975"></a><a name="--index-entry-12979"></a><a name="--index-entry-12983"></a><a name="--index-entry-12987"></a><a name="--index-entry-12991"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(number? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(complex? obj)</font></strong></code><br /><code><strong><font color="IndianRed">(real? obj)</font></strong></code><br /><code><strong><font color="IndianRed">(rational? obj)</font></strong></code><br /><code><strong><font color="IndianRed">(integer? obj)</font></strong></code><br /><br />These numerical type predicates can be applied to any kind of
argument, including non-numbers. They return <code>#t</code> if the object is of
the named type, and otherwise they return <code>#f</code>. In general, if a type
predicate is true of a number then all higher type predicates are
also true of that number. Consequently, if a type predicate is
false of a number, then all lower type predicates are also false of
that number.

If <code>z</code> is an inexact complex number, then <code>(real? z)</code> is true if and
only if <code>(zero? (imag-part z))</code> is true. If <code>x</code> is an inexact real
number, then <code>(integer? x)</code> is true if and only if
<code>(and (finite? x) (= x (round x)))</code>


<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>  (complex? 3+4i)         &#8658;  #t
  (complex? 3)            &#8658;  #t
  (real? 3)               &#8658;  #t
  (real? -2.5+0.0i)       &#8658;  #t
  (real? #e1e10)          &#8658;  #t
  (rational? 6/10)        &#8658;  #t
  (rational? 6/3)         &#8658;  #t
  (integer? 3+0i)         &#8658;  #t
  (integer? 3.0)          &#8658;  #t
  (integer? 3.2)          &#8658;  #f
  (integer? 8/4)          &#8658;  #t
  (integer? <span class="source-string">&quot;no&quot;</span>)         &#8658;  #f
  (complex? +inf.0)       &#8658;  #t
  (real? -inf.0)          &#8658;  #t
  (rational? +inf.0)      &#8658;  #f
  (integer? -inf.0)       &#8658;  #f
</pre></td></tr>
</tbody></table></blockquote>

</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="inexact-"></a><a name="exact-"></a><a name="--index-entry-13173"></a><a name="--index-entry-13177"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(exact? z)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(inexact? z)</font></strong></code><br /><br />These numerical predicates provide tests for the exactness of a
quantity. For any Scheme number, precisely one of these predicates
is true.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="inexact"></a><a name="exact"></a><a name="--index-entry-13202"></a><a name="--index-entry-13206"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(inexact z)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(exact z)</font></strong></code><br /><br />These <span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedures correspond to the <span style="font-variant: small-caps">R<sup>5</sup>RS</span> <code>exact-&gt;inexact</code>
and <code>inexact-&gt;exact</code> procedure respectively</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="exact-integer-"></a><a name="--index-entry-13250"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(exact-&gt;integer? z)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns  #t if z is both exact and an integer; otherwise returns #f.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(exact-integer? 32)   &#8658; #t
(exact-integer? 32.0) &#8658; #f
(exact-integer? 32/5) &#8658; #f
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="bignum-"></a><a name="--index-entry-13295"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(bignum? x)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This predicates returns <code>#t</code> if <code>x</code> is an integer number too large to be
represented with a native integer.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(bignum? (expt 2 300))     &#8658; <code>#t</code>   (very likely)
(bignum? 12)               &#8658; <code>#f</code>
(bignum? <span class="source-string">&quot;no&quot;</span>)             &#8658; <code>#f</code>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="--"></a><a name="--"></a><a name="-"></a><a name="-"></a><a name="-"></a><a name="--index-entry-13369"></a><a name="--index-entry-13373"></a><a name="--index-entry-13377"></a><a name="--index-entry-13381"></a><a name="--index-entry-13385"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(= z1 z2 z3 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(&lt; x1 x2 x3 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(&gt; x1 x2 x3 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(&lt;= x1 x2 x3 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(&gt;= x1 x2 x3 ...)</font></strong></code><br /><br />These procedures return <code>#t</code> if their arguments are (respectively):
equal, monotonically increasing, monotonically decreasing,
monotonically nondecreasing, or monotonically nonincreasing.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(= +inf.0 +inf.0)           &#8658;  #t
(= -inf.0 +inf.0)           &#8658;  #f
(= -inf.0 -inf.0)           &#8658;  #t
<br /><br />
For any finite real number <span class="source-key">x:</span>
<br /><br />
(&lt; -inf.0 x +inf.0)         &#8658;  #t
(&gt; +inf.0 x -inf.0)         &#8658;  #t
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="even-"></a><a name="odd-"></a><a name="negative-"></a><a name="positive-"></a><a name="zero-"></a><a name="infinite-"></a><a name="finite-"></a><a name="--index-entry-13481"></a><a name="--index-entry-13485"></a><a name="--index-entry-13489"></a><a name="--index-entry-13493"></a><a name="--index-entry-13497"></a><a name="--index-entry-13501"></a><a name="--index-entry-13505"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(finite? z)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(infinite? z)</font></strong></code><br /><code><strong><font color="IndianRed">(zero? z)</font></strong></code><br /><code><strong><font color="IndianRed">(positive? x)</font></strong></code><br /><code><strong><font color="IndianRed">(negative? x)</font></strong></code><br /><code><strong><font color="IndianRed">(odd? n)</font></strong></code><br /><code><strong><font color="IndianRed">(even? n)</font></strong></code><br /><br />These numerical predicates test a number for a particular property,
returning <code>#t</code> or <code>#f</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(positive? +inf.0)          =&#8658;  #t
(negative? -inf.0)          =&#8658;  #t
(finite? -inf.0)            =&#8658;  #f
(infinite? +inf.0)          =&#8658;  #t
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="nan-"></a><a name="--index-entry-13590"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(nan? z)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />The <code>nan?</code> procedure returns #t on <code>+nan.0</code>, and on complex
numbers if their real or imaginary parts or both are <code>+nan.0</code>.
Otherwise it returns #f.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(nan? +nan.0)          &#8658;  #t
(nan? 32)              &#8658;  #f
(nan? +nan.0+5.0i)     &#8658;  #t
(nan? 1+2i)            &#8658;  #f
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="min"></a><a name="max"></a><a name="--index-entry-13657"></a><a name="--index-entry-13661"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(max x1 x2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(min x1 x2 ...)</font></strong></code><br /><br />These procedures return the maximum or minimum of their arguments.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(max 3 4)              &#8658;  4    <span class="source-comment">; exact</span>
(max 3.9 4)            &#8658;  4.0  <span class="source-comment">; inexact</span>
</pre></td></tr>
</tbody></table></blockquote>

For any real number x:
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(max +inf.0 x)         &#8658;  +inf.0
(min -inf.0 x)         &#8658;  -inf.0
</pre></td></tr>
</tbody></table></blockquote>


<strong>Note:</strong> If any argument is inexact, then the result will also be
inexact</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="truncate-remainder"></a><a name="truncate-quotient"></a><a name="truncate-"></a><a name="floor-remainder"></a><a name="floor-quotient"></a><a name="floor-"></a><a name="--index-entry-13736"></a><a name="--index-entry-13740"></a><a name="--index-entry-13744"></a><a name="--index-entry-13748"></a><a name="--index-entry-13752"></a><a name="--index-entry-13756"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(floor/ n1 n2)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(floor-quotient n1 n2)</font></strong></code><br /><code><strong><font color="IndianRed">(floor-remainder n1 n2)</font></strong></code><br /><code><strong><font color="IndianRed">(truncate/ n1 n2)</font></strong></code><br /><code><strong><font color="IndianRed">(truncate-quotient n1 n2)</font></strong></code><br /><code><strong><font color="IndianRed">(truncate-remainder n1 n2)</font></strong></code><br /><br />These procedures implement number-theoretic (integer) division.  It is
an error if <code>n2</code> is zero. The procedures ending in '/' return two integers;
the other procedures return an integer.  All the procedures compute a
quotient <code>q</code> and remainder <code>r</code> such that <code>n1=n2*q+r</code>.

 See <span style="font-variant: small-caps">R<sup>7</sup>RS</span> for more information.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(floor/ 5 2)         &#8658; 2 1
(floor/ -5 2)        &#8658; -3 1
(floor/ 5 -2)        &#8658; -3 -1
(floor/ -5 -2)       &#8658; 2 -1
(truncate/ 5 2)      &#8658; 2 1
(truncate/ -5 2)     &#8658; -2 -1
(truncate/ 5 -2)     &#8658; -2 1
(truncate/ -5 -2)    &#8658; 2 -1
(truncate/ -5.0 -2)  &#8658; 2.0 -1.0%
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="-"></a><a name="-"></a><a name="--index-entry-13883"></a><a name="--index-entry-13887"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(+ z1 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(* z1 ...)</font></strong></code><br /><br />These procedures return the sum or product of their arguments.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(+ 3 4)                 &#8658;  7
(+ 3)                   &#8658;  3
(+)                     &#8658;  0
(+ +inf.0 +inf.0)       &#8658;  +inf.0
(+ +inf.0 -inf.0)       &#8658;  +nan.0
(* 4)                   &#8658;  4
(*)                     &#8658;  1
(* 5 +inf.0)            &#8658;  +inf.0
(* -5 +inf.0)           &#8658;  -inf.0
(* +inf.0 +inf.0)       &#8658;  +inf.0
(* +inf.0 -inf.0)       &#8658;  -inf.0
(* 0 +inf.0)            &#8658;  +nan.0
</pre></td></tr>
</tbody></table></blockquote>

<strong>Note:</strong> For any finite number z:
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(+ +inf.0 z)            &#8658;  +inf.0
(+ -inf.0 z)            &#8658;  -inf.0
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="-"></a><a name="-"></a><a name="--index-entry-14015"></a><a name="--index-entry-14019"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(- z)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(- z1 z2)</font></strong></code><br /><code><strong><font color="IndianRed">(/ z)</font></strong></code><br /><code><strong><font color="IndianRed">(/ z1 z2 ...)</font></strong></code><br /><br />With two or more arguments, these procedures return the difference or quotient
of their arguments, associating to the left. With one argument, however,
they return the additive or multiplicative inverse of their argument.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(- 3 4)                 &#8658;  -1
(- 3 4 5)               &#8658;  -6
(- 3)                   &#8658;  -3
(- +inf.0 +inf.0)       &#8658; +nan.0
(/ 3 4 5)               &#8658;  3/20
(/ 3)                   &#8658;  1/3
(/ 0.0)                 &#8658; +inf.0
(/ 0)                   &#8658; <span class="source-error">error</span> (division by 0)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="abs"></a><a name="--index-entry-14107"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(abs x)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>Abs</code> returns the absolute value of its argument.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(abs -7)                &#8658;  7
(abs -inf.0)            &#8658; +inf.0
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="modulo"></a><a name="remainder"></a><a name="quotient"></a><a name="--index-entry-14153"></a><a name="--index-entry-14157"></a><a name="--index-entry-14161"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(quotient n1 n2)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(remainder n1 n2)</font></strong></code><br /><code><strong><font color="IndianRed">(modulo n1 n2)</font></strong></code><br /><br />These procedures implement number-theoretic (integer) division. n2 should
be non-zero. All three procedures return integers.
<br /><br />
If <code>n1/n2</code> is an integer:

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(quotient n1 n2)   &#8658; n1/n2
(remainder n1 n2)  &#8658; 0
(modulo n1 n2)     &#8658; 0
</pre></td></tr>
</tbody></table></blockquote>


If n1/n2 is not an integer:

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(quotient n1 n2)   &#8658; nq
(remainder n1 n2)  &#8658; nr
(modulo n1 n2)     &#8658; nm
</pre></td></tr>
</tbody></table></blockquote>


where <code>nq</code> is <code>n1/n2</code> rounded towards zero, 0 &lt; abs(nr) &lt; abs(n2),
0 &lt; abs(nm) &lt; abs(n2), <code>nr</code> and <code>nm</code> differ from n1 by a multiple of n2,
<code>nr</code> has the same sign as n1, and <code>nm</code> has the same sign as n2.
<br /><br />
From this we can conclude that for integers <code>n1</code> and <code>n2</code> with <code>n2</code> not
equal to 0,
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre> (= n1 (+ (* n2 (quotient n1 n2))
          (remainder n1 n2)))   &#8658;  #t
</pre></td></tr>
</tbody></table></blockquote>

provided all numbers involved in that computation are exact.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(modulo 13 4)           &#8658;  1
(remainder 13 4)        &#8658;  1

(modulo -13 4)          &#8658;  3
(remainder -13 4)       &#8658;  -1

(modulo 13 -4)          &#8658;  -3
(remainder 13 -4)       &#8658;  1

(modulo -13 -4)         &#8658;  -1
(remainder -13 -4)      &#8658;  -1

(remainder -13 -4.0)    &#8658;  -1.0  <span class="source-comment">; inexact</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="lcm"></a><a name="gcd"></a><a name="--index-entry-14381"></a><a name="--index-entry-14385"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(gcd n1 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(lcm n1 ...)</font></strong></code><br /><br />These procedures return the greatest common divisor or least common
multiple of their arguments. The result is always non-negative.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(gcd 32 -36)            &#8658;  4
(gcd)                   &#8658;  0
(lcm 32 -36)            &#8658;  288
(lcm 32.0 -36)          &#8658;  288.0  <span class="source-comment">; inexact</span>
(lcm)                   &#8658;  1
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="denominator"></a><a name="numerator"></a><a name="--index-entry-14448"></a><a name="--index-entry-14452"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(numerator q)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(denominator q)</font></strong></code><br /><br />These procedures return the numerator or denominator of their argument; the
result is computed as if the argument was represented as a fraction in
lowest terms. The denominator is always positive. The denominator of
0 is defined to be 1.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(numerator (/ 6 4))  &#8658;  3
(denominator (/ 6 4))  &#8658;  2
(denominator
(exact-&gt;inexact (/ 6 4))) &#8658; 2.0
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="round"></a><a name="truncate"></a><a name="ceiling"></a><a name="floor"></a><a name="--index-entry-14505"></a><a name="--index-entry-14509"></a><a name="--index-entry-14513"></a><a name="--index-entry-14517"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(floor x)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(ceiling x)</font></strong></code><br /><code><strong><font color="IndianRed">(truncate x)</font></strong></code><br /><code><strong><font color="IndianRed">(round x)</font></strong></code><br /><br />These procedures return integers. <code>Floor</code> returns the largest integer not
larger than <code>x</code>. <code>Ceiling</code> returns the smallest integer not smaller than <code>x</code>.
<code>Truncate</code> returns the integer closest to <code>x</code> whose absolute value is not
larger than the absolute value of <code>x</code>. <code>Round</code> returns the closest integer
to <code>x</code>, rounding to even when <code>x</code> is halfway between two integers.
<br /><br />
<strong>Rationale:</strong> <code>Round</code> rounds to even for consistency with the default
rounding mode specified by the IEEE floating point standard.
<br /><br />
<strong>Note:</strong> If the argument to one of these procedures is inexact, then the
result will also be inexact. If an exact value is needed, the result should
be passed to the <code>inexact-&gt;exact</code> procedure.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(floor -4.3)          &#8658;  -5.0
(ceiling -4.3)        &#8658;  -4.0
(truncate -4.3)       &#8658;  -4.0
(round -4.3)          &#8658;  -4.0

(floor 3.5)           &#8658;  3.0
(ceiling 3.5)         &#8658;  4.0
(truncate 3.5)        &#8658;  3.0
(round 3.5)           &#8658;  4.0  <span class="source-comment">; inexact</span>

(round 7/2)           &#8658;  4    <span class="source-comment">; exact</span>
(round 7)             &#8658;  7
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="rationalize"></a><a name="--index-entry-14696"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(rationalize x y)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Rationalize returns the simplest rational number differing from <code>x</code>
by no more than <code>y</code>. A rational number <code>r1</code> is simpler than another
rational number <code>r2</code> if <code>r1</code> = <code>p1/q1</code> and <code>r2</code> = <code>p2/q2</code> (in lowest
terms) and abs(p1) &lt;= abs(p2) and abs(q1) &lt;= abs(q2). Thus <code>3/5</code> is
simpler than <code>4/7</code>. Although not all rationals are comparable in
this ordering  (consider <code>2/7</code> and <code>3/5</code>) any interval contains a
rational number that
is simpler than every other rational number in that interval (the
simpler <code>2/5</code> lies between <code>2/7</code> and <code>3/5</code>). Note that <code>0</code> = <code>0/1</code> is the
simplest rational of all.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(rationalize
   (inexact-&gt;exact .3) 1/10)  &#8658; 1/3    <span class="source-comment">; exact</span>
(rationalize .3 1/10)         &#8658; #i1/3  <span class="source-comment">; inexact</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="atan"></a><a name="acos"></a><a name="asin"></a><a name="tan"></a><a name="cos"></a><a name="sin"></a><a name="log"></a><a name="exp"></a><a name="--index-entry-14830"></a><a name="--index-entry-14834"></a><a name="--index-entry-14838"></a><a name="--index-entry-14842"></a><a name="--index-entry-14846"></a><a name="--index-entry-14850"></a><a name="--index-entry-14854"></a><a name="--index-entry-14858"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(exp z)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(log z)</font></strong></code><br /><code><strong><font color="IndianRed">(log z b)</font></strong></code><br /><code><strong><font color="IndianRed">(sin z)</font></strong></code><br /><code><strong><font color="IndianRed">(cos z)</font></strong></code><br /><code><strong><font color="IndianRed">(tan z)</font></strong></code><br /><code><strong><font color="IndianRed">(asin z)</font></strong></code><br /><code><strong><font color="IndianRed">(acos z)</font></strong></code><br /><code><strong><font color="IndianRed">(atan z)</font></strong></code><br /><code><strong><font color="IndianRed">(atan y x)</font></strong></code><br /><br />These procedures compute the usual transcendental functions. <code>Log</code> computes the
natural logarithm of z (not the base ten logarithm). <code>Asin</code>, <code>acos</code>,
and <code>atan</code> compute arcsine, arccosine, and  arctangent, respectively.
The two-argument variant of <code>log</code> computes the logarithm of x in base b as
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(/ (log x) (log b))
</pre></td></tr>
</tbody></table></blockquote>

The two-argument variant of <code>atan</code> computes
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(angle (make-rectangular x y))
</pre></td></tr>
</tbody></table></blockquote>


When it is possible these procedures produce a real result from a real
argument.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="sqrt"></a><a name="--index-entry-14962"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(sqrt z)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the principal square root of <code>z</code>. The result will have either
positive real part, or zero real part and non-negative imaginary part.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="square"></a><a name="--index-entry-14987"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(square z)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the square of <code>z</code>. This is equivalent to <code>(* z z)</code>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(square 42)     &#8658; 1764
(square 2.0)    &#8658; 4.0
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="exact-integer-sqrt"></a><a name="--index-entry-15036"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(exact-integer-sqrt k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns two non negatives integers <code>s</code> and <code>r</code> where
<code>k=s**2+r</code> and <code>k&lt;(s+1)**2</code>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(exact-integer-sqrt 4)     &#8658; 2 0
(exact-integer-sqrt 5)     &#8658; 2 1
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="expt"></a><a name="--index-entry-15095"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(expt z1 z2)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>z1</code> raised to the power <code>z2</code>.
<br /><br />
<strong>Note:</strong> <code>0<sup>z</sup></code> is 1 if <code>z = 0</code> and <code>0</code> otherwise.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="angle"></a><a name="magnitude"></a><a name="imag-part"></a><a name="real-part"></a><a name="make-polar"></a><a name="make-rectangular"></a><a name="--index-entry-15156"></a><a name="--index-entry-15160"></a><a name="--index-entry-15164"></a><a name="--index-entry-15168"></a><a name="--index-entry-15172"></a><a name="--index-entry-15176"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(make-rectangular x1 x2)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(make-polar x3 x)</font></strong></code><br /><code><strong><font color="IndianRed">(real-part z)</font></strong></code><br /><code><strong><font color="IndianRed">(imag-part z)</font></strong></code><br /><code><strong><font color="IndianRed">(magnitude z)</font></strong></code><br /><code><strong><font color="IndianRed">(angle z)</font></strong></code><br /><br />If x1, x2, x3, and x4 are real numbers and z is a complex number such that
<br /><br />
<code>z = x1 + x2.i = x3 . e<sup>i.x4</sup></code>
<br /><br />
Then
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(make-rectangular x1 x2)       &#8658; z
(make-polar x3 x4)             &#8658; z
(real-part z)                  &#8658; x1
(imag-part z)                  &#8658; x2
(magnitude z)                  &#8658; abs(x3)
(angle z)                      &#8658; xa
</pre></td></tr>
</tbody></table></blockquote>

where
<code>-&#960; &lt; xa &lt;= &#960;</code> with <code>xa = x4 + 2&#960;n</code>
for some integer n.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(angle +inf.0)                 &#8658; 0.0
(angle -inf.0)                 &#8658; 3.14159265358979
</pre></td></tr>
</tbody></table></blockquote>

<br /><br />
<strong>Note:</strong> <code>Magnitude</code> is the same as <code>abs</code> for a real argument.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="inexact--exact"></a><a name="exact--inexact"></a><a name="--index-entry-15339"></a><a name="--index-entry-15343"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(exact-&gt;inexact z)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(inexact-&gt;exact z)</font></strong></code><br /><br /><code>Exact-&gt;inexact</code> returns an inexact representation of z.
The value returned is the inexact number that is numerically closest to
the argument.
<code>Inexact-&gt;exact</code> returns an exact representation of z.
The value returned is the exact number that is numerically closest to
the argument.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="number--string"></a><a name="--index-entry-15377"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(number-&gt;string z)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(number-&gt;string z radix)</font></strong></code><br /><br /><code>Radix</code> must be an exact integer, either 2, 8, 10, or 16. If omitted, radix
defaults to 10. The procedure <code>number-&gt;string</code> takes a number and a radix
and returns as a string an external representation of the given number in
the given radix such that
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((number number)
      (radix radix))
  (eqv? number
       (string-&gt;number (number-&gt;string number radix) radix)))
</pre></td></tr>
</tbody></table></blockquote>

is true. It is an error if no possible result makes this expression true.
<br /><br />
If <code>z</code> is inexact, the radix is 10, and the above expression can be
satisfied by a result that contains a decimal point, then the result
contains a decimal point and is expressed using the minimum number of digits
(exclusive of exponent and trailing zeroes) needed to make the above expression
true; otherwise the format of the result is unspecified.
<br /><br />
The result returned by <code>number-&gt;string</code> never contains an explicit radix
prefix.
<br /><br />
<strong>Note:</strong> The error case can occur only when <code>z</code> is not a complex number or
is a complex number with a non-rational real or imaginary part.
<br /><br />
<strong>Rationale:</strong> If <code>z</code> is an inexact number represented using flonums, and
the radix is 10, then the above expression is normally satisfied by a result
containing a decimal point. The unspecified case allows for infinities,
NaNs, and non-flonum representations.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string--number"></a><a name="--index-entry-15468"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-&gt;number string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string-&gt;number string radix)</font></strong></code><br /><br />Returns a number of the maximally precise representation expressed by the
given <code>string</code>. <code>Radix</code> must be an exact integer, either 2, 8, 10, or 16.
If supplied, <code>radix</code> is a default radix that may be overridden by an explicit
radix prefix in <code>string</code> (e.g. <code>&quot;#o177&quot;</code>). If <code>radix</code> is not
 supplied, then
the default radix is 10. If <code>string</code> is not a syntactically valid notation
for a number, then <code>string-&gt;number</code> returns <code>#f</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(string-&gt;number <span class="source-string">&quot;100&quot;</span>)        &#8658;  100
(string-&gt;number <span class="source-string">&quot;100&quot;</span> 16)     &#8658;  256
(string-&gt;number <span class="source-string">&quot;1e2&quot;</span>)        &#8658;  100.0
(string-&gt;number <span class="source-string">&quot;15##&quot;</span>)       &#8658;  1500.0
(string-&gt;number <span class="source-string">&quot;+inf.0&quot;</span>)     &#8658;  +inf.0
(string-&gt;number <span class="source-string">&quot;-inf.0&quot;</span>)     &#8658;  -inf.0
</pre></td></tr>
</tbody></table></blockquote>

</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="bit-shift"></a><a name="bit-not"></a><a name="bit-xor"></a><a name="bit-or"></a><a name="bit-and"></a><a name="--index-entry-15590"></a><a name="--index-entry-15594"></a><a name="--index-entry-15598"></a><a name="--index-entry-15602"></a><a name="--index-entry-15606"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(bit-and n1 n2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(bit-or n1 n2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(bit-xor n1 n2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(bit-not n)</font></strong></code><br /><code><strong><font color="IndianRed">(bit-shift n m)</font></strong></code><br /><br />These procedures allow the manipulation of integers as bit fields.
The integers can be of arbitrary length. <code>Bit-and</code>, <code>bit-or</code> and
<code>bit-xor</code> respectively compute the bitwise <em>and</em>, inclusive and
exclusive <em>or</em>. <code>bit-not</code> eturns the bitwise <em>not</em> of <code>n</code>.
<code>bit-shift</code> returns the bitwise <em>shift</em> of <code>n</code>. The integer <code>n</code>
is shifted left by <code>m</code> bits; If <code>m</code> is negative, <code>n</code> is shifted right by
<code>-m</code> bits.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(bit-or 5 3)       &#8658; 7
(bit-xor 5 3)      &#8658; 6
(bit-and 5 3)      &#8658; 1
(bit-not 5)        &#8658; -6
(bit-or 1 2 4 8)   &#8658; 15
(bit-shift 5 3)    &#8658; 40
(bit-shift 5 -1)   &#8658; 2
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="random-integer"></a><a name="--index-entry-15766"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(random-integer n)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return an integer in the range [0, ..., <code>n</code>[.  Subsequent results of
this procedure appear to be independent uniformly distributed over
the range [0, ..., <code>n</code>[. The argument <code>n</code> must be a positive integer,
otherwise an error is signaled. This function is equivalent to the eponym
function of SRFI-27 (see  <strong><a  class="http" href="http://srfi.schemers.org/srfi-27/srfi-27.html">SRFI-27</a></strong>
      (<em>Source of random bits</em>) definition for more details).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="random-real"></a><a name="--index-entry-15807"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(random-real)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return a real number <code>r</code> such that <code>0 &lt; r &lt; 1</code>.
Subsequent results of this procedure appear to be independent uniformly
distributed. This function is equivalent to the eponym
function of SRFI-27 (see  <strong><a  class="http" href="http://srfi.schemers.org/srfi-27/srfi-27.html">SRFI-27</a></strong>
      (<em>Source of random bits</em>) definition for more details).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="decode-float"></a><a name="--index-entry-15843"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(decode-float n)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>decode-float</code> returns three exact integers: <code>significand</code>, <code>exponent</code>
and <code>sign</code> (where <code>-1 &lt;= sign &lt;= 1</code>). The values returned by <code>decode-float</code>
satisfy:
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>n = (* sign significand (expt 2 exponent))
</pre></td></tr>
</tbody></table></blockquote>

Here is an example of <code>decode-float</code> usage.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(receive l (decode-float -1.234) l)
                    &#8658; (5557441940175192 -52 -1)
(exact-&gt;inexact (* -1
                    5557441940175192
                    (expt 2 -52)))
                    &#8658; -1.234
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><div class="subsectiondiv"><div class="subsectiontitle"><a name="Fixnums"></a>
<h4 id="Fixnums">4.2.1 Fixnums</h4>
</div>
<div class="subsectionbody"><a name="--index-entry-15927"></a><p><span style="font-variant: small-caps">STklos</span> defines small integers as fixnums. Operations on fixnums
are generally faster than operations which accept general numbers.
Fixnums operations, as described below, may produce results which are incorrect
if some temporary computation falls outside the range of fixnum. These
functions should be used only when speed really matters.</p><p>The functions defined in this section are conform to the ones defined in
 <strong><a  class="http" href="http://srfi.schemers.org/srfi-143/srfi-143.html">SRFI-143</a></strong>
      (<em>Fixnums</em>)</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fixnum-"></a><a name="--index-entry-15940"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fixnum? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if obj is an exact integer within the fixnum range,
<code>#f</code> otherwise.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fixnum-width"></a><a name="--index-entry-15969"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fixnum-width)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the number of bits used to represent a fixnum number</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="greatest-fixnum"></a><a name="least-fixnum"></a><a name="--index-entry-15989"></a><a name="--index-entry-15993"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(least-fixnum)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(greatest-fixnum)</font></strong></code><br /><br />These procedures return the minimum value and the maximum value of
the fixnum range.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxzero-"></a><a name="--index-entry-16016"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxzero? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>fxzero?</code> returns <code>#t</code> if <code>obj</code> is the fixnum zero and returns
<code>#f</code> if it is a non-zero fixnum.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>  (fxzero? #f)             &#8658;  <span class="source-error">error</span>
  (fxzero? (expt 100 100)) &#8658;  <span class="source-error">error</span>
  (fxzero? 0)              &#8658;  #t
  (fxzero? 1)              &#8658;  #f
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxnegative-"></a><a name="fxpositive-"></a><a name="--index-entry-16089"></a><a name="--index-entry-16093"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxpositive? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(fxnegative? obj)</font></strong></code><br /><br /><code>fxpositive?</code> returns <code>#t</code> if <code>obj</code> is a positive fixnum and returns
<code>#f</code> if it is a non-positive fixnum. <code>fxnegative?</code> can be used to test
if a fixnum is negative.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>  (fxpositive? #f)             &#8658;  <span class="source-error">error</span>
  (fxpositive? (expt 100 100)) &#8658;  <span class="source-error">error</span>
  (fxpositive? 0)              &#8658;  #f
  (fxpositive? 1)              &#8658;  #t
  (fxpositive? -1)             &#8658;  #f
  (fxnegative? 0)              &#8658;  #f
  (fxnegative? 1)              &#8658;  #f
  (fxnegative? -1)             &#8658;  #t
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxeven-"></a><a name="fxodd-"></a><a name="--index-entry-16199"></a><a name="--index-entry-16203"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxodd? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>fxodd?</code> returns <code>#t</code> if <code>obj</code> is a odd fixnum and returns
<code>#f</code> if it is an even fixnum.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>  (fxodd? #f)             &#8658;  <span class="source-error">error</span>
  (fxodd? (expt 100 100)) &#8658;  <span class="source-error">error</span>
  (fxodd? 0)              &#8658;  #f
  (fxodd? 1)              &#8658;  #t
  (fxodd? 4)              &#8658;  #f
  (fxeven? 0)             &#8658;  #t
  (fxeven? 1)             &#8658;  #f
  (fxeven? 4)             &#8658;  #t
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxneg"></a><a name="fxabs"></a><a name="fxmodulo"></a><a name="fxremainder"></a><a name="fxquotient"></a><a name="fx-"></a><a name="fx-"></a><a name="fx-"></a><a name="--index-entry-16306"></a><a name="--index-entry-16310"></a><a name="--index-entry-16314"></a><a name="--index-entry-16318"></a><a name="--index-entry-16322"></a><a name="--index-entry-16326"></a><a name="--index-entry-16330"></a><a name="--index-entry-16334"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fx+ fx1 fx2)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(fx- fx1 fx2)</font></strong></code><br /><code><strong><font color="IndianRed">(fx* fx1 fx2)</font></strong></code><br /><code><strong><font color="IndianRed">(fxquotient fx1 fx2)</font></strong></code><br /><code><strong><font color="IndianRed">(fxremainder fx1 fx2)</font></strong></code><br /><code><strong><font color="IndianRed">(fxmodulo fx1 fx2)</font></strong></code><br /><code><strong><font color="IndianRed">(fxabs fx)</font></strong></code><br /><code><strong><font color="IndianRed">(fxneg fx)</font></strong></code><br /><br />These procedures compute (respectively) the sum, the difference, the product,
the quotient and the remainder and modulo of the fixnums <code>fx1</code> and <code>fx2</code>.
The call of  <code>fx-</code> with one parameter <code>fx</code> computes the opposite of <code>fx</code>, and
is equivalent in a call of <code>fxneg</code> with this parameter. <code>fxabs</code>
computes the absolute value of <code>fx</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxsqrt"></a><a name="fxsquare"></a><a name="--index-entry-16422"></a><a name="--index-entry-16426"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxsquare fx1)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(fxsqrt fx1)</font></strong></code><br /><br />These procedures compute (respectively) the square and the square root
of the fixnum <code>fx1</code>.
<code>fxsqrt</code> id semantically equivalent to exact-integer-sqrt (not sqrt), so
that <code>(fxsqrt n)</code> returns two values <code>a</code>, <code>b</code>, such that <code>a*a+b</code>=<code>n</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>  (fxsqrt #f)             &#8658;  <span class="source-error">error</span>
  (fxdqrt (expt 100 100)) &#8658;  <span class="source-error">error</span>
  (fxsqrt -1)             &#8658;  <span class="source-error">error</span>
  (fxsqrt 0)              &#8658;  0, 0
  (fxsqrt 1)              &#8658;  1, 0
  (fxsqrt 6)              &#8658;  2, 2
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxmin"></a><a name="fxmax"></a><a name="--index-entry-16531"></a><a name="--index-entry-16535"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxmax fx1 fx2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(fxmin fx1 fx2 ...)</font></strong></code><br /><br />These procedures return the maximum or minimum of their fixnum arguments.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(fxmax 3 4)              &#8658;  4
(fxmax 3.9 4)            &#8658;  <span class="source-error">error</span>
(fxmax)                  &#8658;  <span class="source-error">error</span>
(fxmax 2 -1 3)           &#8658;  3
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fx--"></a><a name="fx---"></a><a name="fx--"></a><a name="fx---"></a><a name="fx--"></a><a name="--index-entry-16595"></a><a name="--index-entry-16599"></a><a name="--index-entry-16603"></a><a name="--index-entry-16607"></a><a name="--index-entry-16611"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fx&lt;? fx1 fx2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(fx&lt;=? fx1 fx2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(fx&gt;? fx1 fx2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(fx&gt;=? fx1 fx2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(fx=? fx1 fx2 ...)</font></strong></code><br /><br />These are SRFI-143 procedures that compare the fixnums <code>fx1</code>, <code>fx2</code>, and so on.
<code>fx&lt;?</code> and <code>fx&gt;?</code> return <code>#t</code> if the arguments are in strictly
increasing/decreasing order;
<code>fx&lt;=?</code> and <code>fx&gt;=?</code> do the same, but admit equal neighbors;
<code>fx=?</code> returns <code>#t</code> if the arguments are all equal.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxxor"></a><a name="fxior"></a><a name="fxand"></a><a name="fxnot"></a><a name="--index-entry-16694"></a><a name="--index-entry-16698"></a><a name="--index-entry-16702"></a><a name="--index-entry-16706"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxnot fx1)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(fxand fx ...)</font></strong></code><br /><code><strong><font color="IndianRed">(fxior fx ...)</font></strong></code><br /><code><strong><font color="IndianRed">(fxxor fx ...)</font></strong></code><br /><br />These procedures are specified in SRFI-143, and they return
(respectively) the bitwise not, and, inclusive or and exclusive
or of their arguments, which must be fixnums.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(fxnot 1)              &#8658; -2
(fxnot 0)              &#8658; -1
(fxand #x1010 #x1011)  &#8658; 4112  <span class="source-comment">; = #x1010</span>
(fxior #x1010 #x1011)  &#8658; 4113  <span class="source-comment">; = #x1011</span>
(fxxor #x1010 #x1011)  &#8658; 1     <span class="source-comment">; = #x0001</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxarithmetic-shift"></a><a name="fxarithmetic-shift-left"></a><a name="fxarithmetic-shift-right"></a><a name="--index-entry-16779"></a><a name="--index-entry-16783"></a><a name="--index-entry-16787"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxarithmetic-shift-right fx count)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(fxarithmetic-shift-left fx count)</font></strong></code><br /><code><strong><font color="IndianRed">(fxarithmetic-shift fx count)</font></strong></code><br /><br />These procedures are specified in SRFI-143, and they perform
bitwise right-shift, left-shft and shift with arbitrary direction
on fixnums. The strictly left and right shifts are more efficient.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(fxarithmetic-shift-right #b100110 3) &#8658;   4 <span class="source-comment">; = #b100</span>
(fxarithmetic-shift-left  #b100110 3) &#8658; 304 <span class="source-comment">; = #b100110000</span>
(fxarithmetic-shift #b101 2)          &#8658; 20  <span class="source-comment">; = #b10100</span>
(fxarithmetic-shift #b101 -2)         &#8658;  1  <span class="source-comment">; =#b1</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxlength"></a><a name="--index-entry-16849"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxlength fx)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This is a SRFI-143 procedure that returns the length of the fixnum in
bits (that is, the number of bits necessary to represent the number).
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(fxlength #b101)          &#8658;  3
(fxlength #b1101)         &#8658;  4
(fxlength #b0101)         &#8658;  3
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxif"></a><a name="--index-entry-16893"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxif mask fx1 fx2)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This is a SRFI-143 procedure that merge the fixnum bitstrings <code>fx1</code> and <code>fx2</code>, with
bitstring  mask determining from which string to take each bit. That is, if the kth bit
of mask is 1, then the kth bit of the result is the kth bit of <code>fx1</code>, otherwise the kth
bit of <code>fx2</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(fxif 3 1 8)                            &#8658; 9
(fxif 3 8 1)                            &#8658; 0
(fxif 1 1 2)                            &#8658; 3
(fxif #b00111100 #b11110000 #b00001111) &#8658; #b00110011
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxbit-set-"></a><a name="--index-entry-16963"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxbit-set? index fx)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This is a SRFI-143 procedure that returns <code>#t</code> if the <code>index</code>-th bit of
<code>fx</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(fxbit-set? 1 3)          &#8658; #t
(fxbit-set? 2 7)          &#8658; #t
(fxbit-set? 3 6)          &#8658; #f
(fxbit-set? 5 #b00111100) &#8658; #t
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxcopy-bit"></a><a name="--index-entry-17028"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxcopy-bit index fx value)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This is a SRFI-143 procedure that sets the <code>index</code>-th bit if <code>fx</code>
to one if <code>value</code> is <code>#t</code>, and to zero if <code>value</code> is <code>#f</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(fxcopy-bit 2 3 #t)          &#8658;  7
(fxcopy-bit 2 7 #f)          &#8658;  3
(fxcopy-bit 5 #b00111100 #f) &#8658; 28 <span class="source-comment">; = #b00011100</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxbit-count"></a><a name="--index-entry-17103"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxbit-count fx1)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This is a SRFI-143 procedure that returns the quantity of bits equal to one in
the fixnum <code>fx</code> (that is, computes its Hamming weight).
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(fxbit-count 8)                         &#8658; 1
(fxbit-count 3)                         &#8658; 2
(fxbit-count 7)                         &#8658; 3
(fxbit-count #b00111010)                &#8658; 4
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxfirst-set-bit"></a><a name="--index-entry-17158"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxfirst-set-bit fx1)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This is a SRFI-143 procedure that returns the index of the first (smallest index)
1 bit in bitstring <code>fx</code>. Returns -1 if <code>fx</code> contains no 1 bits (i.e., if <code>fx</code>
is zero).
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(fxfirst-set-bit  8)                         &#8658; 3
(fxfirst-set-bit  3)                         &#8658; 0
(fxfirst-set-bit  7)                         &#8658; 0
(fxfirst-set-bit  #b10110000)                &#8658; 4
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxbit-field"></a><a name="--index-entry-17223"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxbit-field fx1 start end)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This is a SRFI-143 procedure that extracts a bit field from the fixnum <code>fx1</code>.
The bit field is the sequence of bits between <code>start</code> (including) and <code>end</code>
(excluding)
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(fxbit-field  #b10110000 3 5)  &#8658; 6 <span class="source-comment">; = #b110</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxbit-field-rotate"></a><a name="--index-entry-17271"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxbit-field-rotate fx)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This is a SRFI-143 procedure that returns fx with the field cyclically permuted
by count bits towards high-order.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(fxbit-field-rotate #b101011100 -2 1 5)     &#8658; 342  = #b101010110
(fxbit-field-rotate #b101011011110 -3 2 10) &#8658; 3034 = #b101111011010
(fxbit-field-rotate #b101011011110 3 2 10)  &#8658; 2806 = #b101011110110
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fxbit-field-reverse"></a><a name="--index-entry-17315"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fxbit-field-reverse fx)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This is a SRFI-143 procedure that returns fx with the order of the bits in the
field reversed.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(fxbit-field-reverse #b101011100 1 5)     &#8658; #b101001110
(fxbit-field-reverse #b101011011110 2 10) &#8658; #b101110110110
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fx--carry"></a><a name="--index-entry-17353"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fx+/carry i j k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns two values: <code>i</code>+<code>j</code>+<code>k</code>, and carry: it is the value of the computation
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(let*-values (((s) (+ i j k))
              ((q r) (balanced/ s (expt 2 fx-width))))
  (values r q))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fx--carry"></a><a name="--index-entry-17397"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fx-/carry i j k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns two values: <code>i</code>-<code>j</code>-<code>k</code>, and carry: it is the value of the computation
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(let*-values (((s) (- i j k))
              ((q r) (balanced/ s (expt 2 fx-width))))
  (values r q))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fx--carry"></a><a name="--index-entry-17441"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fx*/carry i j k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns two values: <code>i</code>*<code>j</code>+<code>k</code>, and carry: it is the value of the computation
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(let*-values (((s) (+ (* i j) k))
              ((q r) (balanced/ s (expt 2 fx-width))))
  (values r q))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table></div></div></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Booleans"></a>
<h3 id="Booleans">4.3 Booleans</h3>
</div>
<div class="sectionbody"><a name="--index-entry-17489"></a><a name="--index-entry-17493"></a><a name="--index-entry-17497"></a><p>Of all the standard Scheme values, only <code>#f</code> counts as false in
conditional expressions.  Except for <code>#f</code>, all standard Scheme values,
including <code>#t</code>, pairs, the empty list, symbols, numbers, strings,
vectors, and procedures, count as true.</p><p>Boolean constants evaluate to themselves, so they do not need to be
quoted in programs.</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="not"></a><a name="--index-entry-17508"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(not obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Not returns <code>#t</code> if <code>obj</code> is false, and returns <code>#f</code> otherwise.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>  (not #t)         &#8658;  #f
  (not 3)          &#8658;  #f
  (not (list 3))   &#8658;  #f
  (not #f)         &#8658;  #t
  (not '())        &#8658;  #f
  (not (list))     &#8658;  #f
  (not 'nil)       &#8658;  #f
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="boolean-"></a><a name="--index-entry-17592"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(boolean? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>Boolean?</code> returns <code>#t</code> if <code>obj</code> is either <code>#t</code> or <code>#f</code> and returns
<code>#f</code> otherwise.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>  (boolean? #f)         &#8658;  #t
  (boolean? 0)          &#8658;  #f
  (boolean? '())        &#8658;  #f
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="boolean--"></a><a name="--index-entry-17667"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(boolean=? boolean1 boolean2  ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns #t if all the arguments are booleans and all are #t or all are #f.
</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Pairs-and-lists"></a>
<h3 id="Pairs-and-lists">4.4 Pairs and lists</h3>
</div>
<div class="sectionbody"><a name="--index-entry-17688"></a><a name="--index-entry-17692"></a><a name="lists"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="pair-"></a><a name="--index-entry-17699"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(pair? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>Pair?</code> returns <code>#t</code> if <code>obj</code> is a pair, and otherwise returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="cons"></a><a name="--index-entry-17739"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(cons obj1 obj2)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a newly allocated pair whose car is obj1 and whose cdr is obj2.
The pair is guaranteed to be different (in the sense of eqv?) from every
existing object.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>    (cons 'a '())           &#8658;  (a)
    (cons '(a) '(b c d))    &#8658;  ((a) b c d)
    (cons <span class="source-string">&quot;a&quot;</span> '(b c))       &#8658;  (<span class="source-string">&quot;a&quot;</span> b c)
    (cons 'a 3)             &#8658;  (a . 3)
    (cons '(a b) 'c)        &#8658;  ((a b) . c)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="car"></a><a name="--index-entry-17798"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(car pair)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the contents of the car field of pair.
Note that it is an error to take the <code>car</code> of the empty list.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>    (car '(a b c))          &#8658;  a
    (car '((a) b c d))      &#8658;  (a)
    (car '(1 . 2))          &#8658;  1
    (car '())               &#8658;  <span class="source-error">error</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="cdr"></a><a name="--index-entry-17855"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(cdr pair)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the contents of the cdr field of pair.
Note that it is an error to take the <code>cdr</code> of the empty list.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>    (cdr '((a) b c d))      &#8658;  (b c d)
    (cdr '(1 . 2))          &#8658;  2
    (cdr '())               &#8658;  <span class="source-error">error</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="set-car-"></a><a name="--index-entry-17906"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(set-car! pair obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Stores <code>obj</code> in the car field of <code>pair</code>.
The value returned by <code>set-car!</code> is <em>void</em>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (<span class="source-define">define</span> (f) (list 'not-a-constant-list))
   (<span class="source-define">define</span> (g) '(constant-list))
   (set-car! (f) 3)
   (set-car! (g) 3)             &#8658;  <span class="source-error">error</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="set-cdr-"></a><a name="--index-entry-17964"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(set-cdr! pair obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Stores <code>obj</code> in the cdr field of <code>pair</code>.
The value returned by <code>set-cdr!</code> is <em>void</em>.
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="cddddr"></a><a name="cadddr"></a><a name="cdaddr"></a><a name="caaddr"></a><a name="cddadr"></a><a name="cadadr"></a><a name="cdaadr"></a><a name="caaadr"></a><a name="cdddar"></a><a name="caddar"></a><a name="cdadar"></a><a name="caadar"></a><a name="cddaar"></a><a name="cadaar"></a><a name="cdaaar"></a><a name="caaaar"></a><a name="cdddr"></a><a name="caddr"></a><a name="cdadr"></a><a name="caadr"></a><a name="cddar"></a><a name="cadar"></a><a name="cdaar"></a><a name="caaar"></a><a name="cddr"></a><a name="cadr"></a><a name="cdar"></a><a name="caar"></a><a name="--index-entry-18030"></a><a name="--index-entry-18034"></a><a name="--index-entry-18038"></a><a name="--index-entry-18042"></a><a name="--index-entry-18046"></a><a name="--index-entry-18050"></a><a name="--index-entry-18054"></a><a name="--index-entry-18058"></a><a name="--index-entry-18062"></a><a name="--index-entry-18066"></a><a name="--index-entry-18070"></a><a name="--index-entry-18074"></a><a name="--index-entry-18078"></a><a name="--index-entry-18082"></a><a name="--index-entry-18086"></a><a name="--index-entry-18090"></a><a name="--index-entry-18094"></a><a name="--index-entry-18098"></a><a name="--index-entry-18102"></a><a name="--index-entry-18106"></a><a name="--index-entry-18110"></a><a name="--index-entry-18114"></a><a name="--index-entry-18118"></a><a name="--index-entry-18122"></a><a name="--index-entry-18126"></a><a name="--index-entry-18130"></a><a name="--index-entry-18134"></a><a name="--index-entry-18138"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(caar pair)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(cadr pair)</font></strong></code><br /><code><strong><font color="IndianRed">...</font></strong></code><br /><code><strong><font color="IndianRed">(cdddar pair)</font></strong></code><br /><code><strong><font color="IndianRed">(cddddr pair)</font></strong></code><br /><br />These procedures are compositions of <code>car</code> and <code>cdr</code>, where for example
<code>caddr</code> could be defined by
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (<span class="source-define">define</span> caddr (<strong>lambda</strong> (x) (car (cdr (cdr x)))))
</pre></td></tr>
</tbody></table></blockquote>

Arbitrary compositions, up to four deep, are provided.
There are twenty-eight of these procedures in all.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="null-"></a><a name="--index-entry-18200"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(null? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is the empty list, otherwise returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="pair-mutable-"></a><a name="--index-entry-18235"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(pair-mutable? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is a mutable pair, otherwise returns <code>#f</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(pair-mutable? '(1 . 2))    &#8658; #f
(pair-mutable? (cons 1 2))  &#8658; #t
(pair-mutable? 12)          &#8658; #f
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="list-"></a><a name="--index-entry-18294"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(list? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is a list, otherwise returns <code>#f</code>. By definition,
all lists have finite length and are terminated by the empty list.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (list? '(a b c))     &#8658;  #t
   (list? '())          &#8658;  #t
   (list? '(a . b))     &#8658;  #f
   (<strong>let</strong> ((x (list 'a)))
     (set-cdr! x x)
     (list? x))         &#8658;  #f
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="make-list"></a><a name="--index-entry-18363"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(make-list k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(make-list k fill)</font></strong></code><br /><br />Returns a newly allocated list of k elements. If a second
argument is given, then each element is initialized to fill .
Otherwise the initial contents of each element is unspecified.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="list"></a><a name="--index-entry-18387"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(list obj ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a newly allocated list of its arguments.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (list 'a (+ 3 4) 'c)            &#8658;  (a 7 c)
   (list)                          &#8658;  ()
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="list-"></a><a name="--index-entry-18426"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(list* obj ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>list*</code> is like <code>list</code> except that the last argument to <code>list*</code> is
used as the <em>cdr</em> of the last pair constructed.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (list* 1 2 3)        &#8658; (1 2 . 3)
   (list* 1 2 3 '(4 5)) &#8658; (1 2 3 4 5)
   (list*)              &#8658; ()
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="length"></a><a name="--index-entry-18489"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(length list)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the length of <code>list</code>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (length '(a b c))               &#8658;  3
   (length '(a (b) (c d e)))       &#8658;  3
   (length '())                    &#8658;  0
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="append"></a><a name="--index-entry-18539"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(append list ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a list consisting of the elements of the first list
followed by the elements of the other lists.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (append '(x) '(y))              &#8658;  (x y)
   (append '(a) '(b c d))          &#8658;  (a b c d)
   (append '(a (b)) '((c)))        &#8658;  (a (b) (c))
</pre></td></tr>
</tbody></table></blockquote>


The resulting list is always newly allocated, except that it shares
structure with the last list argument. The last argument may actually
be any object; an improper list results if the last argument is not a
proper list.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (append '(a b) '(c . d))        &#8658;  (a b c . d)
   (append '() 'a)                 &#8658;  a
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="append-"></a><a name="--index-entry-18604"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(append! list ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a list consisting of the elements of the first list
followed by the elements of the other lists.
Contrarily to <code>append</code>, the parameter lists (except the last one) are
physically modified: their last pair is changed to the value of the next
list in the <code>append!</code> formal parameter list.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let*</strong> ((l1 (list 1 2))
       (l2 (list 3))
       (l3 (list 4 5))
       (l4 (append! l1 l2 l3)))
  (list l1 l2 l3))  &#8658; ((1 2 3 4 5) (3 4 5) (4 5))
</pre></td></tr>
</tbody></table></blockquote>

An error is signaled if one of the given lists is a constant list.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="reverse"></a><a name="--index-entry-18652"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(reverse list)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a newly allocated list consisting of the elements of <code>list</code> in
reverse order.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (reverse '(a b c))              &#8658;  (c b a)
   (reverse '(a (b c) d (e (f))))  &#8658;  ((e (f)) d (b c) a)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="reverse-"></a><a name="--index-entry-18696"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(reverse! list)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a list consisting of the elements of <code>list</code> in reverse order.
Contrarily to <code>reverse</code>, the returned value is not newly allocated but
computed &quot;in place&quot;.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((l '(a b c)))
  (list (reverse! l) l))        &#8658;  ((c b a) (a))
(reverse! '(a constant list))   &#8658;  <span class="source-error">error</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="list-tail"></a><a name="--index-entry-18747"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(list-tail list k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the sublist of <code>list</code> obtained by omitting the first <code>k</code> elements.
It is an error if list has fewer than <code>k</code> elements. List-tail could
be defined by
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (<span class="source-define">define</span> list-tail
      (<strong>lambda</strong> (x k)
         (<strong>if</strong> (zero? k)
            x
            (list-tail (cdr x) (- k 1)))))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="last-pair"></a><a name="--index-entry-18797"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(last-pair list)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the last pair of <code>list</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(last-pair '(1 2 3))   &#8658; (3)
(last-pair '(1 2 . 3)) &#8658; (2 . 3)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="list-ref"></a><a name="--index-entry-18840"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(list-ref list k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the <code>k</code>th element of <code>list</code>. (This is the same as the car
of <code>(list-tail list k)</code>.) It is an error if list has fewer than <code>k</code>
elements.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (list-ref '(a b c d) 2)                 &#8658;  c
   (list-ref '(a b c d)
             (inexact-&gt;exact (round 1.8))) &#8658;  c
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="list-set-"></a><a name="--index-entry-18900"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(list-set! list k obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />The <code>list-set!</code> procedure stores <code>obj</code> in element <code>k</code> of <code>list</code>.
It is an error if <code>k</code> is not a valid index of <code>list</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((ls (list 'one 'two 'five!)))
   (list-set! ls 2 'three)
   ls)                              &#8658; (one two three)
(list-set! (0 1 2) 1 <span class="source-string">&quot;oops&quot;</span>)       &#8658; <span class="source-error">error</span> (constant list)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="member"></a><a name="memv"></a><a name="memq"></a><a name="--index-entry-18976"></a><a name="--index-entry-18980"></a><a name="--index-entry-18984"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(memq obj list)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span>/<span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(memv obj list)</font></strong></code><br /><code><strong><font color="IndianRed">(member obj list)</font></strong></code><br /><code><strong><font color="IndianRed">(member obj list compare)</font></strong></code><br /><br />These procedures return the first sublist of list whose car is <code>obj</code>,
where the sublists of list are the non-empty lists returned by
<code>(list-tail list k)</code> for <code>k</code> less than the length of list.
If <code>obj</code> does not occur in <code>list</code>, then <code>#f</code> (not the empty list) is
returned. <code>Memq</code> uses <code>eq?</code> to compare obj with the elements of list,
while <code>memv</code> uses <code>eqv?</code> and <code>member</code> uses <code>compare</code>, if given, and 
<code>equal?</code> otherwise.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (memq 'a '(a b c))              &#8658;  (a b c)
   (memq 'b '(a b c))              &#8658;  (b c)
   (memq 'a '(b c d))              &#8658;  #f
   (memq (list 'a) '(b (a) c))     &#8658;  #f
   (member (list 'a)
           '(b (a) c))             &#8658;  ((a) c)
   (member <span class="source-string">&quot;B&quot;</span>
           (<span class="source-string">&quot;a&quot;</span> <span class="source-string">&quot;b&quot;</span> <span class="source-string">&quot;c&quot;</span>)
           string-ci=?)            &#8658; (<span class="source-string">&quot;b&quot;</span> <span class="source-string">&quot;c&quot;</span>)
   (memv 101 '(100 101 102))       &#8658;  (101 102)
</pre></td></tr>
</tbody></table></blockquote>


<strong>Note:</strong> As in <span style="font-variant: small-caps">R<sup>7</sup>RS</span>, the <code>member</code> function accepts also a
comparison function.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="assoc"></a><a name="assv"></a><a name="assq"></a><a name="--index-entry-19158"></a><a name="--index-entry-19162"></a><a name="--index-entry-19166"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(assq obj alist)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span>/<span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(assv obj alist)</font></strong></code><br /><code><strong><font color="IndianRed">(assoc obj alist)</font></strong></code><br /><code><strong><font color="IndianRed">(assoc obj alist compare)</font></strong></code><br /><br /><code>Alist</code> (for &quot;association list&quot;) must be a list of pairs. These procedures
find the first pair in <code>alist</code> whose car field is <code>obj</code>, and returns that
pair. If no pair in <code>alist</code> has <code>obj</code> as its car, then <code>#f</code> (not the empty
list) is returned. <code>Assq</code> uses <code>eq?</code> to compare <code>obj</code> with the car fields
of the pairs in <code>alist</code>, while <code>assv</code> uses <code>eqv?</code> and <code>assoc</code> uses <code>equal?</code>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (<span class="source-define">define</span> e '((a 1) (b 2) (c 3)))
   (assq 'a e)                &#8658;  (a 1)
   (assq 'b e)                &#8658;  (b 2)
   (assq 'd e)                &#8658;  #f
   (assq (list 'a) '(((a)) ((b)) ((c))))
                              &#8658;  #f
   (assoc (list 'a) '(((a)) ((b)) ((c))))
                              &#8658; ((a))
   (assoc 2.0 '((1 1) (2 4) (3 9)) =)
                              &#8658; (2 4)
   (assv 5 '((2 3) (5 7) (11 13)))
                              &#8658;  (5 7)
</pre></td></tr>
</tbody></table></blockquote>


<strong>Rationale:</strong> Although they are ordinarily used as predicates,
<code>memq</code>, <code>memv</code>, <code>member</code>, <code>assq</code>, <code>assv</code>, and <code>assoc</code> do not have question
marks in their names because they return useful values rather than just
<code>#t</code> or #<code>f</code>.

<strong>Note:</strong> As in <span style="font-variant: small-caps">R<sup>7</sup>RS</span>, the <code>assoc</code> function accepts also a
comparison function.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="list-copy"></a><a name="--index-entry-19384"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(list-copy obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>list-copy</code> recursively copies trees of pairs. If <code>obj</code> is
not a pair, it is returned; otherwise the result is a new pair whose
<code>car</code> and <code>cdr</code> are obtained by calling <code>list-copy</code> on
the <code>car</code> and <code>cdr</code> of <code>obj</code>, respectively.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="filter-"></a><a name="filter"></a><a name="--index-entry-19445"></a><a name="--index-entry-19449"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(filter  pred list)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(filter! pred list)</font></strong></code><br /><br /><code>Filter</code> returns all the elements of <code>list</code> that satisfy predicate
<code>pred</code>. The <code>list</code> is not disordered: elements that appear in the
result list occur in the same order as they occur in the argument
list. <code>Filter!</code> does the same job than <code>filter</code> by physically
modifying its <code>list</code> argument
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(filter even? '(0 7 8 8 43 -4)) &#8658; (0 8 8 -4)
(<strong>let*</strong> ((l1 (list 0 7 8 8 43 -4))
       (l2 (filter! even? l1)))
   (list l1 l2))                &#8658; ((0 8 8 -4) (0 8 8 -4))
</pre></td></tr>
</tbody></table></blockquote>

An error is signaled if <code>list</code> is a constant list.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="remove-"></a><a name="remove"></a><a name="--index-entry-19536"></a><a name="--index-entry-19540"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(remove pred list)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>Remove</code> returns <code>list</code> without the elements that satisfy predicate <code>pred</code>:
<br /><br />
The list is not disordered -- elements that appear in the result list occur
in the same order as they occur in the argument list. <code>Remove!</code> does the
same job than <code>remove</code> by physically modifying its <code>list</code> argument
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(remove even? '(0 7 8 8 43 -4)) &#8658; (7 43)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="delete-"></a><a name="delete"></a><a name="--index-entry-19607"></a><a name="--index-entry-19611"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(delete  x list [=])</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(delete! x list [=])</font></strong></code><br /><br /><code>Delete</code> uses the comparison procedure <code>=</code>, which defaults to
<code>equal?</code>, to find all elements of <code>list</code> that are equal to <code>x</code>, and
deletes them from <code>list</code>. The dynamic order in which the various
applications of <code>=</code> are made is not specified.
<br /><br />
The list is not disordered -- elements that appear in the result
list occur in the same order as they occur in the argument list.
<br /><br />
The comparison procedure is used in this way: <code>(= x ei)</code>. That is,
<code>x</code> is always the first argument, and a list element is always the
second argument. The comparison procedure will be used to compare
each element of list exactly once; the order in which it is applied
to the various <code>ei</code> is not specified. Thus, one can reliably remove
all the numbers greater than five from a list with
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(delete 5 list &lt;)
</pre></td></tr>
</tbody></table></blockquote>


<code>delete!</code> is the linear-update variant of <code>delete</code>. It is allowed,
but not required, to alter the cons cells in its argument <code>list</code> to
construct the result.</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Symbols"></a>
<h3 id="Symbols">4.5 Symbols</h3>
</div>
<div class="sectionbody"><a name="bar-in-symbol"></a><p>The STklos reader can read symbols whose names contain special
characters or letters in the non standard case.  When a symbol is
read, the parts enclosed in bars "|" will be entered
verbatim into the symbol's name. The "|" characters are not
part of the symbol; they only serve to delimit the sequence of
characters that must be entered "as is". In order to maintain
read-write invariance, symbols containing such sequences of special
characters will be written between a pair of "|".</p><p>In addition, any character can be used within an identifier when
specified via an inline hex escape . For example, the identifier
<tt>H\x65;llo</tt> is the same as the identifier <tt>Hello</tt>, and, if the
UTF-8 encoding is used, the identifier <tt>\x3BB;</tt> is the same as
the identifier &#955;.</p><blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>'|a|                  &#8658;  a
(string-&gt;symbol <span class="source-string">&quot;a&quot;</span>)  &#8658;  |A|
(symbol-&gt;string '|A|) &#8658;  <span class="source-string">&quot;A&quot;</span>
'|a  b|               &#8658;  |a  b|
'a|B|c                &#8658;  |aBc|
(write '|FoO|)        -| |FoO|
(display '|FoO|)      -| FoO
</pre></td></tr>
</tbody></table></blockquote>
<br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="symbol-"></a><a name="--index-entry-19758"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(symbol? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if obj is a symbol, otherwise returns <code>#f</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (symbol? 'foo)          &#8658;  #t
   (symbol? (car '(a b)))  &#8658;  #t
   (symbol? <span class="source-string">&quot;bar&quot;</span>)         &#8658;  #f
   (symbol? 'nil)          &#8658;  #t
   (symbol? '())           &#8658;  #f
   (symbol? #f)            &#8658;  #f
   (symbol? <span class="source-key">:key</span>)          &#8658;  #f
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="symbol--"></a><a name="--index-entry-19839"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(symbol=? symbol1 symbol2  ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns #t if all the arguments are symbols and all have the same name in
the sense of <code>string=?</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="symbol--string"></a><a name="--index-entry-19864"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(symbol-&gt;string string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the name of <code>symbol</code> as a string. If the symbol was part of an
object returned as the value of a literal expression or by a call to the
<code>read</code> procedure, and its name contains alphabetic characters, then the
string returned will contain characters in the implementation's preferred
standard case -- <span style="font-variant: small-caps">STklos</span> prefers lower case. If the symbol was returned
by <code>string-&gt;symbol</code>, the case of characters in the string returned will be
the same as the case in the string that was passed to <code>string-&gt;symbol</code>. It
is an error to apply mutation procedures like <code>string-set!</code> to strings
returned by this procedure.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (symbol-&gt;string 'flying-fish)  &#8658;  <span class="source-string">&quot;flying-fish&quot;</span>
   (symbol-&gt;string 'Martin)       &#8658;  <span class="source-string">&quot;martin&quot;</span>
   (symbol-&gt;string (string-&gt;symbol <span class="source-string">&quot;Malvina&quot;</span>))
                                  &#8658;  <span class="source-string">&quot;Malvina&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string--symbol"></a><a name="--index-entry-19943"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-&gt;symbol string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the symbol whose name is <code>string</code>. This procedure can create
symbols with names containing special characters or letters in the
non-standard case, but it is usually a bad idea to create such symbols
because in some implementations of Scheme they cannot be read as themselves.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (eq? 'mISSISSIppi 'mississippi)     &#8658;  #t
   (string-&gt;symbol <span class="source-string">&quot;mISSISSIppi&quot;</span>)      &#8658;  |mISSISSIppi|
   (eq? 'bitBlt (string-&gt;symbol <span class="source-string">&quot;bitBlt&quot;</span>))
                                       &#8658;  #f
   (eq? 'JollyWog
        (string-&gt;symbol
          (symbol-&gt;string 'JollyWog))) &#8658;  #t
   (string=? <span class="source-string">&quot;K. Harper, M.D.&quot;</span>
             (symbol-&gt;string
               (string-&gt;symbol <span class="source-string">&quot;K. Harper, M.D.&quot;</span>)))
                                       &#8658;  #t
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string--uninterned-symbol"></a><a name="--index-entry-20015"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-&gt;unterned-symbol string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the symbol whose print name is made from the characters of
<code>string</code>. This symbol is guaranteed to be <em>unique</em> (i.e. not
<code>eq?</code> to any other symbol):
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((ua (string-&gt;uninterned-symbol <span class="source-string">&quot;a&quot;</span>)))
  (list (eq? 'a ua)
        (eqv? 'a ua)
        (eq? ua (string-&gt;uninterned-symbol <span class="source-string">&quot;a&quot;</span>))
        (eqv? ua (string-&gt;uninterned-symbol <span class="source-string">&quot;a&quot;</span>))))
          &#8658; (#f #t #f #t)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="gensym"></a><a name="--index-entry-20070"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(gensym)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(gensym prefix)</font></strong></code><br /><br />Creates a new symbol. The print name of the generated symbol
consists of a prefix (which defaults to "G<code></code>) followed by the decimal
representation of a number. If "prefix| is specified, it must be
either a string or a symbol.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(gensym)        &#8658; |G100|
(gensym <span class="source-string">&quot;foo-&quot;</span>) &#8658; foo-101
(gensym 'foo-)  &#8658; foo-102
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Characters"></a>
<h3 id="Characters">4.6 Characters</h3>
</div>
<div class="sectionbody"><a name="--index-entry-20129"></a><a name="--index-entry-20133"></a><p>The following table gives the list of allowed character names with their
ASCII eqivalent expressed in octal. Some chracaters have an alternate name
which is also shown in this table.</p><center><table width="70%" style="border-collapse: collapse;" frame="border" rules="cols"><tbody>
<tr bgcolor="#eeeeee"><th align="center">name</th><th align="center">value</th><th align="center">alt. name</th><th align="center">name</th><th align="center">value</th><th align="center">alt. name</th></tr>
<tr><td align="center">nul</td><td align="center">000</td><td align="center">null</td><td align="center">soh</td><td align="center">001</td><td align="center"></td></tr>
<tr><td align="center">stx</td><td align="center">002</td><td align="center"></td><td align="center">etx</td><td align="center">003</td><td align="center"></td></tr>
<tr><td align="center">eot</td><td align="center">004</td><td align="center"></td><td align="center">enq</td><td align="center">005</td><td align="center"></td></tr>
<tr><td align="center">ack</td><td align="center">006</td><td align="center"></td><td align="center">bel</td><td align="center">007</td><td align="center">alarm</td></tr>
<tr><td align="center">bs</td><td align="center">010</td><td align="center">backspace</td><td align="center">ht</td><td align="center">011</td><td align="center">tab</td></tr>
<tr><td align="center">nl</td><td align="center">012</td><td align="center">newline</td><td align="center">vt</td><td align="center">013</td><td align="center"></td></tr>
<tr><td align="center">np</td><td align="center">014</td><td align="center">page</td><td align="center">cr</td><td align="center">015</td><td align="center">return</td></tr>
<tr><td align="center">so</td><td align="center">016</td><td align="center"></td><td align="center">si</td><td align="center">017</td><td align="center"></td></tr>
<tr><td align="center">dle</td><td align="center">020</td><td align="center"></td><td align="center">dc1</td><td align="center">021</td><td align="center"></td></tr>
<tr><td align="center">dc2</td><td align="center">022</td><td align="center"></td><td align="center">dc3</td><td align="center">023</td><td align="center"></td></tr>
<tr><td align="center">dc4</td><td align="center">024</td><td align="center"></td><td align="center">nak</td><td align="center">025</td><td align="center"></td></tr>
<tr><td align="center">syn</td><td align="center">026</td><td align="center"></td><td align="center">etb</td><td align="center">027</td><td align="center"></td></tr>
<tr><td align="center">can</td><td align="center">030</td><td align="center"></td><td align="center">em</td><td align="center">031</td><td align="center"></td></tr>
<tr><td align="center">sub</td><td align="center">032</td><td align="center"></td><td align="center">esc</td><td align="center">033</td><td align="center">escape</td></tr>
<tr><td align="center">fs</td><td align="center">034</td><td align="center"></td><td align="center">gs</td><td align="center">035</td><td align="center"></td></tr>
<tr><td align="center">rs</td><td align="center">036</td><td align="center"></td><td align="center">us</td><td align="center">037</td><td align="center"></td></tr>
<tr><td align="center">sp</td><td align="center">040</td><td align="center">space</td><td align="center">del</td><td align="center">177</td><td align="center">delete</td></tr>
</tbody></table>
</center>
<p><span style="font-variant: small-caps">STklos</span> supports the complete Unicode character set, if UTF-8 encoding is used. Hereafter, are some examples of characters:</p><blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>#A                &#8658; uppercase A
#a                &#8658; lowercase a
#x41<span class="source-comment">;            </span>&#8658; the U+0041 character (uppercase A)
#x03BB<span class="source-comment">;            </span>&#8658; &#955;
</pre></td></tr>
</tbody></table></blockquote>
<br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="char-"></a><a name="--index-entry-20290"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(char? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is a character, otherwise returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="char---"></a><a name="char---"></a><a name="char--"></a><a name="char--"></a><a name="char--"></a><a name="--index-entry-20329"></a><a name="--index-entry-20333"></a><a name="--index-entry-20337"></a><a name="--index-entry-20341"></a><a name="--index-entry-20345"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(char=? char1 char2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(char&lt;? char1 char2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(char&gt;? char1 char2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(char&lt;=? char1 char2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(char&gt;=? char1 char2 ...)</font></strong></code><br /><br />These procedures impose a total ordering on the set of characters.
It is guaranteed that under this ordering:
<ul><li>The upper case characters are in order.</li>
<li>The lower case characters are in order.</li>
<li>The digits are in order.</li>
<li>Either all the digits precede all the upper case letters, or vice versa.</li>
<li>Either all the digits precede all the lower case letters, or vice versa.</li>
</ul></td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="char-ci---"></a><a name="char-ci---"></a><a name="char-ci--"></a><a name="char-ci--"></a><a name="char-ci--"></a><a name="--index-entry-20403"></a><a name="--index-entry-20407"></a><a name="--index-entry-20411"></a><a name="--index-entry-20415"></a><a name="--index-entry-20419"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(char-ci=? char1 char2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(char-ci&lt;? char1 char2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(char-ci&gt;? char1 char2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(char-ci&lt;=? char1 char2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(char-ci&gt;=? char1 char2 ...)</font></strong></code><br /><br />These procedures are similar to <code>char=?</code> et cetera, but they treat
upper case and lower case letters as the same. For example,
<code>(char-ci=? #A #a)</code> returns <code>#t</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="char-lower-case-"></a><a name="char-upper-case-"></a><a name="char-whitespace-"></a><a name="char-numeric-"></a><a name="char-alphabetic-"></a><a name="--index-entry-20474"></a><a name="--index-entry-20478"></a><a name="--index-entry-20482"></a><a name="--index-entry-20486"></a><a name="--index-entry-20490"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(char-alphabetic? char)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(char-numeric? char)</font></strong></code><br /><code><strong><font color="IndianRed">(char-whitespace? char)</font></strong></code><br /><code><strong><font color="IndianRed">(char-upper-case? letter)</font></strong></code><br /><code><strong><font color="IndianRed">(char-lower-case? letter)</font></strong></code><br /><br />These procedures return <code>#t</code> if their arguments are alphabetic, numeric,
whitespace, upper case, or lower case characters, respectively, otherwise they
return <code>#f</code>. The following remarks, which are specific to the ASCII character
set, are intended only as a guide: The alphabetic characters are the 52
upper and lower case letters. The numeric characters are the ten decimal
digits. The whitespace characters are space, tab, line feed, form feed,
and carriage return.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="integer--char"></a><a name="char--integer"></a><a name="--index-entry-20537"></a><a name="--index-entry-20541"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(char-&gt;integer char)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(integer-&gt;char n)</font></strong></code><br /><br />Given a character, <code>char-&gt;integer</code> returns an exact integer
representation of the character. Given an exact integer that is the
image of a character under <code>char-&gt;integer</code>, <code>integer-&gt;char</code> returns
that character. These procedures implement order-preserving
isomorphisms between the set of characters under the <code>char&lt;=?</code>
ordering and some subset of the integers under the <code>&lt;=</code>
ordering. That is, if
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (char&lt;=? a b) &#8658; #t  <strong>and</strong>  (&lt;= x y) &#8658; #t
</pre></td></tr>
</tbody></table></blockquote>

and x and y are in the domain of <code>integer-&gt;char</code>, then
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (&lt;= (char-&gt;integer a)
       (char-&gt;integer b))         &#8658;  #t

  (char&lt;=? (integer-&gt;char x)
           (integer-&gt;char y))     &#8658;  #t
</pre></td></tr>
</tbody></table></blockquote>

<code>integer-&gt;char</code> accepts an exact number between 0 and #xD7FFF or between
#xE000 and #x10FFFF, if UTF8 encoding is used. Otherwise it accepts a
number between0 and #xFF.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="char-downcase"></a><a name="char-upcase"></a><a name="--index-entry-20647"></a><a name="--index-entry-20651"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(char-upcase char)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(char-downcase char)</font></strong></code><br /><br />These procedures return a character <code>char2</code> such that
<code>(char-ci=? char char2)</code>. In addition, if char is alphabetic, then the
result of <code>char-upcase</code> is upper case and the result of <code>char-downcase</code> is
lower case.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="char-foldcase"></a><a name="--index-entry-20695"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(char-foldcase char)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This procedure applies the Unicode simple case folding algorithm and returns
the result. Note that language-sensitive folding is not used. If
the argument is an uppercase letter, the result will be either a
lowercase letter or the same as the argument if the lowercase letter
does not exist.</td></tr>
</tbody></table></div></div><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="digit-value"></a><a name="--index-entry-20717"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(digit-value char)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />This procedure returns the numeric value (0 to 9) of its
argument if it is a numeric digit (that is, if char-numeric?
returns #t), or #f on any other character.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(digit-value
(digit-value #3)        &#8658; 3
(digit-value #x0664)    &#8658; 4
(digit-value #x0AE6)    &#8658; 0
(digit-value #x0EA6)    #f
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><div class="sectiondiv"><div class="sectiontitle"><a name="Strings"></a>
<h3 id="Strings">4.7 Strings</h3>
</div>
<div class="sectionbody"><a name="--index-entry-20762"></a><p>STklos string constants allow the insertion of arbitrary characters
by encoding them as escape sequences. An escape sequence is introduced
by a backslash "\".  The valid escape sequences are shown in
the following table.</p><center><table style="border-collapse: collapse;" frame="border" rules="cols"><tbody>
<tr bgcolor="#eeeeee"><th align="center">Sequence</th><th align="center">Character inserted</th></tr>
<tr><td align="center">\a</td><td align="center">Alarm</td></tr>
<tr><td align="center">\b</td><td align="center">Backspace</td></tr>
<tr><td align="center">\e</td><td align="center"> Escape</td></tr>
<tr><td align="center">\n</td><td align="center"> Newline</td></tr>
<tr><td align="center">\t</td><td align="center"> Horizontal Tab</td></tr>
<tr><td align="center">\r</td><td align="center"> Carriage Return</td></tr>
<tr><td align="center">\&quot;</td><td align="center"> doublequote U+0022</td></tr>
<tr><td align="center">\\</td><td align="center"> backslash U+005C</td></tr>
<tr><td align="center">\0abc</td><td align="center"> ASCII character with octal value abc</td></tr>
<tr><td align="center">\x&lt;hexa value&gt;;</td><td align="center"> ASCII character with given hexadecimal value</td></tr>
<tr><td align="center">\&lt;intraline whitespace&gt;&lt;newline&gt;&lt;intraline whitespace&gt;</td><td align="center"> None (permits to enter a string on several lines)</td></tr>
<tr><td align="center">\&lt;other&gt;</td><td align="center"> &lt;other&gt;</td></tr>
</tbody></table>
</center>
<p>For instance, the string</p><blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre><span class="source-string">&quot;ab\040\x20;c\nd
         e&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
<p>is the string consisting of the characters
<code>#\a</code>, <code>#\b</code>, <code>#\space</code>, <code>#\space</code>,
<code>#\c</code>, <code>#\newline</code>, <code>#\d</code> and <code>#\e</code>.</p><p><strong>Notes:</strong><ul><li>Using octal code is limited to characters in the range 0
to #xFF. It is then not convenient to enter Unicode characters. This
form is deprecated should not be used anymore.</li>
<li>A line ending which is preceded by &lt;intraline whitespace&gt;
expands to nothing (along with any trailing &lt;intraline
whitespace&gt;), and can be used to indent strings for improved
legibility.</li>
</ul></p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-"></a><a name="--index-entry-20832"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is a string, otherwise returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="make-string"></a><a name="--index-entry-20867"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(make-string k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(make-string k char)</font></strong></code><br /><br /><code>Make-string</code> returns a newly allocated string of length <code>k</code>. If <code>char</code> is
given, then all elements of the string are initialized to <code>char</code>, otherwise
the contents of the string are unspecified.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string"></a><a name="--index-entry-20911"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string char ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a newly allocated string composed of the arguments.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-length"></a><a name="--index-entry-20931"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-length string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the number of characters in the given <code>string</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-ref"></a><a name="--index-entry-20956"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-ref string k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>String-ref</code> returns character k of string using zero-origin indexing
(<code>k</code> must be a valid index of string).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-set-"></a><a name="--index-entry-20986"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-set! string k char)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>String-set!</code> stores <code>char</code> in element <code>k</code> of <code>string</code> and returns
<em>void</em> (<code>k</code> must be a valid index of <code>string</code>).

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> (f) (make-string 3 #*))
(<span class="source-define">define</span> (g) <span class="source-string">&quot;***&quot;</span>)
(string-set! (f) 0 #?)  &#8658;  void
(string-set! (g) 0 #?)  &#8658;  <span class="source-error">error</span>
(string-set! (symbol-&gt;string 'immutable) 0 #?)
                         &#8658;  <span class="source-error">error</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-ci--"></a><a name="string--"></a><a name="--index-entry-21074"></a><a name="--index-entry-21078"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string=? string1 string2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span>/<span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string-ci=? string1 string2 ...)</font></strong></code><br /><br />Returns <code>#t</code> if all the strings are the same length and contain the same
characters in the same positions, otherwise returns <code>#f</code>. <code>String-ci=?</code>
treats upper and lower case letters as though they were the same character,
but <code>string=?</code> treats upper and lower case as distinct characters.
<br /><br />
<strong>Note</strong>: <span style="font-variant: small-caps">R<sup>5</sup>RS</span> version of these functions accept only two arguments.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-ci---"></a><a name="string-ci--"></a><a name="string-ci---"></a><a name="string-ci--"></a><a name="string---"></a><a name="string--"></a><a name="string---"></a><a name="string--"></a><a name="--index-entry-21144"></a><a name="--index-entry-21148"></a><a name="--index-entry-21152"></a><a name="--index-entry-21156"></a><a name="--index-entry-21160"></a><a name="--index-entry-21164"></a><a name="--index-entry-21168"></a><a name="--index-entry-21172"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string&lt;? string1 string2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span>/<span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string&gt;? string1 string2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(string&lt;=? string1 string2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(string&gt;=? string1 string2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(string-ci&lt;? string1 string2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(string-ci&gt;? string1 string2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(string-ci&lt;=? string1 string2 ...)</font></strong></code><br /><code><strong><font color="IndianRed">(string-ci&gt;=? string1 string2)</font></strong></code><br /><br />These procedures are the lexicographic extensions to strings of the
corresponding orderings on characters. For example, <code>string&lt;?</code> is the
lexicographic ordering on strings induced by the ordering <code>char&lt;?</code> on
characters. If two strings differ in length but are the same up to the
length of the shorter string, the shorter string is considered to be
lexicographically less than the longer string.
<br /><br />
<strong>Note</strong>: <span style="font-variant: small-caps">R<sup>5</sup>RS</span> version of these functions accept only two arguments.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="substring"></a><a name="--index-entry-21245"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(substring string start end)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>String</code> must be a string, and <code>start</code> and <code>end</code> must be exact integers
satisfying
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>0 &lt;= start &lt;= end &lt;= (string-length string).
</pre></td></tr>
</tbody></table></blockquote>

<code>Substring</code> returns a newly allocated string formed from the characters
of <code>string</code> beginning with index <code>start</code> (inclusive) and ending with
index <code>end</code> (exclusive).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-append"></a><a name="--index-entry-21309"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-append string ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a newly allocated string whose characters form the concatenation
of the given strings.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="list--string"></a><a name="string--list"></a><a name="--index-entry-21330"></a><a name="--index-entry-21334"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-&gt;list string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span>/<span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string-&gt;list string start)</font></strong></code><br /><code><strong><font color="IndianRed">(string-&gt;list string start end)</font></strong></code><br /><code><strong><font color="IndianRed">(list-&gt;string list)</font></strong></code><br /><br /><code>String-&gt;list</code> returns a newly allocated list of the characters of
<code>string</code> between <code>start</code> and <code>end</code>. <code>List-&gt;string</code> returns a newly
allocated string formed from the characters in the list <code>list</code>,
which must be a list of characters. <code>String-&gt;list</code> and
<code>list-&gt;string</code> are inverses so far as <code>equal?</code> is concerned.

<br /><br />
<strong>Note</strong>: The <span style="font-variant: small-caps">R<sup>5</sup>RS</span> version of <code>string-&gt;list</code> accepts only one
parameter.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-copy"></a><a name="--index-entry-21431"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-copy string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span>/<span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string-copy string start)</font></strong></code><br /><code><strong><font color="IndianRed">(string-copy string start stop)</font></strong></code><br /><br />Returns a newly allocated copy of the part of the given <code>string</code>
between <code>start</code> and <code>stop</code>.
<br /><br />
<strong>Note</strong>: The <span style="font-variant: small-caps">R<sup>5</sup>RS</span> version of <code>string-copy</code> accepts only one argument.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-copy-"></a><a name="--index-entry-21494"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-copy! to at from)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string-copy! to at from start)</font></strong></code><br /><code><strong><font color="IndianRed">(string-copy! to at from start end)</font></strong></code><br /><br /> Copies the characters of <code>string</code> from between <code>start</code> and <code>end</code>
to string <code>to</code>, starting at <code>at</code>. The order in which characters are copied
is unspecified, except that if the source and destination overlap,
copying takes place as if the source is first copied into a temporary
string and then into the destination. This can be achieved without
allocating storage by making sure to copy in the correct direction in
such circumstances.

It is an error if <code>at</code> is less than zero or greater than the length
of <code>to</code>. It is also an error if <code>(- (string-length to) at)</code> is less
than <code>(- end start)</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-split"></a><a name="--index-entry-21567"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-split str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string-split str delimiters)</font></strong></code><br /><br />parses <code>string</code> and returns a list of tokens ended by a character of the
<code>delimiters</code> string. If <code>delimiters</code> is omitted, it defaults to a string
containing a space, a tabulation and a newline characters.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(string-split <span class="source-string">&quot;/usr/local/bin&quot;</span> <span class="source-string">&quot;/&quot;</span>)
                       &#8658; (<span class="source-string">&quot;usr&quot;</span> <span class="source-string">&quot;local&quot;</span> <span class="source-string">&quot;bin&quot;</span>)
(string-split <span class="source-string">&quot;once   upon a time&quot;</span>)
                       &#8658; (<span class="source-string">&quot;once&quot;</span> <span class="source-string">&quot;upon&quot;</span> <span class="source-string">&quot;a&quot;</span> <span class="source-string">&quot;time&quot;</span>)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-position"></a><a name="string-index"></a><a name="--index-entry-21637"></a><a name="--index-entry-21641"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-position str1 str2)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the (first) index where <code>str1</code> is a substring of <code>str2</code> if it exists;
otherwise returns <code>#f</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(string-position <span class="source-string">&quot;ca&quot;</span> <span class="source-string">&quot;abracadabra&quot;</span>) &#8658;  4
(string-position <span class="source-string">&quot;ba&quot;</span> <span class="source-string">&quot;abracadabra&quot;</span>) &#8658;  #f
</pre></td></tr>
</tbody></table></blockquote>


<strong>Note</strong> This function was also called <code>string-index</code>. This name is deprecated
since it conficts with the <code>string-index</code> defined in SRFI-13.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-find-"></a><a name="--index-entry-21713"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-find? str1 str2)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>str1</code> appears somewhere in <code>str2</code>; otherwise returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-fill-"></a><a name="--index-entry-21752"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-fill! string char)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string-fill! string char start)</font></strong></code><br /><code><strong><font color="IndianRed">(string-fill! string char start end)</font></strong></code><br /><br />Stores <code>char</code> in every element of the given <code>string</code> between <code>start</code> and <code>end</code>.
<br /><br />
<strong>Note</strong>: The <span style="font-variant: small-caps">R<sup>5</sup>RS</span> version of <code>string-fill!</code> accepts only one argument.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-blit-"></a><a name="--index-entry-21818"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-blit! s1 s2 offset)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This function places the characters of string <code>s2</code> in the string <code>s1</code>
starting at position <code>offset</code>. The result of <code>string-blit!</code> may modify
the string <code>s1</code>. Note that the characters of <code>s2</code> can be written after
the end of <code>s1</code> (in which case a new string is allocated).
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(string-blit! (make-string 6 #X) <span class="source-string">&quot;abc&quot;</span> 2)
              &#8658; <span class="source-string">&quot;XXabcX&quot;</span>
(string-blit! (make-string 10 #X) <span class="source-string">&quot;abc&quot;</span> 5)
              &#8658; <span class="source-string">&quot;XXXXXabcXX&quot;</span>
(string-blit! (make-string 6 #X) <span class="source-string">&quot;a&quot;</span> 10)
              &#8658; <span class="source-string">&quot;XXXXXX0000a&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-mutable-"></a><a name="--index-entry-21906"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-mutable? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is a mutable string, otherwise returns <code>#f</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(string-mutable? <span class="source-string">&quot;abc&quot;</span>)                &#8658; #f
(string-mutable? (string-copy <span class="source-string">&quot;abc&quot;</span>))  &#8658; #t
(string-mutable? (string #a #b #c)) &#8658; #t
(string-mutable? 12)                   &#8658; #f
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><a name="--index-entry-21971"></a><p>The following string primitives are compatible with  <strong><a  class="http" href="http://srfi.schemers.org/srfi-13/srfi-13.html">SRFI-13</a></strong>
      (<em>String Library</em>)
and their documentation comes from the SRFI document.</p><p><strong>Notes:</strong>
    <ul><li>The string SRFI is supported by <span style="font-variant: small-caps">STklos</span>. The
                function listed below just don't need to load the full SRFI to be
                used</li>
<li>The functions <code>string-upcase</code>, <code>string-downcase</code> and
                <code>string-foldcase</code> are also defined in <span style="font-variant: small-caps">R<sup>7</sup>RS</span>.</li>
</ul></p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-downcase"></a><a name="--index-entry-21993"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-downcase str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string-downcase str start)</font></strong></code><br /><code><strong><font color="IndianRed">(string-downcase str start end)</font></strong></code><br /><br />Returns a string in which the upper case letters of string <code>str</code> between the
<code>start</code> and <code>end</code> indices have been replaced by their lower case equivalent.
If <code>start</code> is omited, it defaults to 0. If <code>end</code> is omited, it defaults to
the length of <code>str</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(string-downcase <span class="source-string">&quot;Foo BAR&quot;</span>)        &#8658; <span class="source-string">&quot;foo bar&quot;</span>
(string-downcase <span class="source-string">&quot;Foo BAR&quot;</span> 4)      &#8658; <span class="source-string">&quot;bar&quot;</span>
(string-downcase <span class="source-string">&quot;Foo BAR&quot;</span> 4 6)    &#8658; <span class="source-string">&quot;ba&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>


<strong>Note</strong>: In <span style="font-variant: small-caps">R<sup>7</sup>RS</span>, <code>string-downcase</code> accepts only one argument.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-downcase-"></a><a name="--index-entry-22097"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-downcase! str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string-downcase! str start)</font></strong></code><br /><code><strong><font color="IndianRed">(string-downcase! str start end)</font></strong></code><br /><br />This is the in-place side-effecting variant of <code>string-downcase</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(string-downcase! (string-copy <span class="source-string">&quot;Foo BAR&quot;</span>) 4)    &#8658; <span class="source-string">&quot;Foo bar&quot;</span>
(string-downcase! (string-copy <span class="source-string">&quot;Foo BAR&quot;</span>) 4 6)  &#8658; <span class="source-string">&quot;Foo baR&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-upcase"></a><a name="--index-entry-22152"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-upcase str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string-upcase str start)</font></strong></code><br /><code><strong><font color="IndianRed">(string-upcase str start end)</font></strong></code><br /><br />Returns a string in which the lower case letters of string <code>str</code> between the
<code>start</code> and <code>end</code> indices have been replaced by their upper case equivalent.
If <code>start</code> is omited, it defaults to 0. If <code>end</code> is omited, it defaults to
the length of <code>str</code>.
<br /><br />
<strong>Note</strong>: In <span style="font-variant: small-caps">R<sup>7</sup>RS</span>, <code>string-upcase</code> accepts only one argument.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-upcase-"></a><a name="--index-entry-22228"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-upcase! str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string-upcase! str start)</font></strong></code><br /><code><strong><font color="IndianRed">(string-upcase! str start end)</font></strong></code><br /><br />This is the in-place side-effecting variant of <code>string-upcase</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-titlecase"></a><a name="--index-entry-22260"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-titlecase str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string-titlecase str start)</font></strong></code><br /><code><strong><font color="IndianRed">(string-titlecase str start end)</font></strong></code><br /><br />This function returns a string.  For every character <code>c</code> in the
selected range of <code>str</code>, if <code>c</code> is preceded by a cased character, it
is downcased; otherwise it is titlecased. If <code>start</code> is omited, it
defaults to 0. If <code>end</code> is omited, it defaults to the length of <code>str</code>.
Note that if a <code>start</code> index is specified, then the character preceding
<code>s`(start)</code> has no effect on the titlecase decision for character <code>s`(start)</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(string-titlecase <span class="source-string">&quot;--capitalize tHIS sentence.&quot;</span>)
         &#8658;  <span class="source-string">&quot;--Capitalize This Sentence.&quot;</span>
(string-titlecase <span class="source-string">&quot;see Spot run. see Nix run.&quot;</span>)
         &#8658;  <span class="source-string">&quot;See Spot Run. See Nix Run.&quot;</span>
(string-titlecase <span class="source-string">&quot;3com makes routers.&quot;</span>)
         &#8658;  <span class="source-string">&quot;3Com Makes Routers.&quot;</span>
(string-titlecase <span class="source-string">&quot;greasy fried chicken&quot;</span> 2)
         &#8658; <span class="source-string">&quot;Easy Fried Chicken&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-titlecase-"></a><a name="--index-entry-22375"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-titlecase! str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string-titlecase! str start)</font></strong></code><br /><code><strong><font color="IndianRed">(string-titlecase! str start end)</font></strong></code><br /><br />This is the in-place side-effecting variant of <code>string-titlecase</code>.</td></tr>
</tbody></table><a name="--index-entry-22405"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-append-"></a><a name="--index-entry-22411"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-append! string ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Extends string by appending each value (in order) to the end of string.
A value can be a character or a string.

It is guaranteed that string-append! will return the same object that
was passed to it as first argument, whose size may be larger.

<br />
<strong>Note:</strong> This function is defined in SRFI-118.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-replace-"></a><a name="--index-entry-22438"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-replace! dst dst-start dst-end src [src-start [src-end]])</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Replaces the characters of the variable-size string dst (between
dst-start and dst-end) with the characters of the string src
(between src-start and src-end). The number of characters from src
may be different than the number replaced in dst, so the string may
grow or contract. The special case where dst-start is equal to
dst-end corresponds to insertion; the case where src-start is equal
to src-end corresponds to deletion. The order in which characters
are copied is unspecified, except that if the source and
destination overlap, copying takes place as if the source is first
copied into a temporary string and then into the destination.
Returns string, appended with the characters form the concatenation
of the given arguments, which can be wither strings or characters.

It is guaranteed that string-replace! will return the same object that
was passed to it as first argument, whose size may be larger.
<br />
<strong>Note:</strong> This function is defined in SRFI-118.</td></tr>
</tbody></table><p>The functions <tt>string-foldcase</tt> and <tt>string-foldcase!</tt> described
below are inspired from R6RS.</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-foldcase"></a><a name="--index-entry-22468"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-foldcase str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string-foldcase str start)</font></strong></code><br /><code><strong><font color="IndianRed">(string-foldcase str start end)</font></strong></code><br /><br />Returns a string in which the Unicode simple case-folding algorithm has
been applied on <code>str</code> between the <code>start</code> and <code>end</code> indices.
If <code>start</code> is omited, it defaults to 0. If <code>end</code> is omited, it defaults to
the length of <code>str</code>.
<br /><br />
<strong>Note</strong>: In <span style="font-variant: small-caps">R<sup>7</sup>RS</span>, <code>string-foldcase</code> accepts only one argument.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-foldcase-"></a><a name="--index-entry-22544"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-foldcase! str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(string-foldcase! str start)</font></strong></code><br /><code><strong><font color="IndianRed">(string-foldcase! str start end)</font></strong></code><br /><br />This is the in-place side-effecting variant of <code>string-foldcase</code>.</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Vectors"></a>
<h3 id="Vectors">4.8 Vectors</h3>
</div>
<div class="sectionbody"><a name="--index-entry-22577"></a><p>Vectors are heterogenous structures whose elements are
indexed by integers.  A vector typically occupies less space than
a list of the same length, and the average time required to
access a randomly chosen element is typically less for the vector
than for the list.</p><p>The length of a vector is the number of elements that it
contains.  This number is a non-negative integer that is fixed
when the vector is created.  The valid indexes of a vector are
the exact non-negative integers less than the length of the
vector.  The first element in a vector is indexed by zero, and
the last element is indexed by one less than the length of the
vector.</p><p>Vectors are written using the notation <code>#(obj ...)</code>.
For example, a vector of length 3 containing the number zero in
element 0, the list <code>(2 2 2 2)</code> in element 1, and the
string <code>&quot;Anna&quot;</code> in element 2 can be written as
following: <blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>#(0 (2 2 2 2) <span class="source-string">&quot;Anna&quot;</span>)
</pre></td></tr>
</tbody></table></blockquote>
</p><p><strong>Note:</strong> In STklos, vectors constants don't need to be quoted.</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="vector-"></a><a name="--index-entry-22597"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(vector? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is a vector, otherwise returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="make-vector"></a><a name="--index-entry-22632"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(make-vector k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(make-vector k fill)</font></strong></code><br /><br />Returns a newly allocated vector of <code>k</code> elements. If a second argument is
given, then each element is initialized to <code>fill</code>. Otherwise the initial
contents of each element is unspecified.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="vector"></a><a name="--index-entry-22666"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(vector obj ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a newly allocated vector whose elements contain the given arguments.
Analogous to <code>list</code>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(vector 'a 'b 'c)               &#8658;  #(a b c)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="vector-length"></a><a name="--index-entry-22704"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(vector-length vector)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the number of elements in <code>vector</code> as an exact integer.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="vector-ref"></a><a name="--index-entry-22729"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(vector-ref vector k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>k</code> must be a valid index of <code>vector</code>. <code>Vector-ref</code> returns the contents of
element <code>k</code> of vector.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(vector-ref '#(1 1 2 3 5 8 13 21)
            5)         &#8658;  8
(vector-ref '#(1 1 2 3 5 8 13 21)
            (<strong>let</strong> ((i (round (* 2 (acos -1)))))
              (<strong>if</strong> (inexact? i)
                  (inexact-&gt;exact i)
                  i))) &#8658; 13
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="vector-set-"></a><a name="--index-entry-22795"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(vector-set! vector k obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>k</code> must be a valid index of <code>vector</code>. <code>Vector-set!</code> stores <code>obj</code> in element
<code>k</code> of <code>vector</code>. The value returned by <code>vector-set!</code> is <em>void</em>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((vec (vector 0 '(2 2 2 2) <span class="source-string">&quot;Anna&quot;</span>)))
  (vector-set! vec 1 '(<span class="source-string">&quot;Sue&quot;</span> <span class="source-string">&quot;Sue&quot;</span>))
  vec)      &#8658;  #(0 (<span class="source-string">&quot;Sue&quot;</span> <span class="source-string">&quot;Sue&quot;</span>) <span class="source-string">&quot;Anna&quot;</span>)

(vector-set! '#(0 1 2) 1 <span class="source-string">&quot;doe&quot;</span>)  &#8658;  <span class="source-error">error</span>  <span class="source-comment">; constant vector</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="list--vector"></a><a name="vector--list"></a><a name="--index-entry-22887"></a><a name="--index-entry-22891"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(vector-&gt;list vector)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span>/<span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(vector-&gt;list vector start)</font></strong></code><br /><code><strong><font color="IndianRed">(vector-&gt;list vector start end)</font></strong></code><br /><code><strong><font color="IndianRed">(list-&gt;vector list)</font></strong></code><br /><br /><code>Vector-&gt;list</code> returns a newly allocated list of the objects contained in
the elements of <code>vector</code> between start an end. <code>List-&gt;vector</code> returns a
newly created vector initialized to the elements of the list <code>list</code>.

In both procedures, order is preserved.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(vector-&gt;list '#(dah dah didah))     &#8658;  (dah dah didah)
(vector-&gt;list '#(dah dah didah) 1 2) &#8658;  (dah)
(list-&gt;vector '(dididit dah))        &#8658;  #(dididit dah)
</pre></td></tr>
</tbody></table></blockquote>


<strong>Note</strong>: The <span style="font-variant: small-caps">R<sup>5</sup>RS</span> version of <code>vector-&gt;list</code> accepts only one
parameter.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string--vector"></a><a name="vector--string"></a><a name="--index-entry-22986"></a><a name="--index-entry-22990"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(vector-&gt;string string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(vector-&gt;string string start)</font></strong></code><br /><code><strong><font color="IndianRed">(vector-&gt;string string start end)</font></strong></code><br /><code><strong><font color="IndianRed">(string-&gt;vector vector)</font></strong></code><br /><code><strong><font color="IndianRed">(string-&gt;vector vector start)</font></strong></code><br /><code><strong><font color="IndianRed">(string-&gt;vector vector start end)</font></strong></code><br /><br />The <code>vector-&gt;string</code> procedure returns a newly allocated
string of the objects contained in the elements of <code>vector</code>
between <code>start</code> and <code>end</code>. It is an error if any element of <code>vector</code>
between <code>start</code> and <code>end</code> is not a character.

The <code>string-&gt;vector</code> procedure returns a newly created vector
initialized to the elements of <code>string</code> between <code>start</code> and <code>end</code>.

In both procedures, order is preserved.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(string-&gt;vector <span class="source-string">&quot;ABC&quot;</span>)           &#8658; #(#A #B #C)
(vector-&gt;string #(#1 #2 #3))  &#8658; <span class="source-string">&quot;123&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="vector-append"></a><a name="--index-entry-23106"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(vector-append vector ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a newly allocated vector whose elements are the
concatenation of the elements of the given vectors.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(vector-append #(a b c) #(d e f)) &#8658; #(a b c d e f)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="vector-fill-"></a><a name="--index-entry-23139"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(vector-fill! vector fill)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span>/<span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(vector-fill! vector fill start)</font></strong></code><br /><code><strong><font color="IndianRed">(vector-fill! vector fill start end)</font></strong></code><br /><br />Stores <code>fill</code> in every element of <code>vector</code> between <code>start</code> and <code>end</code>.
<br /><br />
<strong>Note</strong>: The <span style="font-variant: small-caps">R<sup>5</sup>RS</span> version of <code>vector-fill!</code> accepts only one
parameter.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="vector-copy"></a><a name="--index-entry-23207"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(vector-copy v)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span>/<span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(vector-copy v start)</font></strong></code><br /><code><strong><font color="IndianRed">(vector-copy v start stop)</font></strong></code><br /><br />Return a newly allocated copy of the elements of the given
vector between <code>start</code> and <code>end</code> . The elements of the new
vector are the same (in the sense of eqv?) as the elements
of the old.

Note that, if <code>v</code> is a constant vector, its copy is not constant.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> a #(1 8 2 8))         <span class="source-comment">; a is immutable</span>
(<span class="source-define">define</span> b (vector-copy a))    <span class="source-comment">; b is mutable</span>
(vector-set! b 0 3)
b                            &#8658; #(3 8 2 8)
(<span class="source-define">define</span> c (vector-copy b 1 3))
c                            &#8658; #(8 2)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="vector-copy-"></a><a name="--index-entry-23280"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(vector-copy! to at from)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(vector-copy! to at from start)</font></strong></code><br /><code><strong><font color="IndianRed">(vector-copy! to at from start end)</font></strong></code><br /><br /></td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="vector-resize"></a><a name="--index-entry-23307"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(vector-resize v size)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(vector-resize v size fill)</font></strong></code><br /><br />Returns a copy of v of the given <code>size</code>. If <code>size</code> is greater
than the vector size of <code>v</code>, the contents of the newly allocated vector cells
is  set to the value of <code>fill</code>. If <code>fill</code> is omitted the content of the
new cells is <em>void</em>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="vector-mutable-"></a><a name="--index-entry-23359"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(vector-mutable? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is a mutable vector, otherwise returns <code>#f</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(vector-mutable? '#(1 2 a b))            &#8658; #f
(vector-mutable? (vector-copy '#(1 2)))  &#8658; #t
(vector-mutable? (vector 1 2 3))         &#8658; #t
(vector-mutable? 12)                     &#8658; #f
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="sort"></a><a name="--index-entry-23424"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(sort obj predicate)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>Obj</code> must be a list or a vector. <code>Sort</code> returns a copy of <code>obj</code> sorted
according to <code>predicate</code>. <code>Predicate</code> must be a procedure which takes
two arguments and returns a true value if the first argument is strictly
``before'' the second.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(sort '(1 2 -4 12 9 -1 2 3) &lt;)
               &#8658; (-4 -1 1 2 2 3 9 12)
(sort '#(<span class="source-string">&quot;one&quot;</span> <span class="source-string">&quot;two&quot;</span> <span class="source-string">&quot;three&quot;</span> <span class="source-string">&quot;four&quot;</span>)
      (<strong>lambda</strong> (x y) (&gt; (string-length x) (string-length y))))
               &#8658; '#(<span class="source-string">&quot;three&quot;</span> <span class="source-string">&quot;four&quot;</span> <span class="source-string">&quot;one&quot;</span> <span class="source-string">&quot;two&quot;</span>)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Structures"></a>
<h3 id="Structures">4.9 Structures</h3>
</div>
<div class="sectionbody"><a name="--index-entry-23500"></a><p>A structure type is a record data type composing a number of slots. A
structure, an instance of a structure type, is a first-class value
that contains a value for each field of the structure type.</p><p>Structures can be created with the <code>define-struct</code> high
level syntax. However, <span style="font-variant: small-caps">STklos</span> also offers some low-level functions
to build and access the internals of a structure.</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="define-struct"></a><a name="--index-entry-23510"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(define-struct &lt;name&gt; &lt;slot&gt; ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> syntax</i></font></td></tr>
</tbody></table>
<br />Defines a structure type whose name is <code>&lt;name&gt;</code>. Once a structure type is
defined, the following symbols are bound:
<ul><li><code>&lt;name&gt;</code> denotes the structure type.</li>
<li><code>make-&lt;name&gt;</code> is a procedure which takes 0 to <code>n</code> parameters (if there
are <code>n</code> slots defined). Each parameter is assigned to the corresponding
field (in the definition order).</li>
<li><code>&lt;name&gt;?</code> is a predicate which returns <code>#t</code> when applied to an
instance of the <code>&lt;name&gt;</code> structure type and <code>#f</code> otherwise.</li>
<li><code>&lt;name&gt;-&lt;slot&gt;</code> (one for each defined <code>&lt;slot&gt;</code>) to read the
content of an instance of the <code>&lt;name&gt;</code> structure type. Writting the
content of a slot can be done using a generalized <code>set!</code>.</li>
</ul>

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(define-struct point x y)
(<span class="source-define">define</span> p (make-point 1 2))
(point? p)    &#8658; #t
(point? 100)  &#8658; #f
(point-x p)   &#8658; 1
(point-y p)   &#8658; 2
(<strong>set!</strong> (point-x p) 10)
(point-x p)   &#8658; 10
</pre></td></tr>
</tbody></table></blockquote>

</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="make-struct-type"></a><a name="--index-entry-23653"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(make-struct-type name parent slots)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This form which is more general than <code>define-struct</code> permits to define a
new structure type whose name is <code>name</code>. Parent is the structure
type from which is the new structure type is a subtype (or <code>#f</code> is the
new structure-type has no super type). <code>Slots</code> is the list of the slot
names which constitute the structure tpe.
<br /><br />
When a structure type is s subtype of a previous type, its slots are added
to the ones of the super type.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="struct-type-"></a><a name="--index-entry-23696"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(struct-type? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is a structure type, otherwise returns <code>#f</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((type (make-struct-type 'point #f '(x y))))
  (struct-type? type))         &#8658; #t
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="struct-type-slots"></a><a name="--index-entry-23745"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(struct-type-slots structype)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the slots of the structure type <code>structype</code> as a list.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> point  (make-struct-type 'point #f '(x y)))
(<span class="source-define">define</span> circle (make-struct-type 'circle point '(r)))
(struct-type-slots point)   &#8658; (x y)
(struct-type-slots circle)  &#8658; (x y r)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="struct-type-parent"></a><a name="--index-entry-23792"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(struct-type-parent structype)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the super type of the structure type <code>structype</code>, if it exists
or <code>#f</code> otherwise.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="struct-type-name"></a><a name="--index-entry-23821"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(struct-type-name structype)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the name associated to the structure type <code>structype</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="struct-type-change-writer-"></a><a name="--index-entry-23845"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(struct-type-change-writer! structype proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Change the default writer associated to structures of type <code>structype</code> to
to the <code>proc</code> procedure. The <code>proc</code> procedure must accept 2 arguments
(the structure to write and the port wher the structure must be written
in that order). The value returned by <code>struct-type-change-writer!</code> is the
old writer associated to <code>structype</code>. To restore the standard wtructure
writer for <code>structype</code>, use the special value <code>#f</code>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> point (make-struct-type 'point #f '(x y)))

(struct-type-change-writer!
  point
  (<strong>lambda</strong> (s port)
    (<strong>let</strong> ((type (struct-type s)))
      (format port <span class="source-string">&quot;{~A&quot;</span> (struct-type-name type))
      <span class="source-comment">;; display the slots and their value</span>
      (for-each (<strong>lambda</strong> (x)
       (format port <span class="source-string">&quot; ~A=~S&quot;</span> x (struct-ref s x)))
     (struct-type-slots type))
      (format port <span class="source-string">&quot;}&quot;</span>))))
(display (make-struct point 1 2)) -| {point x=1 y=2}
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="make-struct"></a><a name="--index-entry-23932"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(make-struct structype expr ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a newly allocated instance of the structure type <code>structype</code>,
whose slots are initialized to <code>expr</code> ... If fewer <code>expr</code> than the number of
instances are given to <code>make-struct</code>, the remaining slots are inialized with
the special <em>void</em> value.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="struct-"></a><a name="--index-entry-23975"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(struct? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is a structure, otherwise returns <code>#f</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let*</strong> ((type (make-struct-type 'point #f '(x y)))
       (inst (make-struct type 1 2)))
  (struct? inst))         &#8658; #t
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="struct-type"></a><a name="--index-entry-24025"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(struct-type s)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the structure type of the <code>s</code> structure</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="struct-ref"></a><a name="--index-entry-24049"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(struct-ref s slot-name)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the value associated to slot <code>slot-name</code> of the <code>s</code> structure.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> point  (make-struct-type 'point #f '(x y)))
(<span class="source-define">define</span> circle (make-struct-type 'circle point '(r)))
(<span class="source-define">define</span> p (make-struct point 1 2))
(<span class="source-define">define</span> c (make-struct circle 10 20 30))
(struct-ref p 'y) &#8658; 2
(struct-ref c 'r) &#8658; 30
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="struct-set-"></a><a name="--index-entry-24105"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(struct-set! s slot-name value)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Stores value in the to slot <code>slot-name</code> of the <code>s</code> structure. The value
returned by <code>struct-set!</code> is <em>void</em>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> point  (make-struct-type 'point #f '(x y)))
(<span class="source-define">define</span> p (make-struct point 1 2))
(struct-ref p 'x) &#8658; 1
(struct-set! p 'x 0)
(struct-ref p 'x) &#8658; 0
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="struct-is-a-"></a><a name="--index-entry-24167"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(struct-is-a? s structype)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return a boolean that indicates if the structure <code>s</code> is a of type <code>structype</code>.
Note that if <code>s</code> is an instance of a subtype of <em>S</em>, it is considered
also as an instance of type <em>S</em>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> point  (make-struct-type 'point #f '(x y)))
(<span class="source-define">define</span> circle (make-struct-type 'circle point '(r)))
(<span class="source-define">define</span> p (make-struct point 1 2))
(<span class="source-define">define</span> c (make-struct circle 10 20 30))
(struct-is-a? p point)   &#8658; #t
(struct-is-a? c point)   &#8658; #t
(struct-is-a? p circle)  &#8658; #f
(struct-is-a? c circle)  &#8658; #t
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="struct--list"></a><a name="--index-entry-24248"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(struct-&gt;list s)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the content of structure <code>s</code> as an A-list whose keys are the
slots of the structure type of <code>s</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> point  (make-struct-type 'point #f '(x y)))
(<span class="source-define">define</span> p (make-struct point 1 2))
(struct-&gt;list p) &#8658; ((x . 1) (y . 2))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Bytevectors"></a>
<h3 id="Bytevectors">4.10 Bytevectors</h3>
</div>
<div class="sectionbody"><a name="--index-entry-24295"></a><p><em> Bytevectors</em> represent blocks of binary data.  They
are fixed-length sequences of bytes, where a <em>byte</em> is an
exact integer in the range `(0, 255). A bytevector is typically more
space-efficient than a vector containing the same values.</p><p>The <em>length</em> of a bytevector is the number of elements
that it contains. This number is a non-negative integer that is fixed
when the bytevector is created. The <em>valid indexes</em> of a
bytevector are the exact non-negative integers less than the length of
the bytevector, starting at index zero as with vectors.</p><p>Bytevectors are written using the notation <code>#u8(byte ...</code>.
For example, a bytevector of length 3 containing the byte
0 in element 0, the byte 10 in element 1, and the byte 5 in
element 2 can be written as follows: <code>#u8(0 10 5)</code></p><p>Bytevector constants are self-evaluating, so they do not
need to be quoted in programs.</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="bytevector-"></a><a name="--index-entry-24311"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(bytevector? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>!t</code> if <code>obj</code> is a bytevector and returns <code>!f</code> otherwise.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="make-bytevector"></a><a name="--index-entry-24346"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(make-bytevector k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(make-bytevector k byte)</font></strong></code><br /><br />Returns a newly allocated bytevector of k bytes. If If <code>byte</code> is given,
then all elements of the bytevector are initialized to <code>byte</code>, otherwise
the contents of each element is 0.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(make-bytevector 2 12) &#8658; #u8(12 12)
(make-bytevector 3)    &#8658; #u8(0 0 0)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="bytevector"></a><a name="--index-entry-24399"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(bytevector byte ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a newly allocated bytevector containing its arguments.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(bytevector 1 3 5 1 3 5)   &#8658; #u8(1 3 5 1 3 5)
(bytevector)               &#8658; #u8()
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="bytevector-length"></a><a name="--index-entry-24438"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(bytevector-length bytevector)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the length of <code>bytevector</code> in bytes as an exact integer.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="bytevector-u8-ref"></a><a name="--index-entry-24463"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(bytevector-u8-ref bytevector k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the byte at index <code>k</code> of <code>bytevector</code> as an exact integer in the
range `(0..255). It is an error if <code>k</code> is not a valid index of <code>bytevector</code>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(bytevector-u8-ref #u8(1 1 2 3 5 8 13 21) 5    &#8658; 8
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="bytevector-u8-set-"></a><a name="--index-entry-24516"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(bytevector-u8-ref bytevector k byte)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Stores byte as the k th byte of bytevector. It is an error if <code>k</code>
is not a valid index of <code>bytevector</code>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((bv (bytevector 1 2 3 4)))
  (bytevector-u8-set! bv 1 3)
  bv)                             &#8658; #u8(1 3 3 4)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="bytevector-copy"></a><a name="--index-entry-24561"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(bytevector-copy bytevector)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(bytevector-copy bytevector start)</font></strong></code><br /><code><strong><font color="IndianRed">(bytevector-copy bytevector start end)</font></strong></code><br /><br />Returns a newly allocated bytevector containing the bytes in <code>bytevector</code>
between <code>start</code> and <code>end</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> a #u8(1 2 3 4 5))
(bytevector-copy a 2 4))       &#8658;  #u8(3 4)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="bytevector-copy-"></a><a name="--index-entry-24619"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(bytevector-copy! to at from)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(bytevector-copy! to at from start)</font></strong></code><br /><code><strong><font color="IndianRed">(bytevector-copy! to at from start end)</font></strong></code><br /><br />Copies the bytes of bytevector <code>from</code> between <code>start</code> and <code>end</code>
to bytevector <code>to</code>, starting at <code>at</code>. The order in which bytes
are copied is unspecified, except that if the source and
destination overlap, copying takes place as if the source is first
copied into a temporary bytevector and then into the destination.
This can be achieved without allocating storage by making sure
to copy in the correct direction in such circumstances.

It is an error if <code>at</code> is less than zero or greater than the length
of <code>to</code>. It is also an error if <code>(- (bytevector-length to) at)</code> is
less than <code>(- end start)</code>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> a (bytevector 1 2 3 4 5))
(<span class="source-define">define</span> b (bytevector 10 20 30 40 50))
(bytevector-copy! b 1 a 0 2)
b                                  &#8658;  #u8(10 1 2 40 50
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="bytevector-append"></a><a name="--index-entry-24710"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(bytevector-append bytevector ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a newly allocated bytevector whose elements are
the concatenation of the elements in the given bytevectors.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(bytevector-append #u8(0 1 2) #u8(3 4 5))
                    &#8658;  #u8(0 1 2 3 4 5)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string--utf8"></a><a name="utf8--string"></a><a name="--index-entry-24745"></a><a name="--index-entry-24749"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(utf8-&gt;string bytevector)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(utf8-&gt;string bytevector start)</font></strong></code><br /><code><strong><font color="IndianRed">(utf8-&gt;string bytevector start end)</font></strong></code><br /><code><strong><font color="IndianRed">(string-&gt;utf8 string)</font></strong></code><br /><code><strong><font color="IndianRed">(string-&gt;utf8 string start)</font></strong></code><br /><code><strong><font color="IndianRed">(string-&gt;utf8 string start end)</font></strong></code><br /><br />These procedures translate between strings and bytevectors
that encode those strings using the UTF-8 encoding.
The <code>utf8-&gt;string</code> procedure decodes the bytes of
a bytevector between <code>start</code> and <code>end</code> and returns the
corresponding string; the <code>string-&gt;utf8</code> procedure encodes the
characters of a string between <code>start</code> and <code>end</code> and returns
the corresponding bytevector.

It is an error for <code>bytevector</code> to contain invalid UTF-8 byte
sequences.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(utf8-&gt;string #u8(#x41))   &#8658; <span class="source-string">&quot;A&quot;</span>
(string-&gt;utf8 <span class="source-string">&quot;&quot;</span>)         &#8658; #u8((#xce #xbb)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Control-features"></a>
<h3 id="Control-features">4.11 Control features</h3>
</div>
<div class="sectionbody"><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="procedure-"></a><a name="--index-entry-24848"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(procedure? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is a procedure, otherwise returns <code>#f</code>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(procedure? car)                            &#8658;  #t
(procedure? 'car)                           &#8658;  #f
(procedure? (<strong>lambda</strong> (x) (* x x)))           &#8658;  #t
(procedure? '(<strong>lambda</strong> (x) (* x x)))          &#8658;  #f
(call-with-current-continuation procedure?) &#8658;  #t
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="apply"></a><a name="--index-entry-24922"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(apply proc arg1 ... args)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>Proc</code> must be a procedure and <code>args</code> must be a list. Calls <code>proc</code> with the
elements of the list
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(append (list arg1 ...) args)
</pre></td></tr>
</tbody></table></blockquote>

as the actual arguments.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(apply + (list 3 4))              &#8658;  7

(<span class="source-define">define</span> compose
  (<strong>lambda</strong> (f g)
     (<strong>lambda</strong> args
       (f (apply g args)))))

((compose sqrt *) 12 75)          &#8658;  30
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="map"></a><a name="--index-entry-24994"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(map proc list1 list2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />The <code>list</code>s must be lists, and <code>proc</code> must be a procedure taking as many
arguments as there are lists and returning a single value.
If more than one list is given, then they must all be the same length.
<code>Map</code> applies <code>proc</code> element-wise to the elements of the <code>list</code>s and returns
a list of the results, in order.  The dynamic order in which proc is applied
to the elements of the lists is unspecified.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(map cadr '((a b) (d e) (g h)))   &#8658;  (b e h)

(map (<strong>lambda</strong> (n) (expt n n))
     '(1 2 3 4 5))                &#8658;  (1 4 27 256 3125)

(map + '(1 2 3) '(4 5 6))         &#8658;  (5 7 9)

(<strong>let</strong> ((count 0))
  (map (<strong>lambda</strong> (ignored)
      (<strong>set!</strong> count (+ count 1))
      count)
       '(a b)))                   &#8658;  (1 2) <em>or</em> (2 1)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-map"></a><a name="--index-entry-25086"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-map proc string1 string2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />The <code>strings</code> must be strings, and <code>proc</code> must be a procedure taking as
many arguments as there are strings and returning a single
value. If more than one string is given and not all strings have the
same length, <code>string-map</code> terminates when the shortest list runs
out. <code>String-map</code> applies <code>proc</code> element-wise to the elements of the
strings and returns a string of the results, in order. The dynamic
order in which proc is applied to the elements of the <code>strings</code> is
unspecified.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(string-map char-downcase <span class="source-string">&quot;AbdEgH&quot;</span>)
         &#8658; <span class="source-string">&quot;abdegh&quot;</span>

(string-map
  (<strong>lambda</strong> (c)
    (integer-&gt;char (+ 1 (char-&gt;integer c))))
  <span class="source-string">&quot;HAL&quot;</span>)
         &#8658; <span class="source-string">&quot;IBM&quot;</span>

(string-map (<strong>lambda</strong> (c k)
           (<strong>if</strong> (eqv? k #u)
               (char-upcase c)
               (char-downcase c)))
         <span class="source-string">&quot;studlycaps&quot;</span>
         <span class="source-string">&quot;ululululul&quot;</span>)
      &#8658; <span class="source-string">&quot;StUdLyCaPs&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>

</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="vector-map"></a><a name="--index-entry-25185"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(vector-map proc vector1 vector2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />The <code>vectors</code> must be vectors, and <code>proc</code> must be a procedure
taking as many arguments as there are vectors and returning a single
value. If more than one vector is given and not all vectors have the
same length, <code>vector-map</code> terminates when the shortest list runs
out. <code>Vector-map</code> applies <code>proc</code> element-wise to the elements of the
vectors and returns a vector of the results, in order. The dynamic
order in which proc is applied to the elements of the <code>vectors</code> is
unspecified.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(vector-map cadr '#((a b) (d e) (g h)))
    &#8658;  #(b e h)

(vector-map (<strong>lambda</strong> (n) (expt n n))
         '#(1 2 3 4 5))
    &#8658; #(1 4 27 256 3125)

(vector-map + '#(1 2 3) '#(4 5 6))
    &#8658; #(5 7 9)

(<strong>let</strong> ((count 0))
  (vector-map
    (<strong>lambda</strong> (ignored)
      (<strong>set!</strong> count (+ count 1))
      count)
    '#(a b)))
    &#8658; #(1 2) or #(2 1)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="for-each"></a><a name="--index-entry-25283"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(for-each proc list1 list2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />The arguments to <code>for-each</code> are like the arguments to <code>map</code>, but <code>for-each</code>
calls proc for its side effects rather than for its values.
Unlike <code>map</code>, <code>for-each</code> is guaranteed to call proc on the elements of
the lists in order from the first element(s) to the last, and the value
returned by <code>for-each</code> is <em>void</em>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((v (make-vector 5)))
  (for-each (<strong>lambda</strong> (i)
              (vector-set! v i (* i i)))
            '(0 1 2 3 4))
  v)                                &#8658;  #(0 1 4 9 16)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string-for-each"></a><a name="--index-entry-25356"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-for-each proc string1 string2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />The arguments to <code>string-for-each</code> are like the arguments to
<code>string-map</code>, but <code>string-for-each</code> calls <code>proc</code> for its side effects
rather than for its values. Unlike <code>string-map</code>, <code>string-for-each</code> is
guaranteed to call <code>proc</code> on the elements of the lists in order from
the first element(s) to the last, and the value returned by
<code>string-for-each</code> is unspecified. If more than one string is given and
not all strings have the same length, <code>string-for-each</code> terminates when
the shortest string runs out.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((v (list)))
  (string-for-each (<strong>lambda</strong> (c) (<strong>set!</strong> v (cons (char-&gt;integer c) v)))
                   <span class="source-string">&quot;abcde&quot;</span>)
   v)
       &#8658; (101 100 99 98 97)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="vector-for-each"></a><a name="--index-entry-25442"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(vector-for-each proc vector1 vector2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />The arguments to <code>vector-for-each</code> are like the arguments to
<code>vector-map</code>, but <code>vector-for-each</code> calls <code>proc</code> for its side effects
rather than for its values. Unlike <code>vector-map</code>, <code>vector-for-each</code> is
guaranteed to call <code>proc</code> on the elements of the lists in order from
the first element(s) to the last, and the value returned by
<code>vector-for-each</code> is unspecified. If more than one vector is given and
not all vectors have the same length, <code>vector-for-each</code> terminates when
the shortest vector runs out.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((v (make-vector 5)))
  (vector-for-each (<strong>lambda</strong> (i) (vector-set! v i (* i i)))
                '#(0 1 2 3 4))
  v)
       &#8658; #(0 1 4 9 16)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="every"></a><a name="--index-entry-25526"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(every pred list1 list2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>every</code> applies the predicate <code>pred</code> across the lists, returning true if
the predicate returns true on every application.
<br /><br />
If there are n list arguments <code>list1</code> ... <code>listn</code>, then <code>pred</code> must be
a procedure taking n arguments and returning a boolean result.
<br /><br />
<code>every</code> applies pred to the first elements of the <code>listi</code> parameters. If
this application returns false, every immediately returns <code>#f</code>.
Otherwise, it iterates, applying <code>pred</code> to the second elements of the <code>listi</code>
parameters, then the third, and so forth. The iteration stops when a
false value is produced or one of the lists runs out of values.
In the latter case, <code>every</code> returns the true value produced by its final
application of pred. The application of pred to the last element of the
lists is a tail call.
<br /><br />
If one of the <code>listi</code> has no elements, <code>every</code> simply returns <code>#t</code>.
<br /><br />
Like <code>any</code>, every's name does not end with a question mark -- this is to
indicate that it does not return a simple boolean (<code>#t</code> or <code>#f</code>), but a
general value.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="any"></a><a name="--index-entry-25646"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(any pred list1 list2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>any</code> applies the predicate across the lists, returning true if the
predicate returns true on any application.
<br /><br />
If there are n list arguments <code>list1</code> ... <code>listn</code>, then <code>pred</code> must be
a procedure taking n arguments.
<br /><br />
<code>any</code> applies <code>pred</code> to the first elements of the <code>listi</code> parameters. If
this application returns a true value, <code>any</code> immediately returns that value.
Otherwise, it iterates, applying <code>pred</code> to the second elements of the <code>listi</code>
parameters, then the third, and so forth. The iteration stops when a true
value is produced or one of the lists runs out of values; in the latter case,
any returns <code>#f</code>. The application of <code>pred</code> to the last element of the
lists is a tail call.
<br /><br />
Like every, <code>any</code>'s name does not end with a question mark -- this is
to indicate that it does not return a simple boolean (<code>#t</code> or <code>#f</code>), but
a general value.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(any integer? '(a 3 b 2.7))   &#8658; #t
(any integer? '(a 3.1 b 2.7)) &#8658; #f
(any &lt; '(3 1 4 1 5)
       '(2 7 1 8 2))          &#8658; #t
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="call-cc"></a><a name="call-with-current-continuation"></a><a name="--index-entry-25779"></a><a name="--index-entry-25783"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(call-with-current-continuation proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(call/cc proc)</font></strong></code><br /><br /> <code>Proc</code> must be a procedure of one argument. The procedure
<code>call-with-current-continuation</code> packages up the current continuation
(see the rationale below) as an ``escape procedure'' and passes it as
an argument to <code>proc</code>. The escape procedure is a Scheme procedure that, if
it is later called, will abandon whatever continuation is in effect at
that later time and will instead use the continuation that was in effect
when the escape procedure was created. Calling the escape procedure may cause
the invocation of before and after thunks installed using <code>dynamic-wind</code>.
<br /><br />
The escape procedure accepts the same number of arguments as
the continuation to the original call to
<code>call-with-current-continuation</code>. Except for continuations created
by the <code>call-with-values</code> procedure, all continuations take exactly
one value.
<br /><br />
The escape procedure that is passed to proc has unlimited extent
just like any other procedure in Scheme. It may be stored in variables
or data structures and may be called as many times as desired.
<br /><br />
The following examples show only the most common ways in which
<code>call-with-current-continuation</code> is used. If all real uses were as simple
as these examples, there would be no need for a procedure with the power
of <code>call-with-current-continuation</code>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(call-with-current-continuation
  (<strong>lambda</strong> (exit)
    (for-each (<strong>lambda</strong> (x)
                (<strong>if</strong> (negative? x)
                    (exit x)))
              '(54 0 37 -3 245 19))
    #t))                                &#8658;  -3

(<span class="source-define">define</span> list-length
  (<strong>lambda</strong> (obj)
    (call-with-current-continuation
      (<strong>lambda</strong> (return)
        (<strong>letrec</strong> ((r
                  (<strong>lambda</strong> (obj)
                    (<strong>cond</strong> ((null? obj) 0)
                          ((pair? obj)
                           (+ (r (cdr obj)) 1))
                          (<strong>else</strong> (return #f))))))
          (r obj))))))

(list-length '(1 2 3 4))                &#8658;  4
(list-length '(a b . c))                &#8658;  #f
</pre></td></tr>
</tbody></table></blockquote>


<strong>Rationale:</strong> A common use of <code>call-with-current-continuation</code>
is for structured, non-local exits from loops or procedure bodies,
but in fact <code>call-with-current-continuation</code> is extremely useful
for implementing a wide variety of advanced control structures.
<br /><br />
Whenever a Scheme expression is evaluated there is a continuation
wanting the result of the expression. The continuation represents
an entire (default) future for the computation. If the expression
is evaluated at top level, for example, then the continuation
might take the result, print it on the screen, prompt for the
next input, evaluate it, and so on forever. Most of the time the
continuation includes actions specified by user code, as in a
continuation that will take the result, multiply it by the value
stored in a local variable, add seven, and give the answer to the
top level continuation to be printed. Normally these ubiquitous
continuations are hidden behind the scenes and programmers do not
think much about them. On rare occasions, however, a programmer
may need to deal with continuations explicitly.
<code>Call-with-current-continuation</code> allows Scheme
programmers to do that by creating a procedure that acts just
like the current continuation.
<br /><br />
<strong>Note:</strong> <code>call/cc</code> is just another name for
<code>call-with-current-continuation</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="call-ec"></a><a name="--index-entry-25955"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(call/ec proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>call/ec</code> is an short name for <code>call-with-escape-continuation</code>. <code>call/ec</code>
calls <code>proc</code> with one parameter, which is the current escape continuation
(a continuation which can only be used to abort a computation and hence
cannot be &quot;re-enterered&quot;.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(list 1
      (call/ec (<strong>lambda</strong> (return) (list 'a (return 'b) 'c)))
      3)        &#8658; (1 b 3)
</pre></td></tr>
</tbody></table></blockquote>

<code>call/ec</code> is cheaper than the full call/cc. It is particularily useful
when all the power of <code>call/cc</code> is not needded.</td></tr>
</tbody></table><a name="--index-entry-26019"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="values"></a><a name="--index-entry-26025"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(values obj ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Delivers all of its arguments to its continuation.
<strong>Note:</strong> <span style="font-variant: small-caps">R<sup>5</sup>RS</span> imposes to use multiple values in the context of
of a <code>call-with-values</code>. In <span style="font-variant: small-caps">STklos</span>, if <code>values</code> is not used with
<code>call-with-values</code>, only the first value is used (i.e. others values are
<em>ignored</em>).
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="call-with-values"></a><a name="--index-entry-26077"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(call-with-values producer consumer)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Calls its producer argument with no values and a continuation that,
when passed some values, calls the consumer procedure with those values
as arguments. The continuation for the call to consumer is the
continuation of the call to call-with-values.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(call-with-values (<strong>lambda</strong> () (values 4 5))
                  (<strong>lambda</strong> (a b) b))                &#8658;  5

(call-with-values * -)                             &#8658;  -1
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="receive"></a><a name="--index-entry-26120"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(receive &lt;formals&gt; &lt;expression&gt; &lt;body&gt;)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> syntax</i></font></td></tr>
</tbody></table>
<br />This form is defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-8/srfi-8.html">SRFI-8</a></strong>
      (<em>Receive: Binding to multiple values</em>). It simplifies
the usage of multiple values. Specifically, <code>&lt;formals&gt;</code> can have any
of three forms:
<ul><li>(<code>&lt;variable1&gt;</code> ... <code>&lt;variablen&gt;</code>):
<br />
The environment in which the
receive-expression is evaluated is extended by binding <code>&lt;variable1&gt;</code>, ...,
<code>&lt;variablen&gt;</code> to fresh locations.
<br /><br />
The <code>&lt;expression&gt;</code> is evaluated, and its
values are stored into those locations. (It is an error if <code>&lt;expression&gt;</code>
does not have exactly n values.)
</li>
<li><code>&lt;variable&gt;</code>:
<br />
The environment in which the receive-expression is
evaluated is extended by binding <code>&lt;variable&gt;</code> to a fresh location.
The <code>&lt;expression&gt;</code> is evaluated, its values are converted into a newly
allocated list, and the list is stored in the location bound to <code>&lt;variable&gt;</code>.
</li>
<li>(<code>&lt;variable1&gt;</code> ... <code>&lt;variablen&gt;</code> . <code>&lt;variablen + 1&gt;</code>):
<br />
The environment
in which the receive-expression is evaluated is extended by binding
<code>&lt;variable1&gt;</code>, ..., <code>&lt;variablen + 1&gt;</code> to fresh locations.
The <code>&lt;expression&gt;</code> is evaluated. Its first n values are stored into the
locations bound to <code>&lt;variable1&gt;</code> ... <code>&lt;variablen&gt;</code>. Any remaining values
are converted into a newly allocated list, which is stored into the location
bound to <code>&lt;variablen + 1&gt;</code>. (It is an error if <code>&lt;expression&gt;</code> does not have
at least n values.)</li>
</ul>

In any case, the expressions in <code>&lt;body&gt;</code> are evaluated sequentially in
the extended environment. The results of the last expression in the body
are the values of the receive-expression.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((n 123))
  (receive (q r)
     (values (quotient n 10) (modulo n 10))
     (cons q r)))
              &#8658; (12 . 3)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="dynamic-wind"></a><a name="--index-entry-26303"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(dynamic-wind before thunk after)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Calls <code>thunk</code> without arguments, returning the result(s) of this call.
<code>Before</code> and <code>after</code> are called, also without arguments, as required by
the following rules (note that in the absence of calls to continuations
captured using <code>call-with-current-continuation</code> the three arguments are
called once each, in order).  <code>Before</code> is called whenever execution enters
the dynamic extent of the call to <code>thunk</code> and <code>after</code> is called whenever
it exits that dynamic extent.  The dynamic extent of a procedure call is
the period between when the call is initiated and when it returns.
In Scheme, because of <code>call-with-current-continuation</code>, the dynamic
extent of a call may not be a single, connected time period. It is
defined as follows:
<ul><li>The dynamic extent is entered when execution of the body of
the called procedure begins.</li>
<li>The dynamic extent is also entered when execution is not
within the dynamic extent and a continuation is invoked that was
captured (using <code>call-with-current-continuation</code>) during the dynamic extent.</li>
<li>It is exited when the called procedure returns.</li>
<li>It is also exited when execution is within the dynamic
extent and a continuation is invoked that was captured while not within
the dynamic extent.</li>
</ul>
<br /><br />
If a second call to <code>dynamic-wind</code> occurs within the dynamic extent
of the call to thunk and then a continuation is invoked in such a
way that the afters from these two invocations of <code>dynamic-wind</code>
are both to be called, then the after associated with the
second (inner) call to <code>dynamic-wind</code> is called first.

If a second call to <code>dynamic-wind</code> occurs within the dynamic extent
of the call to <code>thunk</code> and then a continuation is invoked in such a
way that the befores from these two invocations of <code>dynamic-wind</code>
are both to be called, then the before associated with the
first (outer) call to <code>dynamic-wind</code> is called first.

If invoking a continuation requires calling the <code>before</code> from one
call to <code>dynamic-wind</code> and the <code>after</code> from another, then the <code>after</code>
is called first.

The effect of using a captured continuation to enter or exit the
dynamic extent of a call to <code>before</code> or <code>after</code> is undefined.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((path '())
      (c #f))
  (<strong>let</strong> ((add (<strong>lambda</strong> (s)
               (<strong>set!</strong> path (cons s path)))))
    (dynamic-wind
      (<strong>lambda</strong> () (add 'connect))
      (<strong>lambda</strong> ()
        (add (call-with-current-continuation
               (<strong>lambda</strong> (c0)
                 (<strong>set!</strong> c c0)
                 'talk1))))
      (<strong>lambda</strong> () (add 'disconnect)))
    (<strong>if</strong> (&lt; (length path) 4)
        (c 'talk2)
        (reverse path))))
                  &#8658;  (connect talk1 disconnect
                       connect talk2 disconnect)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="eval"></a><a name="--index-entry-26492"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(eval expression environment)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(eval expression)</font></strong></code><br /><br />Evaluates expression in the specified environment and returns its
value. <code>Expression</code> must be a valid Scheme expression represented
as data. <code>Environment</code> may be a <span style="font-variant: small-caps">R<sup>5</sup>RS</span> environment-specifier
(<code>interaction-environment</code>, <code>scheme-report-environment</code> or
<code>null-environment</code>) or a <span style="font-variant: small-caps">STklos</span> module.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(eval '(* 7 3) (scheme-report-environment 5))
              &#8658; 21
(<strong>let</strong> ((f (eval '(<strong>lambda</strong> (f x) (f x x))
               (null-environment 5))))
  (f + 10))
              &#8658; 20
(<span class="source-define">define-module</span> A
  (<span class="source-define">define</span> x 1))
(eval '(cons x x) (find-module 'A))
              &#8658; (1 . 1)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="scheme-report-environment"></a><a name="--index-entry-26586"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(scheme-report-environment)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(scheme-report-environment version)</font></strong></code><br /><br />Returns a specifier for an environment that contains the bindings defined
in the <span style="font-variant: small-caps">R<sup>5</sup>RS</span> report.
<br />
<strong>Note</strong>: In <span style="font-variant: small-caps">STklos</span>, <code>scheme-report-environment</code> function can be called
without the version number (defaults to 5).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="null-environment"></a><a name="--index-entry-26632"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(null-environment)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(null-environment version)</font></strong></code><br /><br />Returns a specifier for an environment that is empty except for
the (syntactic) bindings for all syntactic keywords defined in
the <span style="font-variant: small-caps">R<sup>5</sup>RS</span> report.
<br />
<strong>Note</strong>: In <span style="font-variant: small-caps">STklos</span>, <code>null-environment</code> function can be called
without the version number (defaults to 5).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="interaction-environment"></a><a name="--index-entry-26678"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(interaction-environment)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />This procedure returns the environment in the expression are
evaluated by default (the <span style="font-variant: small-caps">STklos</span> module).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="eval-from-string"></a><a name="--index-entry-26702"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(eval-from-string str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(eval-from-string str module)</font></strong></code><br /><br />Read an expression from <code>str</code> and evaluates it with <code>eval</code>. If a <code>module</code>
is passed, the evaluation takes place in the environment of this module.
Otherwise, the evaluation takes place in the environment returned by
<code>current-module</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> x 10)
(<span class="source-define">define-module</span> M
  (<span class="source-define">define</span> x 100))
(eval-from-string <span class="source-string">&quot;(+ x x)&quot;</span>)                   &#8658; 20
(eval-from-string <span class="source-string">&quot;(+ x x)&quot;</span> (find-module 'M))  &#8658; 200
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Input-and-Output"></a>
<h3 id="Input-and-Output">4.12 Input and Output</h3>
</div>
<div class="sectionbody"><a name="--index-entry-26775"></a><a name="--index-entry-26779"></a><a name="--index-entry-26783"></a><a name="--index-entry-26787"></a><p><span style="font-variant: small-caps">R<sup>5</sup>RS</span> states that ports represent input and output
devices.  However, it defines only ports which are attached to
files.  In <span style="font-variant: small-caps">STklos</span>, ports can also be attached to strings, to a
external command input or output, or even be virtual (i.e. the
behavior of the port is given by the user).</p><ul><li>String ports are similar to file ports, except that characters
are read from (or written to) a string rather than a file.</li>
<li>External command input or output ports are implemented
with Unix pipes and are called <em>pipe ports</em>. A pipe port
is created by specifying the command to execute prefixed with the
string <code>"| "</code> (that is a pipe bar followed by a space).
Specification of a pipe port can occur everywhere a file name is needed.</li>
<li>Virtual ports are created by supplying basic I/O functions at
port creation time. These functions will be used to simulate low
level accesses to a ``virtual device''. This kind of port is
particularly convenient for reading or writing in a graphical
window as if it was a file. Once a virtual port is created, it can
be accessed as a normal port with the standard Scheme primitives.</li>
</ul><div class="subsectiondiv"><div class="subsectiontitle"><a name="Ports"></a>
<h4 id="Ports">4.12.1 Ports</h4>
</div>
<div class="subsectionbody"><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="call-with-port"></a><a name="--index-entry-26804"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(call-with-port port proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />The <code>call-with-port</code> procedure calls <code>proc</code> with <code>port</code> as an
argument. If <code>proc</code> returns, then the <code>port</code> is closed automatically
and the values yielded by the <code>proc</code> are returned.
If <code>proc</code> does not return, then the <code>port</code> must not be closed
automatically unless it is possible to prove that the port
will never again be used for a read or write operation.

It is an error if proc does not accept one argument.

fine (call-with-port port proc)
;(unless (port? port)
 (error 'call-with-port  &quot;bad port ~S&quot; port))
;(unless (and (procedure? proc) (memq (%procedure-arity proc) '(-2 -1 1)))
 (error 'call-with-port &quot;bad procedure ~S&quot; proc))
%claim-error 'call-with-port
             (let ((res (call-with-values
                            (lambda () (proc port))
                          list)))
               (close-port port)
               (apply values res))))



c <span style="font-variant: small-caps">R<sup>7</sup>RS</span> input-port-open? output-port-open?
(input-port-open? port)
(output-port-open? port)

Returns #t if port is still open and capable of performing
input or output, respectively, and #f otherwise.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="call-with-output-file"></a><a name="call-with-input-file"></a><a name="--index-entry-26870"></a><a name="--index-entry-26874"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(call-with-input-file string proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(call-with-output-file string proc)</font></strong></code><br /><br /><code>String</code> should be a string naming a file, and <code>proc</code> should be a procedure
that accepts one argument. For <code>call-with-input-file</code>, the file should
already exist. These procedures call <code>proc</code> with one argument: the port
obtained by opening the named file for input or output. If the file cannot
be opened, an error is signaled. If <code>proc</code> returns, then the port is closed
automatically and the value(s) yielded by the proc is(are) returned.
If proc does not return, then the port will not be closed automatically.
<br /><br />
<strong>Rationale:</strong> Because Scheme's escape procedures have unlimited extent,
it is possible to escape from the current continuation but later to escape
back in. If implementations were permitted to close the port on any escape
from the current continuation, then it would be impossible to write portable
code using both <code>call-with-current-continuation</code> and <code>call-with-input-file</code>
or <code>call-with-output-file</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="call-with-input-string"></a><a name="--index-entry-26946"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(call-with-input-string string proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />behaves as <code>call-with-input-file</code> except that the port passed to <code>proc</code>
is the sting port obtained from <code>port</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(call-with-input-string <span class="source-string">&quot;123 456&quot;</span>
  (<strong>lambda</strong> (x)
     (<strong>let*</strong> ((n1 (read x))
            (n2 (read x)))
        (cons n1 n2))))          &#8658; (123 . 456)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="call-with-output-string"></a><a name="--index-entry-27000"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(call-with-output-string proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>Proc</code> should be a procedure of one argument. <code>Call-with-output-string</code>
calls <code>proc</code> with a freshly opened output string port. The result of
this procedure is a string containing all the text that has been written
on the string port.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(call-with-output-string
  (<strong>lambda</strong> (x) (write 123 x) (display <span class="source-string">&quot;Hello&quot;</span> x))) &#8658; <span class="source-string">&quot;123Hello&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="output-port-"></a><a name="input-port-"></a><a name="--index-entry-27052"></a><a name="--index-entry-27056"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(input-port? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(output-port? obj)</font></strong></code><br /><br />Returns <code>#t</code> if <code>obj</code> is an input port or output port respectively,
otherwise returns #f.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="binary-port-"></a><a name="textual-port-"></a><a name="--index-entry-27091"></a><a name="--index-entry-27095"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(textual-port? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(binary-port? obj)</font></strong></code><br /><br />Returns <code>#t</code> if <code>obj</code> is an textual port or binary port respectively,
otherwise returns #f.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="port-"></a><a name="--index-entry-27129"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(port? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is an input port or an output port,
otherwise returns #f.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="output-string-port-"></a><a name="input-string-port-"></a><a name="--index-entry-27160"></a><a name="--index-entry-27164"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(input-string-port? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(output-string-port? obj)</font></strong></code><br /><br />Returns <code>#t</code> if <code>obj</code> is an input string port or output string port
respectively, otherwise returns #f.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="output-bytevector-port-"></a><a name="input-bytevector-port-"></a><a name="--index-entry-27198"></a><a name="--index-entry-27202"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(input-bytevector-port? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(output-bytevector-port? obj)</font></strong></code><br /><br />Returns <code>#t</code> if <code>obj</code> is an input bytevector port or output bytevector port
respectively, otherwise returns #f.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="output-file-port-"></a><a name="input-file-port-"></a><a name="--index-entry-27236"></a><a name="--index-entry-27240"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(input-file-port? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(output-file-port? obj)</font></strong></code><br /><br />Returns <code>#t</code> if <code>obj</code> is a file input port or a file output port respectively,
otherwise returns #f.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="output-virtual-port-"></a><a name="input-virtual-port-"></a><a name="--index-entry-27274"></a><a name="--index-entry-27278"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(input-virtual-port? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(output-virtual-port? obj)</font></strong></code><br /><br />Returns <code>#t</code> if <code>obj</code> is a virtual input port or a virtual output port
respectively, otherwise returns #f.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="interactive-port-"></a><a name="--index-entry-27311"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(interactive-port? port)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>port</code> is connected to a terminal and <code>#f</code> otherwise.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="current-output-port"></a><a name="current-input-port"></a><a name="--index-entry-27346"></a><a name="--index-entry-27350"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(current-input-port obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(current-output-port obj)</font></strong></code><br /><br />Returns the current default input or output port.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="current-error-port"></a><a name="--index-entry-27374"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(current-error-port obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the current default error port.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="with-output-to-file"></a><a name="with-input-from-file"></a><a name="--index-entry-27394"></a><a name="--index-entry-27398"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(with-input-from-file string thunk)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(with-output-to-file string thunk)</font></strong></code><br /><br /><code>String</code> should be a string naming a file, and <code>proc</code> should be a
procedure of no arguments. For <code>with-input-from-file</code>, the file should
already exist. The file is opened for input or output, an input or output
port connected to it is made the default value returned by
<code>current-input-port</code> or <code>current-output-port</code> (and is used by <code>(read)</code>,
<code>(write obj)</code>, and so forth), and the thunk is called with no arguments.
When the thunk returns, the port is closed and the previous default is
restored. <code>With-input-from-file</code> and <code>with-output-to-file</code> return(s)
the value(s) yielded by thunk.
<br /><br />
The following example uses a pipe port opened for reading. It permits to
read all the lines produced by an external <em>ls</em> command (i.e. the
output of the <em>ls</em> command is <em>redirected</em> to the Scheme pipe
port).
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(with-input-from-file <span class="source-string">&quot;| ls -ls&quot;</span>
  (<strong>lambda</strong> ()
    (<strong>do</strong> ((l (read-line) (read-line)))
        ((eof-object? l))
      (display l)
      (newline))))
</pre></td></tr>
</tbody></table></blockquote>


Hereafter is another example of Unix command redirection. This time,
it is the standard input of the Unix command which is redirected.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(with-output-to-file <span class="source-string">&quot;| mail root&quot;</span>
  (<strong>lambda</strong> ()
    (display <span class="source-string">&quot;A simple mail from Scheme&quot;</span>)
    (newline)))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="with-error-to-file"></a><a name="--index-entry-27514"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(with-error-to-file string thunk)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This procedure is similar to with-output-to-file, excepted that it uses the
current error port instead of the output port.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="with-input-from-string"></a><a name="--index-entry-27533"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(with-input-from-string string thunk)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />A string port is opened for input from <code>string</code>. <code>Current-input-port</code>
is set to the port and <code>thunk</code> is called. When <code>thunk</code> returns,
the previous default input port is restored. <code>With-input-from-string</code>
returns the value(s) computed by <code>thunk</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(with-input-from-string <span class="source-string">&quot;123 456&quot;</span>
  (<strong>lambda</strong> () (read)))                       &#8658;  123
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="with-output-to-string"></a><a name="--index-entry-27598"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(with-output-to-string thunk)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />A string port is opened for output. <code>Current-output-port</code>
is set to it and <code>thunk</code> is called. When <code>thunk</code> returns,
the previous default output port is restored. <code>With-output-to-string</code>
returns the string containing the text written on the string port.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(with-output-to-string
   (<strong>lambda</strong> () (write 123) (write <span class="source-string">&quot;Hello&quot;</span>))) &#8658; <span class="source-string">&quot;123\&quot;</span>Hello\<span class="source-string">&quot;&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="with-error-to-port"></a><a name="with-output-to-port"></a><a name="with-input-from-port"></a><a name="--index-entry-27657"></a><a name="--index-entry-27661"></a><a name="--index-entry-27665"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(with-input-from-port port thunk)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(with-output-to-port port thunk)</font></strong></code><br /><code><strong><font color="IndianRed">(with-error-to-port port thunk)</font></strong></code><br /><br /><code>Port</code> should be a port, and <code>proc</code> should be a
procedure of no arguments. These procedures do a job similar to the
<code>with-...-file</code> counterparts  excepted that they use an open port instead
of string specifying a file name</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="open-input-file"></a><a name="--index-entry-27707"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(open-input-file filename)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Takes a string naming an existing file and returns an input port capable
of delivering characters from the file. If the file cannot be opened,
an error is signalled.
<br /><br />
<strong>Note:</strong> if <code>filename</code> starts with the string <code>"| "</code>,
this procedure returns a pipe port. Consequently, it is not possible to
open a file whose name starts with those two characters.</td></tr>
</tbody></table><a name="--index-entry-27744"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="open-input-string"></a><a name="--index-entry-27750"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(open-input-string str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns an input string port capable of delivering characters from
<code>str</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="open-input-bytevector"></a><a name="--index-entry-27774"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(open-input-string bytevector)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Takes a bytevector and returns a binary input port that
delivers bytes from the <code>bytevector</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="open-input-virtual"></a><a name="--index-entry-27799"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(open-input-virtual :key  (read-char #f) (ready? #f) (eof? #f) (close #f))</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a virtual port using the <code>read-char</code> procedure to read a
character from the port, <code>ready?</code> to know if there is any data to
read from the port, <code>eof?</code> to know if the end of file is reached
on the port and finally <code>close</code> to close the port. All theses
procedure takes one parameter which is the port from which the input
takes place.  <code>Open-input-virtual</code> accepts also the special value
<code>#f</code> for the I/O procedures with the following conventions:
<ul><li>if <code>read-char</code> or <code>eof?</code> is <code>#f</code>, any attempt to read
the virtual port will return an eof object;</li>
<li>if <code>ready?</code> is <code>#f</code>, the file is always  ready
for reading;</li>
<li>if <code>close</code> is <code>#f</code>, no action is done when the port is
closed.</li>
</ul>
<br /><br />
Hereafter is a possible implementation of <code>open-input-string</code>
using virtual ports:
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> (open-input-string str)
  (<strong>let</strong> ((index 0))
    (open-input-virtual
       <span class="source-key">:read-char</span> (<strong>lambda</strong> (p)
                 <span class="source-comment">;; test on eof is already done by the system</span>
                 (<strong>let</strong> ((res (string-ref str index)))
                   (<strong>set!</strong> index (+ index 1))
                   res))
       <span class="source-key">:eof?</span> (<strong>lambda</strong> (p) (&gt;= index (string-length str))))))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="open-output-file"></a><a name="--index-entry-27930"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(open-output-file filename)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Takes a string naming an output file to be created and returns an output
port capable of writing characters to a new file by that name. If the file
cannot be opened, an error is signalled. If a file with the given name
already exists, it is rewritten.
<br /><br />
<strong>Note:</strong> if <code>filename</code> starts with the string <code>"| "</code>,
this procedure returns a pipe port. Consequently, it is not possible to
open a file whose name starts with those two characters.</td></tr>
</tbody></table><a name="--index-entry-27967"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="open-output-string"></a><a name="--index-entry-27973"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(open-output-string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns an output string port capable of receiving and collecting characters.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="open-output-bytevector"></a><a name="--index-entry-27992"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(open-output-bytevector)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a binary output port that will accumulate bytes
for retrieval by <code>get-output-bytevector</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="open-output-virtual"></a><a name="--index-entry-28017"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(open-output-virtual :key  (write-char #f) (write-string #f) (flush #f) (close #f))</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a virtual port using the <code>write-char</code> procedure to write a
character to the port, <code>write-string</code> to write a string to the port,
<code>flush</code> to (eventuelly) flush the characters on the port and finally
<code>close</code>to close the port. <code>Write-char</code> takes two parameters: a character and
the port to which the output must be done. <code>write-string</code> takes two
parameters: a string and a port. <code>Flush</code> and <code>Close</code> take one
parameter which is the port on which the action must be done.
<code>Open-output-virtual</code> accepts also the special value <code>#f</code>
for the I/O procedures. If a procedure is <code>#f</code> nothing is done
on the corresponding action.
<br /><br />
Hereafter is an (very inefficient) implementation of a variant of
<code>open-output-string</code> using virtual ports. The value of the output
string is printed when the port is closed:
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> (open-output-string)
  (<strong>let</strong> ((str <span class="source-string">&quot;&quot;</span>))
    (open-output-virtual
       <span class="source-key">:write-char</span> (<strong>lambda</strong> (c p)
                  (<strong>set!</strong> str (string-append str (string c))))
       <span class="source-key">:write-string</span> (<strong>lambda</strong> (s p)
                    (<strong>set!</strong> str (string-append str s)))
       <span class="source-key">:close</span> (<strong>lambda</strong> (p) (write str) (newline)))))
</pre></td></tr>
</tbody></table></blockquote>

<strong>Note:</strong> <code>write-string</code> is mainly used for writing strings and is
generally more efficient than writing the string character by character.
However, if <code>write-string</code> is not provided, strings are printed with
<code>write-char</code>.  On the other hand, if <code>write-char</code> is absent,
characters are written by successive allocation of one character strings.
<br /><br />
Hereafter is another example: a virtual file port where all characters
are converted to upper case:
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> (open-output-uppercase-file file)
  (<strong>let</strong> ((out (open-file file <span class="source-string">&quot;w&quot;</span>)))
    (and out
         (open-output-virtual
             <span class="source-key">:write-string</span> (<strong>lambda</strong> (s p)
                             (display (string-upper s) out))
             <span class="source-key">:close</span> (<strong>lambda</strong> (p)
                      (close-port out))))))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="open-file"></a><a name="--index-entry-28177"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(open-file filename mode)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Opens the file whose name is <code>filename</code> with the specified string
<code>mode</code> which can be:
<ul><li><code>&quot;r&quot;</code> to open file for reading. The stream is positioned at
the beginning of the file.</li>
<li><code>&quot;r+&quot;</code> to open file for reading and writing.  The stream is
positioned at the beginning of the file.</li>
<li><code>&quot;w&quot;</code> to truncate file to zero length or create file for writing.
The stream is positioned at the beginning of the file.</li>
<li><code>&quot;w+&quot;</code> to open  file for reading and writing. The file is created
if it does not exist, otherwise it is truncated. The stream is positioned
at the beginning of the file.</li>
<li><code>&quot;a&quot;</code> to open for writing.  The file is created if  it  does
not exist. The stream is positioned at the end of the file.</li>
<li><code>&quot;a+&quot;</code> to open file for reading and writing. The file is created
if it does not exist. The stream is positioned at the end of the file.</li>
</ul>
If the file can be opened, <code>open-file</code> returns the textual port associated 
with the given file, otherwise it returns <code>#f</code>. Here again, the ``magic''
string &quot;| &quot; permits to open a pipe port (in this case mode can only be
<code>&quot;r&quot;</code> or <code>&quot;w&quot;</code>).</td></tr>
</tbody></table><a name="--index-entry-28276"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="get-output-string"></a><a name="--index-entry-28282"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(get-output-string port)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a string containing all the text that has been written on the
output string <code>port</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre> (<strong>let</strong> ((p (open-output-string)))
    (display <span class="source-string">&quot;Hello, world&quot;</span> p)
    (get-output-string p))         &#8658; <span class="source-string">&quot;Hello, world&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="get-output-bytevector"></a><a name="--index-entry-28324"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(get-output-bytevector port)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a bytevector consisting of the bytes that have been
output to the <code>port</code> so far in the order they were output.

 <blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre> (<strong>let</strong> ((p (open-output-bytevector)))
    (u8-write 65)
    (u8-write 66)
    (get-output-bytevector p))         &#8658; #u8(65 66)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="close-output-port"></a><a name="close-input-port"></a><a name="--index-entry-28366"></a><a name="--index-entry-28370"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(close-input-port port)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(close-output-port port)</font></strong></code><br /><br />Closes the port associated with <code>port</code>, rendering the port incapable of
delivering or accepting characters. These routines have no effect if the
port has already been closed. The value returned is <em>void</em>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="close-port"></a><a name="--index-entry-28403"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(close-port port)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Closes the port associated with <code>port</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="port-rewind"></a><a name="--index-entry-28428"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(port-rewind port)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Sets the port position to the beginning of <code>port</code>. The value returned by
<code>port-rewind</code> is <em>void</em>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="seek-file-port"></a><a name="--index-entry-28461"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(port-seek port pos)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(port-seek port pos whence)</font></strong></code><br /><br />Sets the file position for the given <code>port</code> to the position <code>pos</code>.
The new position, measured in bytes, is obtained by adding <code>pos</code>
bytes to the position specified by <code>whence</code>. If passed, <code>whence</code>
must be one of <code>:start</code>, <code>:current</code> or <code>:end</code>. The resulting
position is relative to the start of the file, the current position
indicator, or end-of-file, respectively. If <code>whence</code> is omitted, it
defaults to <code>:start</code>.
<br /><br />
<strong>Note</strong>: After using port-seek, the value returned by
<code>port-current-line</code> may be incorrect.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="port-current-line"></a><a name="--index-entry-28547"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(port-current-line)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(port-current-line port)</font></strong></code><br /><br />Returns the current line number associated to the given input <code>port</code> as an
integer. The <code>port</code> argument may be omitted, in which case it defaults to
the value returned by <code>current-input-port</code>.
<br /><br />
<strong>Note</strong>: The <code>port-seek</code>, <code>read-chars</code> and <code>read-chars!</code> procedures
generally break the line-number. After using one of theses procedures, the
value returned by <code>port-current-line</code> will be <code>-1</code> (except a <code>port-seek</code>
at the beginning of the port reinitializes the line counter).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="port-current-position"></a><a name="--index-entry-28623"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(port-current-position)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(port-current-position port)</font></strong></code><br /><br />Returns the position associated to the given <code>port</code> as an
integer (i.e. number of characters from the beginning of the port).
The <code>port</code> argument may be omitted, in which case it defaults to
the value returned by <code>current-input-port</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="port-file-name"></a><a name="--index-entry-28661"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(port-file-name port)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the file name used to open <code>port</code>; <code>port</code> must be a file port.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="port-idle-reset-"></a><a name="port-idle-unregister-"></a><a name="port-idle-register-"></a><a name="--index-entry-28692"></a><a name="--index-entry-28696"></a><a name="--index-entry-28700"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(port-idle-register! port thunk)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(port-idle-unregister! port thunk)</font></strong></code><br /><code><strong><font color="IndianRed">(port-idle-reset! port)</font></strong></code><br /><br /><code>port-idle-register!</code> allows to register <code>thunk</code> as an idle handler
when reading on port. That means that <code>thunk</code> will be called continuously
while waiting  an input on <code>port</code> (and only while using a reading
primitive on this port). <code>port-idle-unregister!</code> can be used to
unregister a handler previously set by <code>port-idle-register!</code>. The
primitive <code>port-idle-reset!</code> unregisters all the handlers set on
<code>port</code>.

Hereafter is a (not too realistic) example: a message will be displayed
repeatedly until a <em>sexpr</em> is read on the current input port.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((idle (<strong>lambda</strong> () (display <span class="source-string">&quot;Nothing to read!\n&quot;</span>))))
  (port-idle-register! (current-input-port) idle)
  (<strong>let</strong> ((result (read)))
    (port-idle-unregister! (current-input-port) idle)
    result))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="port-closed-"></a><a name="port-open-"></a><a name="--index-entry-28788"></a><a name="--index-entry-28792"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(port-closed? port)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(port-open?  port)</font></strong></code><br /><br /><code>port-closed?</code> returns <code>#t</code> if <code>port</code> is closed and <code>#f</code> otherwise.
On the contrary, <code>port-open?</code> returns <code>#t</code> if <code>port</code> is open and
<code>#f</code> otherwise.
<br /><br />
<strong>Note:</strong> <code>port-closed?</code> was the usual <span style="font-variant: small-caps">STklos</span> function to
test if a port is closed. <code>port-open?</code> has been added to be the companion
of the <span style="font-variant: small-caps">R<sup>7</sup>RS</span> functions <code>input-port-open?</code> and <code>output-port-open?</code></td></tr>
</tbody></table> The following procedures are defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-192/srfi-192.html">SRFI-192</a></strong>
      (<em>Port Positioning</em>) which is fully
  supported:<a name="--index-entry-28893"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="port-has-port-position-"></a><a name="--index-entry-28899"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(port-has-port-position? port)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />The port-has-port-position? procedure returns #t if the port
supports the port-position operation, and #f otherwise. If the port
does not support the operation, port-position signals an error.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="port-position"></a><a name="--index-entry-28918"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(port-position port)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />The port-position procedure returns an object representing the
information state  about the port current position as is
necessary to save and restore that position. This value can be useful
only as the pos argument to set-port-position!, if the latter is even
supported on the port. However, if the port is binary and the object
is an exact integer, then it is the position measured in bytes, and
can be used to compute a new position some specified number of bytes
away.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="port-has-set-port-position--"></a><a name="--index-entry-28937"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(port-has-set-port-position!? port)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />The port-has-set-port-position!? procedure returns #t if the port supports
the set-port-position! operation, and #f otherwise.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="set-port-position-"></a><a name="--index-entry-28956"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(set-port-position! port pos)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />For a textual port, it is implementation-defined what happens if pos is not
the return value of a call to port-position on port. However, a binary port
will also accept an exact integer, in which case the port position is set to
the specified number of bytes from the beginning of the port data. If this
is not sufficient information to specify the port state, or the specified
position is uninterpretable by the port, an error satisfying
i/o-invalid-position-error? is signaled.

If set-port-position! procedure is invoked on a port that does not support
the operation or if pos is not in the range of valid positions of port,
set-port-position! signals an error. Otherwise, it sets the current position
of the port to pos. If port is an output port, set-port-position! first flushes
port (even if the port position will not change).

If port is a binary output port and the current position is set beyond the
current end of the data in the underlying data sink, the object is not extended
until new data is written at that position. The contents of any intervening
positions are unspecified. It is also possible to set the position of a binary
input port beyond the end of the data in the data source, but a read will fail
unless the data has been extended by other means. File ports can always be
extended in this manner within the limits of the underlying operating system.
In other types of ports, if an attempt is made to set the position beyond the
current end of data in the underlying object, and the object does not support
extension, an error satisfying i/o-invalid-position-error? is signaled.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="make-i-o-invalid-position-error"></a><a name="--index-entry-28975"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(make-i/o-invalid-position-error pos)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a condition object which satisfies i/o-invalid-position-error?.
The pos argument represents a position passed to set-position!.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="i-o-invalid-position-error-"></a><a name="--index-entry-28994"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(i/o-invalid-position-error? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns #t if obj is an object created by
make-i/o-invalid-position-error? or an object raised in the circumstances
described in SRFI-192 (attempt to access an invalid position in the
stream), or #f if it is not.</td></tr>
</tbody></table></div></div><div class="subsectiondiv"><div class="subsectiontitle"><a name="Input"></a>
<h4 id="Input">4.12.2 Input</h4>
</div>
<div class="subsectionbody"><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="read"></a><a name="--index-entry-29016"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(read)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(read port)</font></strong></code><br /><br /><code>Read</code> converts external representations of Scheme objects into the
objects themselves. <code>Read</code> returns the next object parsable from the given
input port, updating port to point to the first character past the end of
the external representation of the object.
<br /><br />
If an end of file is encountered in the input before any characters are found
that can begin an object, then an end of file object is returned. The port
remains open, and further attempts to read will also return an end of file
object. If an end of file is encountered after the beginning of an object's
external representation, but the external representation is incomplete
and therefore not parsable, an error is signalled.
<br /><br />
The port argument may be omitted, in which case it defaults to the value
returned by <code>current-input-port</code>. It is an error to read from a closed port.
<br /><br />
<span style="font-variant: small-caps">STklos</span> <code>read</code> supports the  <strong><a  class="http" href="http://srfi.schemers.org/srfi-10/srfi-10.html">SRFI-10</a></strong>
      (<em>Sharp Comma External Form</em>) <code>#</code> form that can be used
to denote values that do not have a convenient printed representation. See
the SRFI document for more information.</td></tr>
</tbody></table><a name="--index-entry-29087"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="read-with-shared-structure"></a><a name="--index-entry-29093"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(read-with-shared-structure)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(read-with-shared-structure  port)</font></strong></code><br /><code><strong><font color="IndianRed">(read/ss)</font></strong></code><br /><code><strong><font color="IndianRed">(read/ss port)</font></strong></code><br /><br /><code>read-with-shared-structure</code> is identical to <code>read</code>. It has been added to
be compatible with  <strong><a  class="http" href="http://srfi.schemers.org/srfi-38/srfi-38.html">SRFI-38</a></strong>
      (<em>External representation of shared structures</em>). <span style="font-variant: small-caps">STklos</span> always knew how to deal with
recursive input data. <code>read/ss</code> is only a shorter name for
<code>read-with-shared-structure</code>.
</td></tr>
</tbody></table><a name="--index-entry-29153"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="define-reader-ctor"></a><a name="--index-entry-29159"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(define-reader-ctor tag proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This procedure permits to define a new user to reader constructor procedure
at run-time. It is defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-10/srfi-10.html">SRFI-10</a></strong>
      (<em>Sharp Comma External Form</em>) document. See  SRFI document
for more information.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(define-reader-ctor 'rev (<strong>lambda</strong> (x y) (cons y x)))
(with-input-from-string <span class="source-string">&quot;#,(rev 1 2)&quot;</span> read)
                             &#8658; (2 . 1)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="read-char"></a><a name="--index-entry-29202"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(read-char)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(read-char port)</font></strong></code><br /><br />Returns the next character available from the input <code>port</code>, updating the <code>port</code>
to point to the following character. If no more characters are available,
an end of file object is returned. <code>Port</code> may be omitted, in which case
it defaults to the value returned by <code>current-input-port</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="read-bytes"></a><a name="read-chars"></a><a name="--index-entry-29247"></a><a name="--index-entry-29251"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(read-bytes size)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(read-bytes size port)</font></strong></code><br /><br />Returns a newly allocated string made of <code>size</code> characters read from <code>port</code>.
If less than <code>size</code> characters are available on the input port, the returned
string is smaller than <code>size</code> and its size is the number of available
characters. <code>Port</code> may be omitted, in which case it defaults to the
value returned by <code>current-input-port</code>.
<br /><br />
<strong>Note:</strong> This function was previously called <code>read-chars</code>. Usage
of the old name is deprecated.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="read-bytevector"></a><a name="--index-entry-29317"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(read-bytevector k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(read-bytevector k port)</font></strong></code><br /><br />Reads the next <code>k</code> bytes, or as many as are available
before the end of file, from the textual input <code>port</code> into a
newly allocated string in left-to-right order and returns the
string. If no characters are available before the end of file,
an end-of-file object is returned.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="read-bytevector-"></a><a name="--index-entry-29351"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(read-bytevector! k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(read-bytevector! k port)</font></strong></code><br /><code><strong><font color="IndianRed">(read-bytevector! k port start)</font></strong></code><br /><code><strong><font color="IndianRed">(read-bytevector! k port start end)</font></strong></code><br /><br />Reads the next <code>end - start</code> bytes, or as many as are available
before the end of file, from the binary input port
into <code>bytevector</code> in left-to-right order beginning at the start
position. If <code>end</code> is not supplied, reads until the end of
<code>bytevector</code> has been reached. If <code>start</code> is not supplied, reads
beginning at position 0. Returns the number of bytes read.
If no bytes are available, an end-of-file object is returned.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="read-bytes-"></a><a name="read-chars-"></a><a name="--index-entry-29409"></a><a name="--index-entry-29413"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(read-bytes! str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(read-bytes! str port)</font></strong></code><br /><br />This function reads the characters available from <code>port</code> in the string <code>str</code>
by chuncks whose size is equal to the length of <code>str</code>.
The value returned by <code>read-bytes!</code>is an integer indicating the number
of characters read. <code>Port</code> may be omitted, in which case it defaults to the
value returned by <code>current-input-port</code>.
<br /><br />
This function is similar to <code>read-bytes</code> except that it avoids to allocate
a new string for each read.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> (copy-file from to)
  (<strong>let*</strong> ((size 1024)
         (in  (open-input-file from))
         (out (open-output-file to))
         (s   (make-string size)))
    (<strong>let</strong> Loop ()
      (<strong>let</strong> ((n (read-bytes! s in)))
        (<strong>cond</strong>
          ((= n size)
             (write-chars s out)
             (Loop))
          (<strong>else</strong>
             (write-chars (substring s 0 n) out)
             (close-port out)))))))
</pre></td></tr>
</tbody></table></blockquote>


<strong>Note:</strong> This function was previously called <code>read-chars!</code>. Usage
of the old name is deprecated.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="read-byte"></a><a name="--index-entry-29512"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(read-byte)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(read-byte port)</font></strong></code><br /><br />Returns the next character available from the input <code>port</code> as an integer.
If the end of file is reached, this function returns the end of file
object.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="peek-char"></a><a name="--index-entry-29540"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(peek-char)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(peek-char port)</font></strong></code><br /><br />Returns the next character available from the input <code>port</code>, without updating
the port to point to the following character. If no more characters are
available, an end of file object is returned. <code>Port</code> may be omitted, in
which case it defaults to the value returned by <code>current-input-port</code>.
<br /><br />
<strong>Note:</strong> The value returned by a call to <code>peek-char</code> is the same as the
value that would have been returned by a call to <code>read-char</code> with the same
port. The only difference is that the very next call to <code>read-char</code> or
<code>peek-char</code> on that port will return the value returned by the preceding
call to <code>peek-char</code>. In particular, a call to <code>peek-char</code> on an interactive
port will hang waiting for input whenever a call to <code>read-char</code> would have
hung.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="peek-byte"></a><a name="--index-entry-29622"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(peek-byte)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(peek-byte port)</font></strong></code><br /><br />Returns the next character available from the input <code>port</code>, without updating
the port to point to the following character. Whereas <code>peek-char</code>
returns a character, this function returns an integer between 0and 255.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="eof-object-"></a><a name="--index-entry-29655"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(eof-object? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is an end of file object, otherwise returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="eof-object"></a><a name="--index-entry-29690"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(eof-object)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><a name="--index-entry-29713"></a>
Returns an end of file object. Note that the special notation <code>#eof</code> is
another way to return such an end of file object.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="char-ready-"></a><a name="--index-entry-29721"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(char-ready?)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(char-ready? port)</font></strong></code><br /><br />Returns <code>#t</code> if a character is ready on the input port and returns <code>#f</code>
otherwise. If char-ready returns <code>#t</code> then the next read-char operation on
the given port is guaranteed not to hang. If the port is at end of file
then <code>char-ready?</code> returns <code>#t</code>. Port may be omitted, in which case it
defaults to the value returned by <code>current-input-port</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="read-string"></a><a name="--index-entry-29775"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(read-string k)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(read-string k port)</font></strong></code><br /><br />Reads the next <code>k</code> characters, or as many as are available
before the end of file, from the textual input <code>port</code> into a
newly allocated string in left-to-right order and returns the
string. If no characters are available before the end of file,
an end-of-file object is returned.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="read-u8"></a><a name="--index-entry-29809"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(read-u8)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(read-u8 port)</font></strong></code><br /><br />Returns the next byte available from the binary input <code>port</code>,
updating the <code>port</code> to point to the following byte. If no more
bytes are available, an end-of-file object is returned.

<br /><br />
<strong>Note</strong>: This function is similar to the <code>read-byte</code>
function, excepted that it can be used only on  a binary port.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="peek-u8"></a><a name="--index-entry-29856"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(peek-u8)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(peek-u8 port)</font></strong></code><br /><br />Returns the next byte available from the binary input <code>port</code>,
but without updating the <code>port</code> to point to the following
byte. If no more bytes are available, an end-of-file object
is returned.

<br /><br />
<strong>Note</strong>: This function is similar to the <code>peek-byte</code>
function, excepted that it can be used only on  a binary port.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="u8-ready-"></a><a name="--index-entry-29903"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(u8-ready?)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(u8-ready? port)</font></strong></code><br /><br />Returns #t if a byte is ready on the binary input <code>port</code> and
returns #f otherwise. If <code>u8-ready?</code> returns #t then the
next read-u8 operation on the given port is guaranteed
not to hang. If the <code>port</code> is at end of file then <code>u8-ready?</code>
returns #t.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="read-line"></a><a name="--index-entry-29947"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(read-line)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(read-line port)</font></strong></code><br /><br />Reads the next line available from the input port <code>port</code>. This function
returns 2 values: the first one is is the string which contains the line
read, and the second one is the end of line delimiter. The end of line
delimiter can be an end of file object, a character or a string in case
of a multiple character delimiter. If no more characters are available
on <code>port</code>, an end of file object is returned.  <code>Port</code> may be omitted,
in which case it defaults to the value returned by <code>current-input-port</code>.
<br /><br />
<strong>Note:</strong> As said in <a href="stklos-ref-4.html#values">values</a>, if <code>read-line</code> is not
used in  the context of <code>call-with-values</code>, the second value returned by
this procedure is ignored.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="read-from-string"></a><a name="--index-entry-30012"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(read-from-string str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Performs a read from the given <code>str</code>. If <code>str</code> is the empty string,
an end of file object is returned.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(read-from-string <span class="source-string">&quot;123 456&quot;</span>) &#8658; 123
(read-from-string <span class="source-string">&quot;&quot;</span>)        &#8658; an eof object
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="port--string-list"></a><a name="port--sexp-list"></a><a name="port--string"></a><a name="--index-entry-30064"></a><a name="--index-entry-30068"></a><a name="--index-entry-30072"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(port-&gt;string port)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(port-&gt;sexp-list port)</font></strong></code><br /><code><strong><font color="IndianRed">(port-&gt;string-list port)</font></strong></code><br /><br />All these procedure take a port opened for reading. <code>Port-&gt;string</code> reads
<code>port</code> until the it reads an end of file object and returns all the
characters read as a string. <code>Port-&gt;sexp-list)</code> and <code>port-&gt;string-list</code>
do the same things except that they return a list of S-expressions and
a list of strings respectively. For the following example we suppose that
file <code>&quot;foo&quot;</code> is formed of two lines which contains respectively the number
<code>100</code> and the string <code>&quot;bar&quot;</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(port-&gt;sexp-list (open-input-file <span class="source-string">&quot;foo&quot;</span>))   &#8658; (100 <span class="source-string">&quot;bar&quot;</span>)
(port-&gt;string-list (open-input-file <span class="source-string">&quot;foo&quot;</span>)) &#8658; (<span class="source-string">&quot;100&quot;</span> <span class="source-string">&quot;&quot;</span>bar<span class="source-string">&quot;&quot;</span>)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table></div></div><div class="subsectiondiv"><div class="subsectiontitle"><a name="Output"></a>
<h4 id="Output">4.12.3 Output</h4>
</div>
<div class="subsectionbody"><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="write"></a><a name="--index-entry-30162"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(write obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(write obj port)</font></strong></code><br /><br />Writes a written representation of <code>obj</code> to the given <code>port</code>. Strings that
appear in the written representation are enclosed in doublequotes, and
within those strings backslash and doublequote characters are escaped
by backslashes. Character objects are written using the <em>#\</em> notation.
<code>Write</code> returns an unspecified value. The <code>port</code> argument may be omitted, in
which case it defaults to the value returned by <code>current-output-port</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="write-"></a><a name="write-shared"></a><a name="--index-entry-30216"></a><a name="--index-entry-30220"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(write-shared obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(write-shared obj port)</font></strong></code><br /><br />Writes a written representation of <code>obj</code> to the given port.  The
main difference with the <code>write</code> procedure is that <code>write*</code>
handles data structures with cycles. Circular structure written by
this procedure use the <code>"#n="</code> and <code>"#n#"</code>
notations (see <a href="stklos-ref-1.html#Circular-structure">Circular-structure</a>).
<br /><br />
<strong>Note:</strong> This function is also called <code>write*</code>.
The name <code>write*</code> was the name used by <span style="font-variant: small-caps">STklos</span> for
<code>write-shared</code> before it was introduced in <span style="font-variant: small-caps">R<sup>7</sup>RS</span>.
</td></tr>
</tbody></table><a name="--index-entry-30305"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="write-with-shared-structure"></a><a name="--index-entry-30311"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(write-with-shared-structure obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(write-with-shared-structure obj port)</font></strong></code><br /><code><strong><font color="IndianRed">(write-with-shared-structure obj port optarg)</font></strong></code><br /><code><strong><font color="IndianRed">(write/ss obj)</font></strong></code><br /><code><strong><font color="IndianRed">(write/ss obj port)</font></strong></code><br /><code><strong><font color="IndianRed">(write/ss obj port optarg)</font></strong></code><br /><br /><code>write-with-shared-structure</code> has been added to be compatible with
 <strong><a  class="http" href="http://srfi.schemers.org/srfi-38/srfi-38.html">SRFI-38</a></strong>
      (<em>External representation of shared structures</em>). It is is identical to <code>write*</code>, except that it accepts one
more parameter (<code>optarg</code>). This parameter, which is not specified
in <strong>SRFI-38</strong>, is always ignored. <code>write/ss</code> is only a shorter name for
<code>write-with-shared-structure</code>.
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="display"></a><a name="--index-entry-30386"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(display obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(display obj port)</font></strong></code><br /><br />Writes a representation of <code>obj</code> to the given <code>port</code>. Strings that
appear in the written representation are not enclosed in
doublequotes, and no characters are escaped within those
strings. Character objects appear in the representation as if
written by <code>write-char</code> instead of by <code>write</code>. <code>Display</code> returns an
unspecified value. The <code>port</code> argument may be omitted, in which
case it defaults to the value returned by <code>current-output-port</code>.
<br /><br />
<strong>Rationale:</strong> <code>Write</code> is intended for producing machine-readable
output and <code>display</code> is for producing human-readable output.
<br /><br />
<strong>Note:</strong> As required by <span style="font-variant: small-caps">R<sup>7</sup>RS</span> does not loop forever when
<code>obj</code> contains self-references.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="display-shared"></a><a name="--index-entry-30481"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(display-shared obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(display-shared obj port)</font></strong></code><br /><br />The <code>display-shared</code> procedure is the same as <code>display</code>, except
that shared structure are represented using datum labels.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="display-simple"></a><a name="--index-entry-30514"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(display-simple obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(display-simple obj port)</font></strong></code><br /><br />The <code>display-simple</code> procedure is the same as <code>display</code>, except
that shared structure is never represented using datum labels.
This can cause <code>display-simple</code> not to terminate if <code>obj</code>
contains circular structure.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="newline"></a><a name="--index-entry-30557"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(newline)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(newline port)</font></strong></code><br /><br />Writes an end of line to <code>port</code>. Exactly how this is done differs from
one operating system to another. Returns an unspecified value. The <code>port</code>
argument may be omitted, in which case it defaults to the value returned
by <code>current-output-port</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="write-string"></a><a name="--index-entry-30596"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(write-string string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(write-string string port)</font></strong></code><br /><code><strong><font color="IndianRed">(write-string string port start)</font></strong></code><br /><code><strong><font color="IndianRed">(write-string string port start end)</font></strong></code><br /><br />Writes the characters of <code>string</code> from <code>start</code> to <code>end</code> in
left-to-right order to the textual output <code>port</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="write-u8"></a><a name="--index-entry-30648"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(write-u8 byte)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(write-u8 byte port)</font></strong></code><br /><br />Writes the <code>byte</code> to the given binary output port.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="write-bytevector"></a><a name="--index-entry-30677"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(write-bytevector bytevector)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(write-bytevector bytevector port)</font></strong></code><br /><code><strong><font color="IndianRed">(write-bytevector bytevector port start)</font></strong></code><br /><code><strong><font color="IndianRed">(write-bytevector bytevector port start end)</font></strong></code><br /><br />Writes the bytes of <code>bytevector</code> from <code>start</code> to <code>end</code> in
left-to-right order to the binary output <code>port</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="write-char"></a><a name="--index-entry-30729"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(write-char char)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(write-char char port)</font></strong></code><br /><br />Writes the character <code>char</code> (not an external representation of the
character) to the given <code>port</code> and returns an unspecified value.
The <code>port</code> argument may be omitted, in which case it defaults to the
value returned by <code>current-output-port</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="write-chars"></a><a name="--index-entry-30773"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(write-chars str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(write-chars str port)</font></strong></code><br /><br />Writes the characters of string <code>str</code> to the given <code>port</code> and
returns an unspecified value.  The <code>port</code> argument may be omitted,
in which case it defaults to the value returned by
<code>current-output-port</code>.
<br /><br />
<strong>Note:</strong> This function is generally
faster than <code>display</code> for strings. Furthermore, this primitive does
not use the buffer associated to <code>port</code>.
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="write-byte"></a><a name="--index-entry-30834"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(write-byte b)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(write-byte b port)</font></strong></code><br /><br />Write byte <code>b</code> to the port. <code>b</code> must be an exact integer in range between 0
and 255.</td></tr>
</tbody></table><a name="--index-entry-30865"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="format"></a><a name="--index-entry-30871"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(format port str obj ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(format str obj)</font></strong></code><br /><br />Writes the <code>obj</code>s to the given <code>port</code>, according to the format
string <code>str</code>. <code>Str</code> is written literally, except for the following
sequences:

<ul><li><code>~a</code> or <code>~A</code> is replaced by the printed representation
of the next <code>obj</code>.</li>
<li><code>~s</code> or <code>~S</code> is replaced by the ``slashified'' printed
representation of the next <code>obj</code>.</li>
<li><code>~w</code> or <code>~W</code> is replaced by the printed representation
of the next <code>obj</code> (circular structures are correctly handled and
printed using <code>write*</code>).</li>
<li><code>~d</code> or <code>~D</code> is replaced by the decimal printed representation
of the next <code>obj</code> (which must be a number).</li>
<li><code>~x</code> or <code>~X</code> is replaced by the hexadecimal printed representation
of the next <code>obj</code> (which must be a number).</li>
<li><code>~o</code> or <code>~O</code> is replaced by the octal printed representation
of the next <code>obj</code> (which must be a number).</li>
<li><code>~b</code> or <code>~B</code> is replaced by the binary printed representation
of the next <code>obj</code> (which must be a number).</li>
<li><code>~c</code> or <code>~C</code> is replaced by the printed representation
of the next <code>obj</code> (which must be a character).</li>
<li><code>~y</code> or <code>~Y</code> is replaced by the pretty-printed representation
of the next <code>obj</code>. The standard pretty-printer is used here.</li>
<li><code>~?</code> is replaced by the result of the recursive call of <code>format</code>
with the two next <code>obj</code>: the first item should be a string, and the
second, a list with the arguments.</li>
<li><code>~k</code> or <code>~K</code> is another name for <code>~?</code></li>
<li><code>~[w[,d]]f</code> or <code>~[w[,d]]F</code> is replaced by the printed
representation of next <code>obj</code> (which must be a number) with width <code>w</code>
and <code>d</code> digits after the decimal. Eventually, <code>d</code> may be omitted.</li>
<li><code>~~</code> is replaced by a single tilde character.</li>
<li><code>~%</code> is replaced by a newline</li>
<li><code>~t</code> or <code>~t</code> is replaced by a tabulation character.</li>
<li><code>~&amp;</code> is replaced by a newline character if it is known that the
previous character was not a newline</li>
<li><code>~_</code> is replaced by a space</li>
<li><code>~h</code> or <code>~H</code> provides some help</li>
</ul>

<code>Port</code> can be a boolean or a port. If <code>port</code> is <code>#t</code>, output goes to
the current output port; if <code>port</code> is <code>#f</code>, the output is returned as a
string.  Otherwise, the output is printed on the specified port.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   (format #f <span class="source-string">&quot;A test.&quot;</span>)        &#8658; <span class="source-string">&quot;A test.&quot;</span>
   (format #f <span class="source-string">&quot;A ~a.&quot;</span> <span class="source-string">&quot;test&quot;</span>)   &#8658; <span class="source-string">&quot;A test.&quot;</span>
   (format #f <span class="source-string">&quot;A ~s.&quot;</span> <span class="source-string">&quot;test&quot;</span>)   &#8658; <span class="source-string">&quot;A \&quot;</span>test\<span class="source-string">&quot;.&quot;</span>
   (format <span class="source-string">&quot;~8,2F&quot;</span> 1/3)         &#8658; <span class="source-string">&quot;    0.33&quot;</span>
   (format <span class="source-string">&quot;~6F&quot;</span> 32)            &#8658; <span class="source-string">&quot;    32&quot;</span>
   (format <span class="source-string">&quot;~1,2F&quot;</span> 4321)        &#8658; <span class="source-string">&quot;4321.00&quot;</span>
   (format <span class="source-string">&quot;~1,2F&quot;</span> (sqrt -3.9)) &#8658; <span class="source-string">&quot;0.00+1.97i&quot;</span>
   (format <span class="source-string">&quot;#d~d #x~x #o~o #b~b~%&quot;</span> 32 32 32 32)
                                &#8658; <span class="source-string">&quot;#d32 #x20 #o40 #b100000\n&quot;</span>
   (format #f <span class="source-string">&quot;~&amp;1~&amp;~&amp;2~&amp;~&amp;~&amp;3~%&quot;</span>)
                                &#8658; <span class="source-string">&quot;1\n2\n3\n&quot;</span>
   (format <span class="source-string">&quot;~a ~? ~a&quot;</span> 'a <span class="source-string">&quot;~s&quot;</span> '(new) 'test)
                                &#8658; <span class="source-string">&quot;a new test&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>


<strong>Note:</strong> The second form of <code>format</code> is compliant with
 <strong><a  class="http" href="http://srfi.schemers.org/srfi-28/srfi-28.html">SRFI-28</a></strong>
      (<em>Basic Format Strings</em>). That is, when
<code>port</code> is omitted, the output is returned as a string as if <code>port</code> was
given the value <code>#f</code>.
<br /><br />
<strong>Note:</strong> Since version 0.58, <code>format</code> is also compliant with
 <strong><a  class="http" href="http://srfi.schemers.org/srfi-48/srfi-48.html">SRFI-48</a></strong>
      (<em>Intermediate Format Strings</em>).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="flush-output-port"></a><a name="--index-entry-31382"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(flush-output-port)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(flush-output-port port)</font></strong></code><br /><br />Flushes the buffer associated with the given output <code>port</code>. The
<code>port</code> argument may be omitted, in which case it defaults to the value
returned by <code>current-output-port</code></td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="printerr"></a><a name="print"></a><a name="--index-entry-31420"></a><a name="--index-entry-31424"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(print obj ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(printerr obj ...)</font></strong></code><br /><br />These procedures display all their arguments followed by a newline. The
procedure <code>print</code> uses the standard output port, whereas <code>printerr</code> uses the
current error port</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="eprintf"></a><a name="fprintf"></a><a name="printf"></a><a name="--index-entry-31459"></a><a name="--index-entry-31463"></a><a name="--index-entry-31467"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(printf fmt obj ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(fprintf port fmt obj ...)</font></strong></code><br /><code><strong><font color="IndianRed">(eprintf fmt obj ...)</font></strong></code><br /><br />These procedures are specialized version of <code><a href="stklos-ref-4.html#format">format</a></code>.
In these procedures, <code>fmt</code> is a string using the <code>format</code> conventions.
<code>printf</code> outputs go on the current output port.
<code>fprintf</code> outputs go on the specified <code>port</code>.
<code>eprintf</code> outputs go on the current error port (note that eprintf always
flushes the characters printed).</td></tr>
</tbody></table></div></div></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="System-interface"></a>
<h3 id="System-interface">4.13 System interface</h3>
</div>
<div class="sectionbody"><p>The <span style="font-variant: small-caps">STklos</span> system interface offers all the functions defined in
<span style="font-variant: small-caps">R<sup>7</sup>RS</span>. Note, that the base implementation provides also a subset of the
functions defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-170/srfi-170.html">SRFI-170</a></strong>
      (<em>POSIX API</em>). These functions are described here.</p><p>Note, however that SRFI-170 is fully supported and accessing the other
           functions it defines can be done by requiring it, as the other SRFIs
           that STklos supports.</p><div class="subsectiondiv"><div class="subsectiontitle"><a name="Loading-code"></a>
<h4 id="Loading-code">4.13.1 Loading code</h4>
</div>
<div class="subsectionbody"><a name="--index-entry-31545"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="load"></a><a name="--index-entry-31551"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(load filename)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>5</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>Filename</code> should be a string naming an existing file containing Scheme
expressions. <code>Load</code> has been extended in <span style="font-variant: small-caps">STklos</span> to allow loading of
file containing Scheme compiled code as well as object files
(<em>aka</em> shared objects). The loading of object files is not available on
all architectures. The value returned by <code>load</code> is <em>void</em>.
<br /><br />
If the file whose name is <code>filename</code> cannot be located, <code>load</code> will try
to find it in one of the directories given by <code><a href="stklos-ref-10.html#load-path">load-path</a></code>
with the suffixes given by <code><a href="stklos-ref-10.html#load-suffixes">load-suffixes</a></code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="try-load"></a><a name="--index-entry-31624"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(try-load filename)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>try-load</code> tries to load the file named <code>filename</code>. As <code>load</code>,
<code>try-load</code> tries to find the file given the current load path
and a set of suffixes if <code>filename</code> cannot be loaded. If <code>try-load</code>
is able to find a readable file, it is loaded, and <code>try-load</code> returns
<code>#t</code>. Otherwise,  <code>try-load</code> retuns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="find-path"></a><a name="--index-entry-31693"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(find-path str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(find-path str path)</font></strong></code><br /><code><strong><font color="IndianRed">(find-path str path suffixes)</font></strong></code><br /><br />In its first form, <code>find-path</code> returns the path name of the file
that should be loaded by the procedure  <code>load</code> given the name <code>str</code>.
The string returned depends of the current  load path and of the
currently accepted suffixes.
<br /><br />
The other forms of <code>find-path</code> are more general and allow to give a path
list (a list of strings representing supposed directories) and a set
of suffixes (given as a list of strings too) to try for finding a file.
If no file is found, <code>find-path</code> returns <code>#f</code>.
<br /><br />
For instance, on a &quot;classical&quot; Unix box:
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(find-path <span class="source-string">&quot;passwd&quot;</span> '(<span class="source-string">&quot;/bin&quot;</span> <span class="source-string">&quot;/etc&quot;</span> <span class="source-string">&quot;/tmp&quot;</span>))
            &#8658; <span class="source-string">&quot;/etc/passwd&quot;</span>
(find-path <span class="source-string">&quot;stdio&quot;</span> '(<span class="source-string">&quot;/usr&quot;</span> <span class="source-string">&quot;/usr/include&quot;</span>) '(<span class="source-string">&quot;c&quot;</span> <span class="source-string">&quot;h&quot;</span> <span class="source-string">&quot;stk&quot;</span>))
            &#8658; <span class="source-string">&quot;/usr/include/stdio.h&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="current-loading-file"></a><a name="--index-entry-31791"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(current-loading-file)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the path of the file that is currently being load.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="provided-"></a><a name="require-provide"></a><a name="provide"></a><a name="require"></a><a name="--index-entry-31813"></a><a name="--index-entry-31817"></a><a name="--index-entry-31821"></a><a name="--index-entry-31825"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(require string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(provide string)</font></strong></code><br /><code><strong><font color="IndianRed">(require/provide string)</font></strong></code><br /><code><strong><font color="IndianRed">(provided? string)</font></strong></code><br /><br /><code>Require</code> loads the file whose name is <code>string</code> if it was not
previously "<em>provided</em>". <code>Provide</code> permits to store <code>string</code> in
the list of already provided files. Providing a file permits to avoid
subsequent loads of this file. <code>Require/provide</code> is more or less equivalent to
a <code>require</code> followed by a <code>provide</code>. <code>Provided?</code> returns <code>#t</code> if
<code>string</code> was already provided; it returns <code>#f</code> otherwise.</td></tr>
</tbody></table></div></div><div class="subsectiondiv"><div class="subsectiontitle"><a name="File-Primitives"></a>
<h4 id="File-Primitives">4.13.2 File Primitives</h4>
</div>
<div class="subsectionbody"><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="temp-file-prefix"></a><a name="--index-entry-31922"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(temp-file-prefix)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(temp-file-prefix value)</font></strong></code><br /><br />This parameter object permits to change the default prefix used to build
temporary file name. Its default value is built using the <code>TMPDIR</code>
environment variable (if it is defined) and the current process ID.
If a value is provided, it must be a string designating a valid prefix path.
<br /><br />
This parameter object is also defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-170/srfi-170.html">SRFI-170</a></strong>
      (<em>POSIX API</em>).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="create-temp-file"></a><a name="temporary-file-name"></a><a name="--index-entry-31962"></a><a name="--index-entry-31966"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(create-temp-file)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(create-temp-file prefix)</font></strong></code><br /><br />Creates a new temporary file and returns two values: its name and an opened
file port on it. The optional argument specifies the filename prefix
to use, and defaults to the result of invoking <code>temp-file-prefix</code>.
The returned file port is opened in read/write mode. It ensures that
the name cannot be reused by another process before being used
in the program that calls <code>create-temp-file</code>.
Note, that if the opened port is not used, it can be closed and collected
by the GC.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(let-values (((name port) (create-temp-file)))
  (<strong>let</strong> ((msg (format <span class="source-string">&quot;Name: ~sn&quot;</span> name)))
    (display msg)
    (display msg port)
    (close-port port)))     &#8658; prints the name of the temp. file on the 
                               current output port and in the file itself.
</pre></td></tr>
</tbody></table></blockquote>


<strong>Notes:</strong> This function is also defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-170/srfi-170.html">SRFI-170</a></strong>
      (<em>POSIX API</em>).However,
in SRFI-170, <code>create-temp-file</code> returns only the name of the temporary file.
<br /><br />
<code>temporary-file-name</code> is another name for this function.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="rename-file"></a><a name="--index-entry-32045"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(rename-file string1 string2)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Renames the file whose path-name is <code>string1</code> to a file whose path-name is
<code>string2</code>. The result of <code>rename-file</code> is <em>void</em>.
<br /><br />
This function is also defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-170/srfi-170.html">SRFI-170</a></strong>
      (<em>POSIX API</em>).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="remove-file"></a><a name="delete-file"></a><a name="--index-entry-32095"></a><a name="--index-entry-32099"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(delete-file string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Removes the file whose path name is given in <code>string</code>.
The result of <code>delete-file</code> is <em>void</em>.
<br /><br />
This function is also called <code>remove-file</code> for compatibility
reasons. <a name="--index-entry-32141"></a></td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="copy-file"></a><a name="--index-entry-32148"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(copy-file string1 string2)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Copies the file whose path-name is <code>string1</code> to a file whose path-name is
<code>string2</code>. If the file <code>string2</code> already exists, its content prior
the call to <code>copy-file</code> is lost. The result of <code>copy-file</code> is <em>void</em>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="copy-port"></a><a name="--index-entry-32196"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(copy-port in out)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(copy-port in out max)</font></strong></code><br /><br />Copy the content of port <code>in</code>, which must be opened for reading, on
port <code>out</code>, which must be opened for writing. If <code>max</code> is not specified,
All the characters from the input port are copied on ouput port. If <code>max</code>
is specified, it must be an integer indicating the maximum number of characters
which are copied from <code>in</code> to <code>out</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="file-exists-"></a><a name="--index-entry-32249"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(file-exists? string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if the path name given in <code>string</code> denotes an existing file;
returns <code>#f</code> otherwise.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="file-is-executable-"></a><a name="file-is-readable-"></a><a name="file-is-writable-"></a><a name="file-is-regular-"></a><a name="file-is-directory-"></a><a name="--index-entry-32288"></a><a name="--index-entry-32292"></a><a name="--index-entry-32296"></a><a name="--index-entry-32300"></a><a name="--index-entry-32304"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(file-is-directory?  string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(file-is-regular?    string)</font></strong></code><br /><code><strong><font color="IndianRed">(file-is-readable?   string)</font></strong></code><br /><code><strong><font color="IndianRed">(file-is-writable?   string)</font></strong></code><br /><code><strong><font color="IndianRed">(file-is-executable? string)</font></strong></code><br /><br />Returns <code>#t</code> if the predicate is true for the path name given in
<code>string</code>; returns <code>#f</code> otherwise (or if <code>string</code> denotes a file
which does not exist).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="file-size"></a><a name="--index-entry-32359"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(file-size string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the size of the file whose path name is given in
<code>string</code>.If <code>string</code> denotes a file which does not exist,
<code>file-size</code> returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="getcwd"></a><a name="--index-entry-32398"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(getcwd)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a string containing the current working directory.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="chmod"></a><a name="--index-entry-32417"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(chmod str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(chmod str option1 ...)</font></strong></code><br /><br />Change the access mode of the file whose path name is given in <code>string</code>.
The options must be composed of either an integer or one of the
following symbols <code>read</code>, <code>write</code> or <code>execute</code>. Giving no option to <code>chmod</code>
is equivalent to pass it the integer <code>0</code>. If the operation succeeds,
<code>chmod</code> returns <code>#t</code>; otherwise it returns <code>#f</code>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(chmod <span class="source-string">&quot;~/.stklos/stklosrc&quot;</span> 'read 'execute)
(chmod <span class="source-string">&quot;~/.stklos/stklosrc&quot;</span> #o644)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="chdir"></a><a name="--index-entry-32496"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(chdir dir)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Changes the current directory to the directory given in string <code>dir</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="create-directory"></a><a name="make-directory"></a><a name="--index-entry-32521"></a><a name="--index-entry-32525"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(create-directory dir)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(create-directory dir permissions)</font></strong></code><br /><br />Create a directory with name <code>dir</code>. If <code>permissions</code> is omitted, it
defaults to #o775 (masked by the current umask).
<br />
This function is also defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-170/srfi-170.html">SRFI-170</a></strong>
      (<em>POSIX API</em>). The old name 
<code>make-directory</code> is deprecated.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="create-directories"></a><a name="--index-entry-32574"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(create-directories dir)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(create-directories dir permissions)</font></strong></code><br /><br />Create a directory with name <code>dir</code>. No error is signaled if <code>dir</code> already exists.
Parent directories of <code>dir</code> are created as needed. If <code>permissions</code> is omitted,
it defaults to #o775 (masked by the current umask).
<br /><br />
This function was also called <code>make-directories</code>. This old name is obsolete.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="ensure-directories-exist"></a><a name="--index-entry-32626"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(ensure-directories-exist path)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Create a directory with name <code>dir</code> (and its parent directories if needed), if it
does not exist yet.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="remove-directory"></a><a name="delete-directory"></a><a name="--index-entry-32651"></a><a name="--index-entry-32655"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(delete-directory dir)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(remove-directory dir)</font></strong></code><br /><br />Delete the directory with name <code>dir</code>.
<br /><br />
<strong>Note:</strong> This function is also defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-170/srfi-170.html">SRFI-170</a></strong>
      (<em>POSIX API</em>). The name
<code>remove-directory</code> is kept for compatibility.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="directory-files"></a><a name="--index-entry-32703"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(directory-files path)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(directory-files path dotfiles?)</font></strong></code><br /><br />Returns the list of the files in the directory <code>path</code>. The <code>dotfiles?</code> flag
(default <code>#f</code>) causes files beginning with "." to be included in the list.
Regardless of the value of <code>dotfiles?</code>, the two files "." and ".."
are never  returned.
<br /><br />
This function is also defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-170/srfi-170.html">SRFI-170</a></strong>
      (<em>POSIX API</em>).</td></tr>
</tbody></table><a name="--index-entry-32767"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="expand-file-name"></a><a name="--index-entry-32773"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(expand-file-name path)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>Expand-file-name</code> expands the filename given in <code>path</code> to
an absolute path.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>  <span class="source-comment">;; Current directory is ~eg/stklos (i.e. /users/eg/stklos)</span>
  (expand-file-name <span class="source-string">&quot;..&quot;</span>)            &#8658; <span class="source-string">&quot;/users/eg&quot;</span>
  (expand-file-name <span class="source-string">&quot;~eg/../eg/bin&quot;</span>) &#8658; <span class="source-string">&quot;/users/eg/bin&quot;</span>
  (expand-file-name <span class="source-string">&quot;~/stklos)&quot;</span>      &#8658; <span class="source-string">&quot;/users/eg/stk&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="canonical-file-name"></a><a name="--index-entry-32835"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(canonical-file-name path)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Expands all symbolic links in <code>path</code> and returns its canonicalized
absolute path name. The resulting path does not have symbolic links.
If <code>path</code> doesn't designate a valid path name, <code>canonical-file-name</code>
returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="decompose-file-name"></a><a name="--index-entry-32874"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(decompose-file-name string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns an ``exploded'' list of the path name components given in
<code>string</code>.
The first element in the list denotes if the given <code>string</code> is an
absolute path or a relative one, being &quot;/&quot; or &quot;.&quot; respectively.
Each component of this list is a string.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(decompose-file-name <span class="source-string">&quot;/a/b/c.stk&quot;</span>) &#8658; (<span class="source-string">&quot;/&quot;</span> <span class="source-string">&quot;a&quot;</span> <span class="source-string">&quot;b&quot;</span> <span class="source-string">&quot;c.stk&quot;</span>)
(decompose-file-name <span class="source-string">&quot;a/b/c.stk&quot;</span>)  &#8658; (<span class="source-string">&quot;.&quot;</span> <span class="source-string">&quot;a&quot;</span> <span class="source-string">&quot;b&quot;</span> <span class="source-string">&quot;c.stk&quot;</span>)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="winify-file-name"></a><a name="--index-entry-32932"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(winify-file-name fn)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />On Win32 system, when compiled with the Cygwin environment,
file names are internally represented in a POSIX-like internal form.
<code>Winify-file-bame</code> permits to obtain back the Win32 name of an interned
file name
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(winify-file-name <span class="source-string">&quot;/tmp&quot;</span>)
    &#8658; <span class="source-string">&quot;C:\\cygwin\\tmp&quot;</span>
(list (getcwd) (winify-file-name (getcwd)))
    &#8658; (<span class="source-string">&quot;//saxo/homes/eg/Projects/,(stklos)&quot;</span>
        <span class="source-string">&quot;\\\\saxo\\homes\\eg\\Projects\\,(stklos)&quot;</span>)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="posixify-file-name"></a><a name="--index-entry-32982"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(posixify-file-name fn)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />On Win32 system, when compiled with the Cygwin environment,
file names are internally represented in a POSIX-like internal form.
<code>posixify-file-bame</code> permits to obtain the interned file name from
its external form.
file name
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(posixify-file-name <span class="source-string">&quot;C:\\cygwin\\tmp&quot;</span>)
       &#8658; <span class="source-string">&quot;/tmp&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="basename"></a><a name="--index-entry-33022"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(basename str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a string containing the last component of the path name
given in <code>str</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(basename <span class="source-string">&quot;/a/b/c.stk&quot;</span>) &#8658; <span class="source-string">&quot;c.stk&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="dirname"></a><a name="--index-entry-33061"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(dirname str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a string containing all but the last component of the path
name given in <code>str</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(dirname <span class="source-string">&quot;/a/b/c.stk&quot;</span>) &#8658; <span class="source-string">&quot;/a/b&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="file-suffix"></a><a name="--index-entry-33100"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(file-suffix pathname)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the suffix of given <code>pathname</code>. If no suffix is found, <code>file-suffix</code>
returns #f.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(file-suffix <span class="source-string">&quot;./foo.tar.gz&quot;</span>) &#8658; <span class="source-string">&quot;gz&quot;</span>
(file-suffix <span class="source-string">&quot;./a.b/c&quot;</span>)      &#8658; #f
(file-suffix <span class="source-string">&quot;./a.b/c.&quot;</span>)     &#8658; <span class="source-string">&quot;&quot;</span>
(file-suffix <span class="source-string">&quot;~/.profile&quot;</span>)   &#8658; #f
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="file-prefix"></a><a name="--index-entry-33166"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(file-prefix pathname)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the prefix of given <code>pathname</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(file-prefix <span class="source-string">&quot;./foo.tar.gz&quot;</span>) &#8658; <span class="source-string">&quot;./foo.tar&quot;</span>
(file-prefix <span class="source-string">&quot;./a.b/c&quot;</span>)      &#8658; <span class="source-string">&quot;./a.b/c&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="file-separator"></a><a name="--index-entry-33213"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(file-separator)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Retuns the operating system file separator as a character. This is typically
#\/ on Unix (or Cygwin) systems and #\\ on Windows.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="make-path"></a><a name="--index-entry-33232"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(make-path dirname .  names)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Builds a file name from the directory <code>dirname</code> and <code>names</code>. For instance,
on a Unix system:
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(make-path <span class="source-string">&quot;a&quot;</span> <span class="source-string">&quot;b&quot;</span> <span class="source-string">&quot;c&quot;</span>)   &#8658; <span class="source-string">&quot;a/b/c&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="glob"></a><a name="--index-entry-33278"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(glob pattern ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>Glob</code> performs file name ``globbing'' in a fashion similar to the
csh shell. <code>Glob</code> returns a list of the filenames that match at least
one of <code>pattern</code> arguments.  The <code>pattern</code> arguments may contain
the following special characters:
<ul><li><code>?</code> Matches any single character.</li>
<li><code>*</code> Matches any sequence of zero or more characters.</li>
<li><code>[chars]</code> Matches any single character in <code>chars</code>.
If chars contains a sequence of the form <code>a-b</code> then any character
between <code>a</code> and <code>b</code> (inclusive) will match.</li>
<li><code>\x</code> Matches the character <code>x</code>.</li>
<li><code>{a,b,...}</code> Matches any of the strings <code>a</code>, <code>b</code>, etc.</li>
</ul>

As with csh, a '.' at the beginning of a file's name or just after
a '/ must be matched explicitly or with a <code>&#x40;{&#x40;}</code> construct.
In addition, all '/' characters must be matched explicitly.
<br /><br />
If the first character in a pattern is '~' then it refers to
the home directory of the user whose name follows the '~'.
If the '~' is followed immediately by `/' then the value of
the environment variable HOME is used.
<br /><br />
<code>Glob</code> differs from csh globbing in two ways.  First, it does not
sort its result list (use the <code>sort</code> procedure if you want the list
sorted).
Second, <code>glob</code> only returns the names of files that actually exist;
in csh no check for existence is made unless a pattern contains a
<code>?</code>, <code>*</code>, or <code>[]</code> construct.</td></tr>
</tbody></table><a name="--index-entry-33437"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="posix-error-"></a><a name="--index-entry-33443"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(posix-error? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This procedure returns #t if <code>obj</code> is a condition object that describes a
POSIX error, and #f otherwise.
<br />
This function is defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-170/srfi-170.html">SRFI-170</a></strong>
      (<em>POSIX API</em>).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="posix-error-name"></a><a name="--index-entry-33478"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(posix-error-name posix-error)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This procedure returns a symbol that is the name associated with the
value of <code>errno</code> when the POSIX function reported an error. This can be
used to provide programmatic recovery when a POSIX function can return
more than one value of <code>errno</code>.
<br />
This function is defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-170/srfi-170.html">SRFI-170</a></strong>
      (<em>POSIX API</em>).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="posix-error-message"></a><a name="--index-entry-33518"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(posix-error-message posix-error)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This procedure returns a string that is an error message reflecting the
value of errno when the POSIX function reported an error. This string
is useful for reporting the cause of the error to the user
<br />
This function is defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-170/srfi-170.html">SRFI-170</a></strong>
      (<em>POSIX API</em>).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="posix-error-errno"></a><a name="--index-entry-33548"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(posix-error-errno posix-error)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This procedure returns the value of <code>errno</code> (an exact integer).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="posix-error-procedure"></a><a name="--index-entry-33572"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(posix-error-procedure posix-error)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This procedure returns the name of the Scheme procedure that raised
the error.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="posix-error-arguments"></a><a name="--index-entry-33591"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(posix-error-args posix-error)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This procedure returns the list of the Scheme procedure arguments
that raised the error.</td></tr>
</tbody></table></div></div><div class="subsectiondiv"><div class="subsectiontitle"><a name="Environment"></a>
<h4 id="Environment">4.13.3 Environment</h4>
</div>
<div class="subsectionbody"><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="getenv"></a><a name="--index-entry-33613"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(getenv str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(getenv)</font></strong></code><br /><br />Looks for the environment variable named <code>str</code> and returns its
value as a string, if it exists. Otherwise, <code>getenv</code> returns <code>#f</code>.
If <code>getenv</code> is called without parameter, it returns the list of
all the environment variables accessible from the program as an
A-list.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(getenv <span class="source-string">&quot;SHELL&quot;</span>)
     &#8658; <span class="source-string">&quot;/bin/zsh&quot;</span>
(getenv)
     &#8658; ((<span class="source-string">&quot;TERM&quot;</span> . <span class="source-string">&quot;xterm&quot;</span>) (<span class="source-string">&quot;PATH&quot;</span> . <span class="source-string">&quot;/bin:/usr/bin&quot;</span>) ...)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="setenv-"></a><a name="--index-entry-33683"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(setenv! var value)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Sets the environment variable <code>var</code> to <code>value</code>. <code>Var</code> and
<code>value</code> must be strings. The result of <code>setenv!</code> is <em>void</em>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="unsetenv-"></a><a name="--index-entry-33731"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(unsetenv! var)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Unsets the environment variable <code>var</code>. <code>Var</code> must be a string.
The result of <code>unsetenv!</code> is <em>void</em>.</td></tr>
</tbody></table><p><span style="font-variant: small-caps">STklos</span> defines also the <span style="font-variant: small-caps">R<sup>7</sup>RS</span> (and <a  class="http" href="http://srfi.schemers.org/srfi-96/srfi-96.html">SRFI-96</a>)
standard primivitives to acess environment variables.</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="get-environment-variable"></a><a name="--index-entry-33775"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(get-environment-variable name)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the value of the named environment variable as a string, or
<code>#f</code> if the named environment variable is not found. The name argument
is expected to be a string. This function is similar to the <code>getenv</code>. It
has been added to be  support  <strong><a  class="http" href="http://srfi.schemers.org/srfi-98/srfi-98.html">SRFI-98</a></strong>
      (<em>Interface to access environment variables</em>).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="get-environment-variables"></a><a name="--index-entry-33812"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(get-environment-variables)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns names and values of all the environment variables as an a-list.
This function is defined by  <strong><a  class="http" href="http://srfi.schemers.org/srfi-98/srfi-98.html">SRFI-98</a></strong>
      (<em>Interface to access environment variables</em>)</td></tr>
</tbody></table></div></div><div class="subsectiondiv"><div class="subsectiontitle"><a name="Time"></a>
<h4 id="Time">4.13.4 Time</h4>
</div>
<div class="subsectionbody"><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="current-second"></a><a name="--index-entry-33841"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(current-second)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns an inexact number representing the current time on the
International Atomic Time (TAI) scale.  The value 0.0 represents
midnight on January 1, 1970 TAI (equivalent to ten seconds before
midnight Universal Time) and the value 1.0 represents one TAI
second later.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="current-jiffy"></a><a name="--index-entry-33861"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(current-jiffy)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the number of <em>jiffies</em> as an exact integer that
have elapsed since an arbitrary, implementation-defined
epoch. A jiffy is an implementation-defined fraction of
a second which is defined by the return value of the
<code>jiffies-per-second</code> procedure. The starting epoch is
guaranteed to be constant during a run of the program,
but may vary between runs.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="jiffies-per-second"></a><a name="--index-entry-33890"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(jiffies-per-seconds)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns an exact integer representing the number of jiffies
per second.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> (time-length)
  (<strong>let</strong> ((list (make-list 100000))
        (start (current-jiffy)))
    (length list)
    (/ (- (current-jiffy) start)
       (jiffies-per-second))))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="clock"></a><a name="--index-entry-33925"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(clock)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns an approximation of processor time, in milliseconds, used so far by the
program.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="sleep"></a><a name="--index-entry-33944"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(sleep n)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Suspend the execution of the program for at <code>ms</code> milliseconds. Note that due
to system clock resolution, the pause may be a little bit longer. If a
signal arrives during the pause, the execution may be resumed.
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="time"></a><a name="--index-entry-33968"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(time expr1 expr2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> syntax</i></font></td></tr>
</tbody></table>
<br />Evaluates the expressions <code>expr1</code>, <code>expr2</code>, ... and returns the
result of the last expression. This form prints also the time spent
for this evaluation on the current error port.</td></tr>
</tbody></table></div></div><div class="subsectiondiv"><div class="subsectiontitle"><a name="System-Informations"></a>
<h4 id="System-Informations">4.13.5 System Informations</h4>
</div>
<div class="subsectionbody"><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="features"></a><a name="--index-entry-34000"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(features)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a list of the feature identifiers which <code>cond-expand</code>
treats as true. It is an error to modify this list. Here is an
example of what <code>features</code> might return:

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(features) &#8658; (<span style="font-variant: small-caps">STklos</span> <span style="font-variant: small-caps">STklos</span>-1.20  almost-r7rs
               exact-complex ieee-float full-unicode
               ratios little-endian)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="running-os"></a><a name="--index-entry-34053"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(running-os)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the name of the underlying Operating System which is running
the program.
The value returned by <code>runnin-os</code> is a symbol. For now, this procedure
returns either <code>unix</code>, <code>android</code>, <code>windows</code>, or <code>cygwin-windows</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hostname"></a><a name="--index-entry-34097"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hostname)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return the  host name of the current processor as a string.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="command-line"></a><a name="--index-entry-34116"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(command-line)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the command line passed to the process as a list
of strings. The first string corresponds to the command
name.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="command-name"></a><a name="--index-entry-34136"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(command-name)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returnd the name of the running program if it is a standalone and #f
otherwise. This function is defined in <a  class="http" href="http://srfi.schemers.org/srfi-193/srfi-193.html">SRFI-193</a>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="command-args"></a><a name="argv"></a><a name="--index-entry-34161"></a><a name="--index-entry-34165"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(command-args)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(argv)</font></strong></code><br /><br />Returns a list of the arguments given on the shell command line. The
interpreter options are no included in the result. The name <code>argv</code> is
deprecated and should not be used.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="argc"></a><a name="--index-entry-34193"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(argc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the number of arguments present on the command line.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="program-name"></a><a name="--index-entry-34212"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(program-name)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the invocation name of the current program as a string. If the file is
not a script (in sense of SRFI 193), it is the name of the running <span style="font-variant: small-caps">STklos</span>
interpreter, otherwise it is the name of the running script. This function always
returns a string wheareas the<code>command-name</code> procedure returns #f when the
program name is not a script.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="script-file"></a><a name="--index-entry-34240"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(script-file)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the absolute path of the current script.
If the calling program is not a script, #f is returned.
This function is defined in <a  class="http" href="http://srfi.schemers.org/srfi-193/srfi-193.html">SRFI-193</a>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="script-directory"></a><a name="--index-entry-34264"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(script-directory)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the non-filename part of script-file as a string.
As with <code>script-file</code>, this is an absolute pathname.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="version"></a><a name="implementation-version"></a><a name="--index-entry-34289"></a><a name="--index-entry-34293"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(version)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(implementation-version)</font></strong></code><br /><br />Returns a string identifying the current version of the system. A
version is constituted of two numbers separated by a point: the version
and the release numbers. Note that <code>implementation-version</code> corresponds
to the <strong>SRFI-112</strong> name of this function.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="machine-type"></a><a name="--index-entry-34325"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(machine-type)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a string identifying the kind of machine which is running the
program. The result string is of the form
<code>`(os-name)-`(os-version)-`(cpu-architecture)</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="implementation-name"></a><a name="--index-entry-34349"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(implementation-name)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This function is defined in <strong>SRFI-112</strong>; it returns the Scheme
implementation (i.e. &quot;,(stklos)&quot;).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="cpu-architecture"></a><a name="--index-entry-34372"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(cpu-architecture)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This function is defined in <strong>SRFI-112</strong>; it returns the CPU
architecture, real or virtual, on which this implementation
is executing.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="machine-name"></a><a name="--index-entry-34395"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(machine-name)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This function is defined in <strong>SRFI-112</strong>; it returns a name for the
particular machine on which the implementation is running.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="os-name"></a><a name="--index-entry-34418"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(os-name)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This function is defined in <strong>SRFI-112</strong>; it returns the name for
the operating system, platform, or equivalent on which the
implementation is running.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="os-version"></a><a name="--index-entry-34441"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(os-version)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This function is defined in <strong>SRFI-112</strong>; it returns the version for
the operating system, platform, or equivalent on which the
implementation is running.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="getpid"></a><a name="--index-entry-34464"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(getpid)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the system process number of the current program (i.e. the
Unix <em>pid</em>) as an integer.</td></tr>
</tbody></table></div></div><div class="subsectiondiv"><div class="subsectiontitle"><a name="Program-Arguments-Parsing"></a>
<h4 id="Program-Arguments-Parsing">4.13.6 Program Arguments Parsing</h4>
</div>
<div class="subsectionbody"><a name="--index-entry-34488"></a><p><span style="font-variant: small-caps">STklos</span> provides a simple way to parse program arguments with the
|parse-arguments| special form. This form is generally used into
the |main| function in a Scheme script. See  <strong><a  class="http" href="http://srfi.schemers.org/srfi-22/srfi-22.html">SRFI-22</a></strong>
      (<em>Running Scheme Scripts on Unix</em>) on how to
use a |main| function in a Scheme program.</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="parse-arguments"></a><a name="--index-entry-34500"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(parse-arguments &lt;args&gt; &lt;clause1&gt; &lt;clause2&gt; ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />The <code>parse-arguments</code> special form is used to parse the
command line arguments of a Scheme script. The implementation of
this form internally uses the GNU C <code>getopt</code> function. As a
consequence <code>parse-arguments</code> accepts options which start with
the '-' (short option) or '--' characters (long option).
<br />
The first argument of <code>parse-arguments</code> is a list of the arguments
given to the program (comprising the program name in the CAR of this
list). Following arguments are clauses. Clauses are described later.
<br />
By  default, <code>parse-arguments</code> permutes the contents of (a copy) of
the arguments as it scans, so that eventually all the non-options are
at the end. However, if the shell environment variable <code>POSIXLY_CORRECT</code>
is set, then option processing stops as soon as a non-option argument
is encountered.
<br />
A clause must follow the syntax:
<blockquote><table cellspacing="0" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>&lt;clause&gt;       &#8658; string | &lt;list-clause&gt;
&lt;list clause&gt;  &#8658; (&lt;option descr&gt; &lt;expr&gt; ...) | (else &lt;expr&gt; ...)
&lt;option descr&gt; &#8658; (&lt;option name&gt; `(&lt;keyword&gt; value)*)
&lt;option name&gt;  &#8658; string
&lt;keyword&gt;      &#8658; :alternate | :arg | :help
</pre></td></tr>
</tbody></table></blockquote>


A string clause is used to build the  help associated to the command.
A list clause must follow the syntax describes an option. The <code>&lt;expr&gt;</code>s
associated to a list clauses are executed when the option is recognized.
The <code>else</code> clauses is executed when all parameters have been parsed.
The <code>:alternate</code> key permits to have an alternate name for an option
(generally a short or long name if the option name is a
short or long name).  The <code>:help</code> is used to provide help about the
the option. The <code>:arg</code> is used when the option admit a parameter:
the symbol given after <code>:arg</code> will be bound to the value of the option
argument when the corresponding <code>&lt;expr&gt;</code>s will be executed.
<br />
In an <code>else</code> clause the symbol <code>other-arguments</code> is bound to the
list of the arguments which are not options.
<br />
The following example shows a rather complete usage of the
<code>parse-arguments</code> form

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>#!/usr/bin/env stklos-script

(<span class="source-define">define</span> (main args)
  (parse-arguments args
     <span class="source-string">&quot;Usage: foo [options] [parameter ...]&quot;</span>
     <span class="source-string">&quot;General options:&quot;</span>
       ((<span class="source-string">&quot;verbose&quot;</span> <span class="source-key">:alternate</span> <span class="source-string">&quot;v&quot;</span> <span class="source-key">:help</span> <span class="source-string">&quot;be more verbose&quot;</span>)
         (format #t <span class="source-string">&quot;Seen the verbose option~%&quot;</span>))
       ((<span class="source-string">&quot;long&quot;</span> <span class="source-key">:help</span> <span class="source-string">&quot;a long option alone&quot;</span>)
         (format #t <span class="source-string">&quot;Seen the long option~%&quot;</span>))
       ((<span class="source-string">&quot;s&quot;</span> <span class="source-key">:help</span> <span class="source-string">&quot;a short option alone&quot;</span>)
         (format #t <span class="source-string">&quot;Seen the short option~%&quot;</span>))
     <span class="source-string">&quot;File options:&quot;</span>
       ((<span class="source-string">&quot;input&quot;</span> <span class="source-key">:alternate</span> <span class="source-string">&quot;f&quot;</span> <span class="source-key">:arg</span> file
                 <span class="source-key">:help</span> <span class="source-string">&quot;use &lt;file&gt; as input&quot;</span>)
         (format #t <span class="source-string">&quot;Seen the input option with ~S argument~%&quot;</span> file))
       ((<span class="source-string">&quot;output&quot;</span> <span class="source-key">:alternate</span> <span class="source-string">&quot;o&quot;</span> <span class="source-key">:arg</span> file
                  <span class="source-key">:help</span> <span class="source-string">&quot;use &lt;file&gt; as output&quot;</span>)
         (format #t <span class="source-string">&quot;Seen the output option with ~S argument~%&quot;</span> file))
     <span class="source-string">&quot;Misc:&quot;</span>
       ((<span class="source-string">&quot;help&quot;</span> <span class="source-key">:alternate</span> <span class="source-string">&quot;h&quot;</span>
                <span class="source-key">:help</span> <span class="source-string">&quot;provides help for the command&quot;</span>)
         (arg-usage (current-error-port))
         (exit 1))
       (<strong>else</strong>
     (format #t
             <span class="source-string">&quot;All options parsed. Remaining arguments are ~S~%&quot;</span>
             other-arguments))))
</pre></td></tr>
</tbody></table></blockquote>


The following program invocation
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>foo -vs --input in -o out arg1 arg2
</pre></td></tr>
</tbody></table></blockquote>


produces the following output
<blockquote><table cellspacing="0" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>Seen the verbose option
Seen the short option
Seen the input option with &quot;in&quot; argument
Seen the output option with &quot;out&quot; argument
All options parsed. Remaining arguments are (&quot;arg1&quot; &quot;arg2&quot;)
</pre></td></tr>
</tbody></table></blockquote>


Finally, the program invocation
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>foo --help
</pre></td></tr>
</tbody></table></blockquote>

produces the following output
<blockquote><table cellspacing="0" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>Usage: foo `(options) `(parameter ...)
General options:
  --verbose, -v               be more verbose
  --long                      a long option alone
  -s                          a short option alone
File options:
  --input=&lt;file&gt;, -f &lt;file&gt;   use &lt;file&gt; as input
  --output=&lt;file&gt;, -o &lt;file&gt;  use &lt;file&gt; as output
Misc:
  --help, -h                  provides help for the command
</pre></td></tr>
</tbody></table></blockquote>


<strong>Note:</strong>
<ul><li>Short option can be concatenated. That is,
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>prog -abc
</pre></td></tr>
</tbody></table></blockquote>

is equivalent to the following program call
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>prog -a -b -c
</pre></td></tr>
</tbody></table></blockquote>
</li>
<li>Any argument following a '--' argument is no more considered as
an option, even if it starts with a '-' or '--'.</li>
<li>Option with a parameter can be written in several ways. For instance
to set the output in the <code>bar</code> file for the previous example can be expressed as
<ul><li><code>--output=bar</code></li>
<li><code>-o bar</code></li>
<li><code>-obar</code></li>
</ul></li>
</ul></td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="arg-usage"></a><a name="--index-entry-34844"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(arg-usage port)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(arg-usage port as-sexpr)</font></strong></code><br /><br />This procedure is only bound inside a <code>parse-arguments</code> form.
It pretty prints the help associated to the clauses of the
<code>parse-arguments</code> form on the given port. If the argument
<code>as-sexpr</code> is passed and is not<code> #f</code>, the help strings are
printed on <code>port</code> as <em>S-expr</em>s. This is useful if the help
strings need to be manipulated by a program.
</td></tr>
</tbody></table></div></div><div class="subsectiondiv"><div class="subsectiontitle"><a name="Misc--System-Procedures"></a>
<h4 id="Misc--System-Procedures">4.13.7 Misc. System Procedures</h4>
</div>
<div class="subsectionbody"><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="system"></a><a name="--index-entry-34899"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(system string)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Sends the given <code>string</code> to the system shell <code>/bin/sh</code>. The result of
<code>system</code> is the integer status code the shell returns.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="exec-list"></a><a name="exec"></a><a name="--index-entry-34934"></a><a name="--index-entry-34938"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(exec str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(exec-list str)</font></strong></code><br /><br />These procedures execute the command given in <code>str</code>. The command given
in <code>str</code> is passed to <code>/bin/sh</code>. <code>Exec</code> returns a strings which contains
all the characters that the command <code>str</code> has printed on it's standard
output, whereas <code>exec-list</code> returns a list of the lines which constitute
the output of <code>str</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(exec <span class="source-string">&quot;echo A; echo B&quot;</span>)                &#8658; <span class="source-string">&quot;A\nB\n&quot;</span>
(exec-list <span class="source-string">&quot;echo A; echo B&quot;</span>)           &#8658; (<span class="source-string">&quot;A&quot;</span> <span class="source-string">&quot;B&quot;</span>)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="address-of"></a><a name="--index-entry-35020"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(address-of obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the address of the object <code>obj</code> as an integer.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="exit"></a><a name="--index-entry-35044"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(exit)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(exit ret-code)</font></strong></code><br /><br />Exits the program with the specified integer return code. If <code>ret-code</code>
is omitted, the program terminates with a return code of 0.
If  program has registered exit functions with <code>register-exit-function!</code>,
they are called (in an order which is the reverse of their call order).
<br /><br />
<strong>Note:</strong> The <span style="font-variant: small-caps">STklos</span> <code>exit</code> primitive accepts also an
integer value as parameter (<span style="font-variant: small-caps">R<sup>7</sup>RS</span> accepts only a boolean).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="emergency-exit"></a><a name="--index-entry-35099"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(emergency-exit)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(emergency-exit ret-code)</font></strong></code><br /><br />Terminates the program without running any outstanding
dynamic-wind <em>after</em> procedures and communicates an exit
value to the operating system in the same manner as <code>exit</code>.
<br /><br />
<strong>Note:</strong> The <span style="font-variant: small-caps">STklos</span> <code>emergency-exit</code> primitive accepts also an
integer value as parameter (<span style="font-variant: small-caps">R<sup>7</sup>RS</span> accepts only a boolean).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="die"></a><a name="--index-entry-35153"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(die message)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(die message status)</font></strong></code><br /><br /><code>Die</code> prints the given <code>message</code> on the current error port and exits
the program with the <code>status</code> value. If <code>status</code> is omitted, it
defaults to 1.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="get-password"></a><a name="--index-entry-35196"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(get-password)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This primitive permits to enter a password (character echoing
being turned off). The value returned by <code>get-password</code> is the entered
password as a string.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="register-exit-function-"></a><a name="--index-entry-35220"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(register-exit-function! proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This function registers <code>proc</code> as an exit function. This function will
be called when the program exits. When called, <code>proc</code> will be passed one
parmater which is the status given to the <code>exit</code> function (or 0 if the
programe terminates normally). The result of  <code>register-exit-function!</code>
is undefined.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let*</strong> ((tmp (temporary-file-name))
       (out (open-output-file tmp)))
  (register-exit-function! (<strong>lambda</strong> (n)
                             (when (zero? n)
                               (delete-file tmp))))
  out)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table></div></div></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Keywords"></a>
<h3 id="Keywords">4.14 Keywords</h3>
</div>
<div class="sectionbody"><a name="--index-entry-35278"></a><p>Keywords are symbolic constants which evaluate to themselves.
A keyword is a symbol whose first (or last) character is a colon
(<em>":"</em>). Alternatively, to be compatible with other Scheme
implementations, the notation <code>#:foo</code> is also available to denote
the keyword of name <code>foo</code></p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="keyword-"></a><a name="--index-entry-35289"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(keyword obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is a keyword, otherwise returns <code>#f</code>.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(keyword? 'foo)     &#8658; #f
(keyword? ':foo)    &#8658; #t
(keyword? <span class="source-key">'foo:</span>)    &#8658; #t
(keyword? <span class="source-key">:foo</span>)     &#8658; #t
(keyword? <span class="source-key">foo:</span>)     &#8658; #t
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="make-keyword"></a><a name="--index-entry-35363"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(make-keyword s)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Builds a keyword from the given <code>s</code>. The parameter <code>s</code> must be a symbol
or a string.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(make-keyword <span class="source-string">&quot;test&quot;</span>)    &#8658; <span class="source-key">:test</span>
(make-keyword 'test)     &#8658; <span class="source-key">:test</span>
(make-keyword <span class="source-string">&quot;:hello&quot;</span>)  &#8658; <span class="source-key">::hello</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="keyword--string"></a><a name="--index-entry-35422"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(keyword-&gt;string key)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the name of <code>key</code> as a string. The result does not contain a colon.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string--keyword"></a><a name="--index-entry-35446"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-&gt;keyword str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This function function has been added to be compatibe with SRFI-88.
It is equivalent to make-keyword, except that the parameter cannot be
a symbol.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="key-get"></a><a name="--index-entry-35465"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(key-get list key)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(key-get list key default)</font></strong></code><br /><br /><code>List</code> must be a list of keywords and their respective values.
<code>key-get</code> scans the <code>list</code> and returns the value
associated with the given <code>key</code>. If  <code>key</code> does
not appear in an odd position in <code>list</code>, the specified
<code>default</code> is returned, or an error is raised if no <code>default</code> was
specified.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(key-get '(<span class="source-key">:one</span> 1 <span class="source-key">:two</span> 2) <span class="source-key">:one</span>)     &#8658; 1
(key-get '(<span class="source-key">:one</span> 1 <span class="source-key">:two</span> 2) <span class="source-key">:four</span> #f) &#8658; #f
(key-get '(<span class="source-key">:one</span> 1 <span class="source-key">:two</span> 2) <span class="source-key">:four</span>)    &#8658; <span class="source-error">error</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="key-set-"></a><a name="--index-entry-35563"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(key-set! list key value)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>List</code> must be a list of keywords and their respective values.
<code>key-set!</code> sets the value associated to <code>key</code> in the keyword list.
If the key is already present in <code>list</code>, the keyword list is
<em>physically</em> changed.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((l (list <span class="source-key">:one</span> 1 <span class="source-key">:two</span> 2)))
  (<strong>set!</strong> l (key-set! l <span class="source-key">:three</span> 3))
  (cons (key-get l <span class="source-key">:one</span>)
        (key-get l <span class="source-key">:three</span>)))            &#8658; (1 . 3)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="key-delete-"></a><a name="key-delete"></a><a name="--index-entry-35630"></a><a name="--index-entry-35634"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(key-delete  list key)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(key-delete! list key)</font></strong></code><br /><br /><code>List</code> must be a list of keywords and their respective values.
<code>key-delete</code> remove the <code>key</code> and its associated value of the keyword
list. The key can be absent of the list.
<br />
<code>key-delete!</code> does the
same job than <code>key-delete</code> by physically modifying its <code>list</code> argument.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(key-delete '(<span class="source-key">:one</span> 1 <span class="source-key">:two</span> 2) <span class="source-key">:two</span>)    &#8658; (<span class="source-key">:one</span> 1)
(key-delete '(<span class="source-key">:one</span> 1 <span class="source-key">:two</span> 2) <span class="source-key">:three</span>)  &#8658; (<span class="source-key">:one</span> 1 <span class="source-key">:two</span> 2)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Hash-Tables"></a>
<h3 id="Hash-Tables">4.15 Hash Tables</h3>
</div>
<div class="sectionbody"><a name="--index-entry-35720"></a><p>A hash table consists of zero or more entries, each consisting of a key
and a value. Given the key for an entry, the hashing function can very
quickly locate the entry, and hence the corresponding value. There may
be at most one entry in a hash table with a particular key, but many
entries may have the same value.</p><p><span style="font-variant: small-caps">STklos</span> hash tables grow gracefully as the number of entries
increases, so that there are always less than three entries per hash
bucket, on average.  This allows for fast lookups regardless of the
number of entries in a table.</p><p><span style="font-variant: small-caps">STklos</span> hash tables procedures are identical to the ones
defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-69/srfi-69.html">SRFI-69</a></strong>
      (<em>Basic Hash Tables</em>). Note that the default comparison function
is <code>eq?</code> whereas it is <code>equal?</code> in this SRFI. See
<a href="stklos-ref-14.html#SRFIs">SRFIs</a> for more information.</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="make-hash-table"></a><a name="--index-entry-35738"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(make-hash-table)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(make-hash-table comparison)</font></strong></code><br /><code><strong><font color="IndianRed">(make-hash-table comparison hash)</font></strong></code><br /><br /><code>Make-hash-table</code> admits three different forms.  The most general form
admit two arguments. The first argument is a comparison function which
determines how keys are compared; the second argument is a function which
computes a hash code for an object and returns the hash code as a non
negative integer. Objets with the same hash code are stored in an A-list
registered in the bucket corresponding to the key.
<br /><br />
If omitted,
<ul><li><code>hash</code> defaults to the <code>hash-table-hash</code> procedure (see
<a href="stklos-ref-4.html#hash-table-hash">hash-table-hash</a>).</li>
<li><code>comparison</code> defaults to the <code>eq?</code> procedure (see <a href="stklos-ref-4.html#eq-">eq-</a>).</li>
</ul>
Consequently,
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> h (make-hash-table))
</pre></td></tr>
</tbody></table></blockquote>

is equivalent to
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> h (make-hash-table eq? hash-table-hash))
</pre></td></tr>
</tbody></table></blockquote>


An interesting example is
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> h (make-hash-table string-ci=? string-length))
</pre></td></tr>
</tbody></table></blockquote>

which defines a new hash table which uses <code>string-ci=?</code> for
comparing keys. Here, we use the string-length as a (very simple)
hashing function. Of course, a function which gives a key depending
of the characters composing the string gives a better repartition
and should probably enhance performances. For instance, the following
call to <code>make-hash-table</code> should return a more efficient, even if
not perfect, hash table:
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(make-hash-table
   string-ci=?
   (<strong>lambda</strong> (s)
     (<strong>let</strong> ((len (string-length s)))
       (<strong>do</strong> ((h 0)  (i 0 (+ i 1)))
           ((= i len) h)
         (<strong>set!</strong> h
               (+ h (char-&gt;integer
                      (char-downcase (string-ref s i)))))))))
</pre></td></tr>
</tbody></table></blockquote>


<strong>Note:</strong> Hash tables with a comparison function equal to <code>eq?</code> or
<code>string=?</code> are handled in an more efficient way (in fact, they don't use
the <code>hash-table-hash</code> function to speed up hash table retrievals).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-"></a><a name="--index-entry-35892"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is a hash table, returns <code>#f</code> otherwise.</td></tr>
</tbody></table><a name="--index-entry-35924"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-hash"></a><a name="--index-entry-35930"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-hash obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Computes a hash code for an object and returns this hash code as a
non negative integer. A property of <code>hash-table-hash</code> is that
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(equal? x y) &#8658; (equal? (hash-table-hash x) (hash-table-hash y)
</pre></td></tr>
</tbody></table></blockquote>


as the the Common Lisp <code>sxhash</code> function from which this procedure is
modeled.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="alist--hash-table"></a><a name="--index-entry-35973"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(alist-&gt;hash-table alist)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(alist-&gt;hash-table alist comparison)</font></strong></code><br /><code><strong><font color="IndianRed">(alist-&gt;hash-table alist comparison hash)</font></strong></code><br /><br />Returns hash-table built from the ``association list''
<code>alist</code>. This function maps the <code>car</code> of every element in <code>alist</code>
to the <code>cdr</code> of corresponding elements in <code>alist</code>. the <code>comparison</code> and
<code>hash</code> functions are interpreted as in <code>make-hash-table</code>. If some key
occurs multiple times in <code>alist</code>, the value in the first
association will take precedence over later ones.
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table--alist"></a><a name="--index-entry-36045"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-&gt;alist hash)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns an ``association list'' built from the entries in <code>hash</code>.
Each entry in <code>hash</code> will be represented as a pair whose <code>car</code> is the
entry's key and whose <code>cdr</code> is its value.
<br /><br />
<strong>Note:</strong> the order of pairs in the resulting list is unspecified.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((h (make-hash-table)))
  (<strong>dotimes</strong> (i 5)
    (hash-table-set! h i (number-&gt;string i)))
  (hash-table-&gt;alist h))
       &#8658; ((3 . <span class="source-string">&quot;3&quot;</span>) (4 . <span class="source-string">&quot;4&quot;</span>) (0 . <span class="source-string">&quot;0&quot;</span>)
           (1 . <span class="source-string">&quot;1&quot;</span>) (2 . <span class="source-string">&quot;2&quot;</span>))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-set-"></a><a name="--index-entry-36117"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-set! hash key value)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Enters an association between <code>key</code> and <code>value</code> in the<code>hash</code> table.
The value returned by <code>hash-table-set!</code> is <em>void</em>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-ref"></a><a name="--index-entry-36160"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-ref hash key)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(hash-table-ref hash key thunk)</font></strong></code><br /><br />Returns the value associated with <code>key</code> in the given <code>hash</code> table. If no
value has been associated with <code>key</code> in <code>hash</code>, the specified <code>thunk</code> is
called and its value is returned; otherwise an error is raised.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> h1 (make-hash-table))
(hash-table-set! h1 'foo (list 1 2 3))
(hash-table-ref  h1 'foo)                 &#8658;  (1 2 3)
(hash-table-ref  h1 'bar
                    (<strong>lambda</strong> () 'absent))  &#8658;  absent
(hash-table-ref  h1 'bar)                 &#8658;  <span class="source-error">error</span>
(hash-table-set! h1 '(a b c) 'present)
(hash-table-ref  h1 '(a b c)
                     (<strong>lambda</strong> () 'absent)) &#8658; absent

(<span class="source-define">define</span> h2 (make-hash-table equal?))
(hash-table-set! h2 '(a b c) 'present)
(hash-table-ref  h2 '(a b c))             &#8658; present
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-ref-default"></a><a name="--index-entry-36258"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-ref/default hash key default)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This function is equivalent to
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(hash-table-ref hash key (<strong>lambda</strong> () default))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-delete-"></a><a name="--index-entry-36286"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-delete! hash key)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Deletes the entry for <code>key</code> in <code>hash</code>, if it exists. Result of
<code>hash-table-delete!</code> is <em>void</em>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> h (make-hash-table))
(hash-table-set! h 'foo (list 1 2 3))
(hash-table-ref h 'foo)                &#8658; (1 2 3)
(hash-table-delete! h 'foo)
(hash-table-ref h 'foo
                  (<strong>lambda</strong> () 'absent)  &#8658; absent
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-exists-"></a><a name="--index-entry-36349"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-exists? hash key)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if there is any association of <code>key</code> in
<code>hash</code>. Returns <code>#f</code> otherwise.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-update-"></a><a name="hash-table-update--default"></a><a name="--index-entry-36389"></a><a name="--index-entry-36393"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-update! hash key update-fun thunk)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(hash-table-update!/default hash key update-fun default)</font></strong></code><br /><br />Update the value associated to <code>key</code> in table <code>hash</code> if key is already in
table with the value <code>(update-fun current-value)</code>. If no value is
associated to <code>key</code>, a new entry in the table is first inserted
before updating it (this new entry being the result of calling <code>thunk</code>).
<br /><br />
Note that the expression
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(hash-table-update!/default hash key update-fun default)
</pre></td></tr>
</tbody></table></blockquote>

is equivalent to
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(hash-table-update! hash key update-fun (<strong>lambda</strong> () default))
</pre></td></tr>
</tbody></table></blockquote>


<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((h   (make-hash-table))
      (1+  (<strong>lambda</strong> (n) (+ n 1))))
  (hash-table-update!/default h 'test 1+ 100)
  (hash-table-update!/default h 'test 1+)
  (hash-table-ref h 'test))             &#8658; 102
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-for-each"></a><a name="hash-table-walk"></a><a name="--index-entry-36484"></a><a name="--index-entry-36488"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-for-each hash proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(hash-table-walk hash proc)</font></strong></code><br /><br /><code>Proc</code> must be a procedure taking two arguments. <code>Hash-table-for-each</code>
calls <code>proc</code> on each key/value association in <code>hash</code>, with the key as
the first argument and the value as the second.  The value returned by
<code>hash-table-for-each</code> is <em>void</em>.
 <br />
<strong>Note:</strong> The order of application of <code>proc</code> is unspecified.
 <br />
<strong>Note:</strong> <code>hash-table-walk</code> is another name for <code>hash-table-for-each</code>
(this is the name used in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-69/srfi-69.html">SRFI-69</a></strong>
      (<em>Basic Hash Tables</em>)).

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((h   (make-hash-table))
      (sum 0))
  (hash-table-set! h 'foo 2)
  (hash-table-set! h 'bar 3)
  (hash-table-for-each h (<strong>lambda</strong> (key value)
                           (<strong>set!</strong> sum (+ sum value))))
  sum)           &#8658;  5
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-map"></a><a name="--index-entry-36600"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-map hash proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>Proc</code> must be a procedure taking two arguments. <code>Hash-table-map</code>
calls <code>proc</code> on each key/value association in <code>hash</code>, with the key as
the first argument and the value as the second.  The result of
<code>hash-table-map</code> is a list of the values returned by <code>proc</code>, in an
unspecified order.
<br />
<strong>Note:</strong> The order of application of <code>proc</code> is unspecified.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((h (make-hash-table)))
  (<strong>dotimes</strong> (i 5)
    (hash-table-set! h i (number-&gt;string i)))
  (hash-table-map h (<strong>lambda</strong> (key value)
                       (cons key value))))
             &#8658; ((3 . <span class="source-string">&quot;3&quot;</span>) (4 . <span class="source-string">&quot;4&quot;</span>) (0 . <span class="source-string">&quot;0&quot;</span>) (1 . <span class="source-string">&quot;1&quot;</span>) (2 . <span class="source-string">&quot;2&quot;</span>))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-keys"></a><a name="hash-table-values"></a><a name="--index-entry-36689"></a><a name="--index-entry-36693"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-keys hash)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(hash-table-values hash)</font></strong></code><br /><br />Returns the keys or the values of <code>hash</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-fold"></a><a name="--index-entry-36721"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-fold hash func init-value)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This procedure calls <code>func</code> for every association in <code>hash</code>
with three arguments: the key of the association key, the value
of the association value, and an accumulated value, <code>val</code>. <code>Val</code> is
init-value for the first invocation of <code>func</code>, and for subsequent
invocations of <code>func</code>, the return value of the previous invocation of
<code>func</code>. The value <code>final-value</code> returned by <code>hash-table-fold</code> is the
return value of the last invocation of <code>func</code>. The order in which <code>func</code> is
called for different associations is unspecified.
<br /><br />
For instance, the following expression
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(hash-table-fold ht (<strong>lambda</strong> (k v acc) (+ acc 1)) 0)
</pre></td></tr>
</tbody></table></blockquote>

computes the number of associations present in the <code>ht</code> hash table.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-copy"></a><a name="--index-entry-36814"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-copy hash)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a copy of <code>hash</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-merge-"></a><a name="--index-entry-36838"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-merge! hash1 hash2)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Adds all mappings in <code>hash2</code> into <code>hash1</code> and returns the resulting
hash table. This function may modify <code>hash1</code> destructively.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-equivalence-function"></a><a name="--index-entry-36872"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-equivalence-function hash)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the equivalence predicate used for keys in <code>hash</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-hash-function"></a><a name="--index-entry-36896"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-hash-function hash)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the hash function used for keys in <code>hash</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-size"></a><a name="--index-entry-36920"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-size hash)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the number of entries in the <code>hash</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="hash-table-stats"></a><a name="--index-entry-36944"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(hash-table-stats hash)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(hash-table-stats hash port)</font></strong></code><br /><br />Prints  overall information about <code>hash</code>, such as the number of entries
it contains, the number of buckets in its hash array, and the utilization
of the buckets. Informations are printed on <code>port</code>. If no <code>port</code> is given
to <code>hash-table-stats</code>, information are printed on the current output port
(see <a href="stklos-ref-4.html#current-output-port">current-output-port</a>).</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Dates-and-Times"></a>
<h3 id="Dates-and-Times">4.16 Dates and Times</h3>
</div>
<div class="sectionbody"><p><span style="font-variant: small-caps">STklos</span> stores dates and times with a compact
representation which consists is an integer which represents the
number of seconds elapsed since the <em>Epoch</em> (00:00:00 on
January 1, 1970, Coordinated Universal Time --UTC). Dates can
also be represented with date structures.</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="current-second"></a><a name="--index-entry-36997"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(current-second)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns an inexact number representing the current time on the
International Atomic Time (TAI) scale.  The value 0.0 represents
midnight on January 1, 1970 TAI (equivalent to ten seconds before
midnight Universal Time) and the value 1.0 represents one TAI
second later.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="current-seconds"></a><a name="--index-entry-37017"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(current-seconds)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the time since the Epoch (that is 00:00:00 UTC, January 1, 1970),
measured in seconds.
<br /><br />
&#x40;bold(&quot;Note&quot;): This <span style="font-variant: small-caps">STklos</span> function should not be confused with
the <span style="font-variant: small-caps">R<sup>7</sup>RS</span>  primitive <code>current-second</code> which returns an inexact number
and whose result is expressed using  the International Atomic Time
instead of UTC.
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="current-time"></a><a name="--index-entry-37054"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(current-time)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a time object corresponding to the current time.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="time-"></a><a name="--index-entry-37073"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(time? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return <code>#t</code> if <code>obj</code> is a time object, othererwise returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="time--seconds"></a><a name="--index-entry-37107"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(time-&gt;seconds time)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Convert the time object <code>time</code> into an inexact real number representing
the number of seconds elapsed since the Epoch.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(time-&gt;seconds (current-time))  =&#8658;  1138983411.09337
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="seconds--time"></a><a name="--index-entry-37144"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(seconds-&gt;time x)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Converts into a time object the real number <code>x</code> representing the number
of seconds elapsed since the Epoch.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(seconds-&gt;time (+ 10 (time-&gt;seconds (current-time))))
         =&#8658;  a time object representing 10 seconds in the future
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="current-date"></a><a name="--index-entry-37182"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(current-date)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the current system date.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="make-date"></a><a name="--index-entry-37201"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(make-date :key second minute hour day month year)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Build a date from its argument. <code>hour</code>, <code>minute</code>, <code>second</code> default to 0;
<code>day</code> and <code>month</code> default to 1; <code>year</code> defaults to 1970</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="date-"></a><a name="--index-entry-37250"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(date? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return <code>#t</code> if <code>obj</code> is a date, and otherwise returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="date-second"></a><a name="--index-entry-37284"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(date-second d)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return the second of date <code>d</code>, in the range 0 to 59.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="date-minute"></a><a name="--index-entry-37308"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(date-minute d)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return the minute of date <code>d</code>, in the range 0 to 59.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="date-hour"></a><a name="--index-entry-37332"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(date-hour d)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return the hour of date <code>d</code>, in the range 0 to 23.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="date-day"></a><a name="--index-entry-37356"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(date-day d)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return the day of date <code>d</code>, in the range 1 to 31</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="date-month"></a><a name="--index-entry-37380"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(date-month d)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return the month of date <code>d</code>, in the range 1 to 12</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="date-year"></a><a name="--index-entry-37404"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(date-year d)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return the year of date <code>d</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="date-week-day"></a><a name="--index-entry-37428"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(date-week-day d)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return the week day of date <code>d</code>, in the range 0 to 6 (0 is Sunday).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="date-year-day"></a><a name="--index-entry-37452"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(date-year-day d)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return the the number of days since January 1 of date <code>d</code>, in the range
1 to 366.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="date-dst"></a><a name="--index-entry-37476"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(date-dst d)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return an indication about daylight saving adjustment:
<ul><li>0 if no daylight saving adjustment</li>
<li>1 if daylight saving adjustment</li>
<li>-1 if the information is not available</li>
</ul></td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="date-tz"></a><a name="--index-entry-37507"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(date-tz d)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return the time zone of date <code>d</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="date--seconds"></a><a name="--index-entry-37531"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(date-&gt;seconds d)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Convert the date <code>d</code> to the number of seconds since the <em>Epoch</em>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="date--string"></a><a name="--index-entry-37559"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(date-&gt;string format d)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Convert the date <code>d</code> using the string <code>format</code> as a
specification. Conventions for format are the same as the one
of <a href="stklos-ref-4.html#seconds--string">seconds--string</a>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="seconds--date"></a><a name="--index-entry-37592"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(seconds-&gt;date n)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Convert the date <code>n</code> expressed as a number of seconds since the Epoch
to a date.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="seconds--string"></a><a name="--index-entry-37616"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(seconds-&gt;string format n)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Convert a date expressed in seconds using the string <code>format</code> as a
specification. Conventions for <code>format</code> are given below:
<ul><li><strong>~~ </strong>a literal ~</li>
<li><strong>~a </strong>locale's abbreviated weekday name (Sun...Sat)</li>
<li><strong>~A </strong>locale's full weekday name (Sunday...Saturday)</li>
<li><strong>~b </strong>locale's abbreviate month name (Jan...Dec)</li>
<li><strong>~B </strong>locale's full month day (January...December)</li>
<li><strong>~c </strong>locale's date and time
(e.g., <code>Fri Jul 14 20:28:42-0400 2000</code>)</li>
<li><strong>~d </strong>day of month, zero padded (01...31)</li>
<li><strong>~D </strong>date (mm/dd/yy)</li>
<li><strong>~e </strong>day of month, blank padded ( 1...31)</li>
<li><strong>~f </strong>seconds+fractional seconds, using locale's
        decimal separator (e.g. 5.2).</li>
<li><strong>~h </strong>same as ~b</li>
<li><strong>~H </strong>hour, zero padded, 24-hour clock (00...23)</li>
<li><strong>~I </strong>hour, zero padded, 12-hour clock (01...12)</li>
<li><strong>~j </strong>day of year, zero padded</li>
<li><strong>~k </strong>hour, blank padded, 24-hour clock (00...23)</li>
<li><strong>~l </strong>hour, blank padded, 12-hour clock (01...12)</li>
<li><strong>~m </strong>month, zero padded (01...12)</li>
<li><strong>~M </strong>minute, zero padded (00...59)</li>
<li><strong>~n </strong>new line</li>
<li><strong>~p </strong>locale's AM or PM</li>
<li><strong>~r </strong>time, 12 hour clock, same as <code>~I:~M:~S ~p</code></li>
<li><strong>~s </strong>number of full seconds since &quot;the epoch&quot; (in UTC)</li>
<li><strong>~S </strong>second, zero padded (00...61)</li>
<li><strong>~t </strong>horizontal tab</li>
<li><strong>~T </strong>time, 24 hour clock, same as <code>~H:~M:~S</code></li>
<li><strong>~U </strong>week number of year with Sunday as first day of week
        (00...53)</li>
<li><strong>~V </strong>weekISO 8601:1988 week number of year (01...53)
      (week 1 is the first week that has at least 4 days in the current year,
       and  with  Monday  as  the first day of the week)</li>
<li><strong>~w </strong>day of week (1...7, 1 is Monday)</li>
<li><strong>~W </strong>week number of year with Monday as first day of week
        (01...52)</li>
<li><strong>~x </strong>week number of year with Monday as first day of week
        (00...53)</li>
<li><strong>~X </strong>locale's date representation, for example: &quot;07/31/00&quot;</li>
<li><strong>~y </strong>last two digits of year (00...99)</li>
<li><strong>~Y </strong>year</li>
<li><strong>~z </strong>time zone in RFC-822 style</li>
<li><strong>~Z </strong>symbol time zone</li>
</ul></td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="seconds--list"></a><a name="--index-entry-37833"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(seconds-&gt;list sec)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a keyword list for the date given by <code>sec</code> (a date based on the
Epoch). The keyed values returned are
<ul><li>second : 0 to 59 (but can be up to 61 to allow for leap seconds)</li>
<li>minute : 0 to 59</li>
<li>hour : 0 to 23</li>
<li>day : 1 to 31</li>
<li>month : 1 to 12</li>
<li>year : e.g., 2002</li>
<li>week-day : 0 (Sunday) to 6 (Saturday)</li>
<li>year-day : 0 to 365 (365 in leap years)</li>
<li>dst : indication about daylight savings time. See <a href="stklos-ref-4.html#date-dst">date-dst</a></li>
<li>tz : the difference between Coordinated Universal Time
(UTC) and local standard time in seconds.</li>
</ul>
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(seconds-&gt;list (current-second))
       &#8658; (<span class="source-key">:second</span> 51 <span class="source-key">:minute</span> 26 <span class="source-key">:hour</span> 19
           <span class="source-key">:day</span> 5 <span class="source-key">:month</span> 11 <span class="source-key">:year</span> 2004
           <span class="source-key">:week-day</span> 5 <span class="source-key">:year-day</span> 310
           <span class="source-key">:dst</span> 0 <span class="source-key">:tz</span> -3600)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="date"></a><a name="--index-entry-37921"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(date)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the current date in a string</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Boxes"></a>
<h3 id="Boxes">4.17 Boxes</h3>
</div>
<div class="sectionbody"><p>Boxes are objects which contain one or several states.  A box may
be constructed with the <tt>box</tt>, <tt>constant-box</tt>. <span style="font-variant: small-caps">STklos</span> boxes are
compatible with the one defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-111/srfi-111.html">SRFI-111</a></strong>
      (<em>Boxes</em>) or  <strong><a  class="http" href="http://srfi.schemers.org/srfi-195/srfi-195.html">SRFI-195</a></strong>
      (<em>Multiple-value boxes</em>).  Boxes of
SRFI-111 can contain only one value, whereas SRFI-195 boxes can contain multiple
values. Furthermore, <span style="font-variant: small-caps">STklos</span> defines also the notion of constant boxes which
are not mutable.</p><p>The <tt>read</tt> primitive can also make single valued boxes
          (using the "<tt>#&amp;</tt>" notation). Such boxes are mutable.</p><p>Note that two boxes are <tt>equal?</tt> <em>iff</em> their content are
<tt>equal?</tt>.</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="box"></a><a name="make-box"></a><a name="--index-entry-37965"></a><a name="--index-entry-37969"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(box value ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(make-box value ...)</font></strong></code><br /><br />Returns a new box that contains all the given <code>value</code>s.
The box is mutable.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((x (box 10)))
  (list 10 x))        &#8658; (10 #&amp;10)
</pre></td></tr>
</tbody></table></blockquote>


The name <code>make-box</code> is now obsolete and kept only for compatibility.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="constant-box"></a><a name="make-constant-box"></a><a name="--index-entry-38019"></a><a name="--index-entry-38023"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(constant-box value ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(make-constant-box value ...)</font></strong></code><br /><br />Returns a new box that contains all the given <code>value</code>s. The box is immutable.

The name <code>make-constant-box</code> is now obsolete and kept only for compatibility.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="box-"></a><a name="--index-entry-38056"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(box? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code>is box, <code>#f</code> otherwise.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="box-mutable-"></a><a name="--index-entry-38090"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(box-mutable? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code>is mutable box, <code>#f</code> otherwise.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="set-box-"></a><a name="box-set-"></a><a name="--index-entry-38125"></a><a name="--index-entry-38129"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(set-box! box value ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(box-set! box value ...)</font></strong></code><br /><br />Changes <code>box</code> to hold <code>value</code>s. It is an error if <code>set-box!</code> is called
with a number of values that differs from the number of values in the box
being set. (In other words, <code>set-box!</code> does not allocate memory.)

The name <code>box-set!</code> is now obsolete and kept only for compatibility.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="unbox"></a><a name="--index-entry-38177"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(unbox box)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the values currently in <code>box</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="box-arity"></a><a name="--index-entry-38201"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(box-arity box)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the number of values in <code>box</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="unbox-value"></a><a name="--index-entry-38225"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(unbox-value box i)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the <code>i</code>th value of <code>box</code>. It is an error if <code>i</code> is not an exact integer
between 0 and <code>n</code>-1, when <code>n</code> is the number of values in <code>box</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="set-box-value-"></a><a name="--index-entry-38274"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(set-box-value! box i obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Changes the <code>i</code>th value of <code>box</code> to <code>obj</code>. It is an error if <code>i</code> is not an
exact integer between 0 and <code>n</code>-1, when <code>n</code> is the number of values in <code>box</code>.</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Processes"></a>
<h3 id="Processes">4.18 Processes</h3>
</div>
<div class="sectionbody"><a name="--index-entry-38329"></a><a name="--index-entry-38333"></a><p><span style="font-variant: small-caps">STklos</span> provides access to Unix processes as first class objects.
Basically, a process contains several informations such as the standard
system process identification (aka PID on Unix Systems), the files where
the standard files of the process are redirected.</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="run-process"></a><a name="--index-entry-38341"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(run-process command p1 p2 ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /><code>run-process</code> creates a new process and run the executable
specified in <code>command</code>. The <code>p</code> correspond to the command line
arguments. The following values of <code>p</code> have a special meaning:
<ul><li><code>:input</code> permits to redirect the standard input file of the
process. Redirection can come from a file or from a pipe. To redirect
the standard input from a file, the name of this file must be
specified after <code>:input</code>. Use the special keyword <code>:pipe</code> to
redirect the standard input from a pipe.</li>
<li><code>:output</code> permits to redirect the standard output file of the
process. Redirection can go to a file or to a pipe. To redirect
the standard output to a file, the name of this file must be
specified after <code>:output</code>. Use the special keyword <code>:pipe</code> to
redirect the standard output to a pipe.</li>
<li><code>:error</code> permits to redirect the standard error file of the
process. Redirection can go to a file or to a pipe. To redirect
the standard error to a file, the name of this file must be
specified after <code>error</code>. Use the special keyword <code>:pipe</code> to
redirect the standard error to a pipe.</li>
<li><code>:wait</code> must be followed by a boolean value. This value
specifies if the process must be run asynchronously or not. By
default, the process is run asynchronously (i.e. <code>:wait</code> is <code>#f</code>).</li>
<li><code>:host</code> must be followed by a string. This string represents
the name of the machine on which the command must be executed. This
option uses the external command <code>rsh</code>. The shell variable
<code>PATH</code> must be correctly set for accessing it without specifying its
abolute path.</li>
<li><code>:fork</code> must be followed by a boolean value. This value
specifies if a <em>fork</em> system call must be done before running
the process. If the process is run without <em>fork</em> the Scheme
program is lost. This feature mimics the ``<code>exec</code>'' primitive of the
Unix shells. By default, a fork is executed before running the process
(i.e. <code>:fork</code> is <code>#t</code>). This option works on Unix implementations only.</li>
</ul>

The following example launches a process which executes the
Unix command <code>ls</code> with the arguments <code>-l</code> and <code>/bin</code>. The lines
printed by this command are stored in the file <code>/tmp/X</code>
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(run-process <span class="source-string">&quot;ls&quot;</span> <span class="source-string">&quot;-l&quot;</span> <span class="source-string">&quot;/bin&quot;</span> <span class="source-key">:output</span> <span class="source-string">&quot;/tmp/X&quot;</span>)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="process-"></a><a name="--index-entry-38538"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(process? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>obj</code> is a process , otherwise returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="process-alive-"></a><a name="--index-entry-38572"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(process-alive? proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if process <code>proc</code> is currently running, otherwise returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="process-pid"></a><a name="--index-entry-38606"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(process-pid proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns an integer which represents the Unix identification (PID) of the
processus.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="process-error"></a><a name="process-output"></a><a name="process-input"></a><a name="--index-entry-38627"></a><a name="--index-entry-38631"></a><a name="--index-entry-38635"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(process-input proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(process-output proc)</font></strong></code><br /><code><strong><font color="IndianRed">(process-error proc)</font></strong></code><br /><br />Returns the file port associated to the standard input, output or error
of <code>proc</code>, if it is redirected in (or to) a pipe; otherwise
returns <code>#f</code>. Note that the returned port is opened for reading
when calling <code>process-output</code> or <code>process-error</code>; it is opened
for writing when calling <code>process-input</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="process-wait"></a><a name="--index-entry-38687"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(process-wait proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Stops the current process (the Scheme process) until <code>proc</code> completion.
<code>Process-wait</code> returns <code>#f</code> when <code>proc</code> is already terminated; it returns
<code>#t</code> otherwise.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="process-exit-status"></a><a name="--index-entry-38731"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(process-exit-status proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the exit status of <code>proc</code> if it has finished its execution;
returns <code>#f</code> otherwise.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="process-signal"></a><a name="--index-entry-38760"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(process-signal proc sig)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Sends the integer signal <code>sig</code> to <code>proc</code>. Since value of <code>sig</code> is system
dependant, use the symbolic defined signal constants to make your program
independant of the running system (see <a href="stklos-ref-4.html#signals">signals</a>).
The result of <code>process-signal</code> is <em>void</em>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="process-kill"></a><a name="--index-entry-38807"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(process-kill proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Kills (brutally) <code>process</code>. The result of <code>process-kill</code>
is <em>void</em>. This procedure is equivalent to
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(process-signal process 'SIGTERM)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="process-continue"></a><a name="process-stop"></a><a name="--index-entry-38849"></a><a name="--index-entry-38853"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(process-stop proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(process-continue proc)</font></strong></code><br /><br /><code>Process-stop</code> stops the execution of <code>proc</code> and <code>process-continue</code> resumes
its execution. They are equivalent, respectively, to
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(process-signal process 'SIGSTOP)
(process-signal process 'SIGCONT)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="process-list"></a><a name="--index-entry-38900"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(process-list)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the list of processes which are currently running (i.e. alive).</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="fork"></a><a name="--index-entry-38919"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(fork)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(fork thunk)</font></strong></code><br /><br />This procedure is a wrapper around the standard Unix <code>fork</code> system
call which permits to create a new (heavy) process.
When called without parameter, this procedure returns two times
(one time in the parent process and one time in the child process).
The value returned in the parent process is a process object
representing the child process and the value returned in the child
process is always the value <code>#f</code>.
When called with a parameter (which must be a thunk), the new process
excutes <code>thunk</code> and terminate it execution when <code>thunk</code> returns. The
value returned in the parent process is a process object representing
the child process.</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Sockets"></a>
<h3 id="Sockets">4.19 Sockets</h3>
</div>
<div class="sectionbody"><a name="--index-entry-38963"></a><p><span style="font-variant: small-caps">STklos</span> defines <strong>sockets</strong>, on systems which support them,
as first class objects. Sockets permits processes to communicate even if
they are on different machines. Sockets are useful for creating client-server
applications.</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="make-client-socket"></a><a name="--index-entry-38972"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed"> (make-client-socket hostname port-number)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed"> (make-client-socket hostname port_number line-buffered)</font></strong></code><br /><br /><code>make-client-socket</code> returns a new socket object. This socket
establishes a link between the running program and the application
listening on port <code>port-number</code> of <code>hostname</code>.  If  the optional argument
<code>line-buffered</code> has a true value, a line buffered policy is used when writing
to the client socket (i.e. characters on the socket are tranmitted as soon
as a <code>#\newline</code> character is encountered). The default value of
<code>line-buffered</code> is <code>#t</code>.
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="make-server-socket"></a><a name="--index-entry-39029"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(make-server-socket)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(make-server-socket port-number)</font></strong></code><br /><br /><code>make-server-socket</code> returns a new socket object. If <code>port-number</code>
is specified, the socket is listening on the specified port;
otherwise, the communication port is chosen by the system.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="socket-shutdown"></a><a name="--index-entry-39062"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(socket-shutdown sock)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(socket-shutdown sock close)</font></strong></code><br /><br /><code>Socket-shutdown</code> shutdowns the connection associated to
<code>socket</code>. If the socket is a server socket, <code>socket-shutdown</code> is called
on all the client sockets connected to this server.
<code>Close</code> indicates if the the socket must be closed or not, when
the connection is destroyed. Closing the socket forbids further
connections on the same port with the <code>socket-accept</code> procedure.
Omitting a value for <code>close</code> implies the closing of socket.
<br /><br />
The following example shows a simple server: when there is
a new connection on the port number 12345, the server displays
the first line sent to it by the client, discards the others and
go back waiting for further client connections.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((s (make-server-socket 12345)))
   (<strong>let</strong> loop ()
      (<strong>let</strong> ((ns (socket-accept s)))
        (format #t <span class="source-string">&quot;I've read: ~A\n&quot;</span>
                (read-line (socket-input ns)))
        (socket-shutdown ns #f)
        (loop))))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="socket-accept"></a><a name="--index-entry-39137"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(socket-accept socket)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(socket-accept socket line-buffered)</font></strong></code><br /><br /><code>socket-accept</code> waits for a client connection on the given
<code>socket</code>. If no client is already waiting for a connection, this
procedure blocks its caller; otherwise, the first connection request
on the queue of pending connections is connected and <code>socket-accept</code>
returns a new client socket to serve this request.
This procedure must be called on a server socket created
with <code>make-server-socket</code>. The result of <code>socket-accept</code> is undefined.
<code>Line-buffered</code> indicates if the port should be considered as a
line buffered. If <code>line-buffered</code> is omitted, it defaults to <code>#t</code>.
<br /><br />
The following example is a simple server which waits for a connection
on the port 12345 <a href="#fn--footnote-39229"><sup><small>1</small></sup></a>.
 Once the connection with the
distant program is established, we read a line on the input port
associated to the socket and we write the length of this line on its
output port.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let*</strong> ((server (make-server-socket 12345))
       (client (socket-accept server))
       (l      (read-line (socket-input client))))
  (format (socket-output client)
          <span class="source-string">&quot;Length is: ~an&quot;</span> (string-length l))
  (socket-shutdown server))
</pre></td></tr>
</tbody></table></blockquote>


 Note that shutting down the <code>server</code> socket suffices here to close
also the connection to <code>client</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="socket-"></a><a name="--index-entry-39247"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(socket? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>socket</code> is a socket, otherwise returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="socket-server-"></a><a name="--index-entry-39281"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(socket-server? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>socket</code> is a server socket, otherwise returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="socket-client-"></a><a name="--index-entry-39315"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(socket-client? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns <code>#t</code> if <code>socket</code> is a client socket, otherwise returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="socket-host-name"></a><a name="--index-entry-39349"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(socket-host-name socket)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a string which contains the name of the distant host
attached to <code>socket</code>. If <code>socket</code> has been created with
<code>make-client-socket</code> this procedure returns the official name of
the distant machine used for connection. If <code>socket</code> has been
created with <code>make-server-socket</code>, this function returns the
 official name of the client connected to the socket. If no client
has used yet <code>socket</code>, this function returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="socket-host-address"></a><a name="--index-entry-39403"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(socket-host-address socket)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a string which contains the IP number of the distant host
attached to <code>socket</code>. If <code>socket</code> has been created with
<code>make-client-socket</code> this procedure returns the IP number of the
distant machine used for connection. If <code>socket</code> has been created
with <code>make-server-socket</code>, this function returns the address of the
client connected to the socket.  If no client has used yet
<code>socket</code>, this function returns <code>#f</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="socket-local-address"></a><a name="--index-entry-39457"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(socket-local-address socket)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns a string which contains the IP number of the local host
attached to <code>socket</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="socket-port-number"></a><a name="--index-entry-39481"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(socket-port-number socket)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the integer number of the port used for <code>socket</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="socket-output"></a><a name="socket-input"></a><a name="--index-entry-39506"></a><a name="--index-entry-39510"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(socket-input socket)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(socket-output socket)</font></strong></code><br /><br />Returns the port associated for reading or writing with the
program connected with <code>socket</code>. Note that this port is both textual
and binary. If no connection has already been established,
these functions return <code>#f</code>.

The following example shows how to make a client socket. Here we
create a socket on port 13 of the machine <code>kaolin.unice.fr</code><a href="#fn--footnote-39552"><sup><small>2</small></sup></a>:
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<strong>let</strong> ((s (make-client-socket <span class="source-string">&quot;kaolin.unice.fr&quot;</span> 13)))
  (format #t <span class="source-string">&quot;Time is: ~A~%&quot;</span> (read-line (socket-input s)))
  (socket-shutdown  s))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Signals"></a>
<h3 id="Signals">4.20 Signals</h3>
</div>
<div class="sectionbody"><a name="signals"></a></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Parameter-Objects"></a>
<h3 id="Parameter-Objects">4.21 Parameter Objects</h3>
</div>
<div class="sectionbody"><p><span style="font-variant: small-caps">STklos</span> parameters correspond to the ones defined in  <strong><a  class="http" href="http://srfi.schemers.org/srfi-39/srfi-39.html">SRFI-39</a></strong>
      (<em>Parameters objects</em>).
See SRFI document for more information.</p><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="make-parameter"></a><a name="--index-entry-39581"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(make-parameter init)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(make-parameter init converter)</font></strong></code><br /><br />Returns a new parameter object which is bound in the global dynamic
environment to a cell containing the value returned by the call
<code>(converter init)</code>. If the conversion procedure <code>converter</code> is not
specified the identity function is used instead.
<br /><br />
The parameter object is a procedure which accepts zero or one
argument. When it is called with no argument, the content of the
cell bound to this parameter object in the current dynamic
environment is returned. When it is called with one argument, the
content of the cell bound to this parameter object in the current
dynamic environment is set to the result of the call
<code>(converter arg)</code>, where <code>arg</code> is the argument passed to the
parameter object, and
an unspecified value is returned.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> radix
    (make-parameter 10))

(<span class="source-define">define</span> write-shared
   (make-parameter
      #f
      (<strong>lambda</strong> (x)
        (<strong>if</strong> (boolean? x)
            x
            (<span class="source-error">error</span> 'write-shared <span class="source-string">&quot;bad boolean ~S&quot;</span> x)))))

 (radix)           &#8658;  10
 (radix 2)
 (radix)           &#8658;  2
 (write-shared 0)  &#8658; <span class="source-error">error</span>

 (<span class="source-define">define</span> prompt
   (make-parameter
     123
     (<strong>lambda</strong> (x)
       (<strong>if</strong> (string? x)
           x
           (with-output-to-string (<strong>lambda</strong> () (write x)))))))

 (prompt)       &#8658;  <span class="source-string">&quot;123&quot;</span>
 (prompt <span class="source-string">&quot;&gt;&quot;</span>)
 (prompt)       &#8658;  <span class="source-string">&quot;&gt;&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="parameterize"></a><a name="--index-entry-39701"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(parameterize ((expr1 expr2) ...) &lt;body&gt;)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> syntax</i></font></td></tr>
</tbody></table>
<br />The expressions <code>expr1</code> and <code>expr2</code> are evaluated in an unspecified order.
The value of the <code>expr1</code> expressions must be parameter objects.
For each <code>expr1</code> expression and in an unspecified order, the local
dynamic environment is extended with a binding of the parameter object
<code>expr1</code> to a new cell whose content is the result of the call
<code>(converter val)</code>, where <code>val</code> is the value of <code>expr2</code> and converter
is the conversion procedure of the parameter object. The resulting
dynamic environment is then used for the evaluation of <code>&lt;body&gt;</code>
(which refers to the <span style="font-variant: small-caps">R<sup>5</sup>RS</span> grammar nonterminal of that name).
The result(s) of the parameterize form are the result(s) of
the <code>&lt;body&gt;</code>.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(radix)                                              &#8658;  2
(parameterize ((radix 16)) (radix))                  &#8658;  16
(radix)                                              &#8658;  2

(<span class="source-define">define</span> (f n) (number-&gt;string n (radix)))

(f 10)                                               &#8658;  <span class="source-string">&quot;1010&quot;</span>
(parameterize ((radix 8)) (f 10))                    &#8658;  <span class="source-string">&quot;12&quot;</span>
(parameterize ((radix 8) (prompt (f 10))) (prompt))  &#8658;  <span class="source-string">&quot;1010&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="parameter-"></a><a name="--index-entry-39825"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(parameter? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br /> Returns <code>#t</code> if <code>obj</code> is a parameter object, otherwise returns <code>#f</code>.</td></tr>
</tbody></table></div></div><div class="sectiondiv"><div class="sectiontitle"><a name="Misc"></a>
<h3 id="Misc">4.22 Misc</h3>
</div>
<div class="sectionbody"><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="gc"></a><a name="--index-entry-39862"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(gc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Force a garbage collection step.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="void"></a><a name="--index-entry-39881"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(void)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(void arg1 ...)</font></strong></code><br /><br />Returns the special <em>void</em> object. If arguments are passed to <code>void</code>,
they are evalued and simply ignored.</td></tr>
</tbody></table><a name="--index-entry-39911"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="error"></a><a name="--index-entry-39917"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(error str obj ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(error name str obj ...)</font></strong></code><br /><br /><code>error</code> is used to signal an error to the user. The second form
of <code>error</code> takes  a symbol as first parameter; it is generally used for the
name of the procedure which raises the error.
<br /><br />
<strong>Note:</strong> The specification string may follow the
<em>tilde conventions</em>
of <code>format</code> (see <a href="stklos-ref-4.html#format">format</a>); in this case this procedure builds an
error message according to the specification given in <code>str</code>. Otherwise,
this procedure is conform to the <code>error</code> procedure defined in
 <strong><a  class="http" href="http://srfi.schemers.org/srfi-23/srfi-23.html">SRFI-23</a></strong>
      (<em>Error reporting mechanism</em>) and  <code>str</code> is printed with the <code>display</code> procedure,
whereas the <code>obj</code>s are printed  with the <code>write</code> procedure.

<br /><br />
Hereafter, are some calls of the <code>error</code> procedure using a formatted string
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-error">error</span> <span class="source-string">&quot;bad integer ~A&quot;</span> <span class="source-string">&quot;a&quot;</span>)
                     -| bad integer a
(<span class="source-error">error</span> 'vector-ref <span class="source-string">&quot;bad integer ~S&quot;</span> <span class="source-string">&quot;a&quot;</span>)
                     -| <span class="source-key">vector-ref:</span> bad integer <span class="source-string">&quot;a&quot;</span>
(<span class="source-error">error</span> 'foo <span class="source-string">&quot;~A is not between ~A and ~A&quot;</span> <span class="source-string">&quot;bar&quot;</span> 0 5)
                     -| <span class="source-key">foo:</span> bar is not between 0 and 5
</pre></td></tr>
</tbody></table></blockquote>


and some conform to <strong>SRFI-23</strong>
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-error">error</span> <span class="source-string">&quot;bad integer&quot;</span> <span class="source-string">&quot;a&quot;</span>)
                    -| bad integer <span class="source-string">&quot;a&quot;</span>
(<span class="source-error">error</span> 'vector-ref <span class="source-string">&quot;bad integer&quot;</span> <span class="source-string">&quot;a&quot;</span>)
                   -| <span class="source-key">vector-ref:</span> bad integer <span class="source-string">&quot;a&quot;</span>
(<span class="source-error">error</span> <span class="source-string">&quot;bar&quot;</span> <span class="source-string">&quot;is not between&quot;</span> 0 <span class="source-string">&quot;and&quot;</span> 5)
                   -| bar <span class="source-string">&quot;is not between&quot;</span> 0 <span class="source-string">&quot;and&quot;</span> 5
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="signal-error"></a><a name="--index-entry-40105"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(signal-error cond str obj ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(signal-error cond name str obj ...)</font></strong></code><br /><br />This procedure is similar to error, except that the type of the error
can be passed as the first parameter. The type of the error must be a
condition which inherits from <code>&amp;error-message</code>.
<br /><br />
Note that <code>(error arg ...)</code> is equivalent to
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(signal-error &amp;error-message arg ...)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="file-error-"></a><a name="read-error-"></a><a name="--index-entry-40151"></a><a name="--index-entry-40155"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(read-error? obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(file-error? obj)</font></strong></code><br /><br />
Error type predicates. Returns #t if <code>obj</code> is an object raised
by the read procedure or by the inability to open an input or
output port on a file, respectively. Otherwise, it returns #f.
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="error-object-"></a><a name="--index-entry-40184"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(error-object? obj )</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns #t if obj is an object created by error. Otherwise,
it returns #f.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="error-object-message"></a><a name="--index-entry-40204"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(error-object-message error-object)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the message encapsulated by <code>error-object</code>.
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="error-object-irritants"></a><a name="--index-entry-40229"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(error-object-irritants error-object)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">R<sup>7</sup>RS</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the message encapsulated by <code>error-object</code>.
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="error-object-location"></a><a name="--index-entry-40254"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(error-object-location error-object)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Returns the location encapsulated by <code>error-object</code> if it exists.
Returns #f otherwise. The location corresponds generally to the name
of the procedure which raised the error.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(guard (cnd
         (<strong>else</strong> (error-object-location cnd)))
  (<span class="source-error">error</span> 'foo <span class="source-string">&quot;error message&quot;</span>))  &#8658; foo
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="require-extension"></a><a name="--index-entry-40296"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(require-extension &lt;clause&gt; ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> syntax</i></font></td></tr>
</tbody></table>
<br />The syntax of require-extension is as follows:
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(require-extension <span class="source-module">&lt;clause&gt;</span> ...)
</pre></td></tr>
</tbody></table></blockquote>

A clause has the form:
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre> (srfi <span class="source-module">&lt;extension-argument&gt;</span> ...)
</pre></td></tr>
</tbody></table></blockquote>

where <code>&lt;extension-argument&gt;</code>s may be any Scheme-values.
<br /><br />
If an <code>&lt;extension-argument&gt;</code> is a nonnegative integer, the functionality
of the indicated SRFIs is made available in the context in
which the require-extension form appears. For instance,
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(require-extension (srfi 1 2))
               <span class="source-comment">; Make the SRFI 1 and 2 available</span>
</pre></td></tr>
</tbody></table></blockquote>

This form is compatible with  <strong><a  class="http" href="http://srfi.schemers.org/srfi-55/srfi-55.html">SRFI-55</a></strong>
      (<em>Require-extension</em>). However, <span style="font-variant: small-caps">STklos</span>
accepts also some symbolic names for requiring some extensions.
For instance,
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(require-extension (srfi lists and-let*))
</pre></td></tr>
</tbody></table></blockquote>

is equivalent to the previous <code>require-extension</code>. A list of available
 symbols as  <code>&lt;extension-argument&gt;</code> is given in chapter
<a href="stklos-ref-14.html#SRFIs">SRFIs</a>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="require-feature"></a><a name="--index-entry-40394"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(require-feature feature)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This primitive ensures that the <code>feature</code> (in sense of SRFI-0 feature) can be used.
In particular, it eventually requires the loading of the files needed to used <code>feature</code>.
The <code>feature</code> can be expressed as a string or a symbol, If feature is an integer <code>n</code>,
it is equivalent to <code>srfi-n</code>. Consquently, to use <a  class="http" href="http://srfi.schemers.org/srfi-1/srfi-1.html">SRFI-1</a> 
the following forms are equivalent:

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(require-feature 'srfi-1)
(require-feature <span class="source-string">&quot;srfi-1&quot;</span>)
(require-feature 1)
(require-feature 'lists)      <span class="source-comment">;; Since this feature name is an alias for SRFI-1</span>
</pre></td></tr>
</tbody></table></blockquote>


See also chapter <a href="stklos-ref-14.html#SRFIs">SRFIs</a> for more information.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="repl"></a><a name="--index-entry-40461"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(repl)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(repl :in inport :out outport :err errport)</font></strong></code><br /><br />This procedure launches a new Read-Eval-Print-Loop. Calls to <code>repl</code> can be
embedded. The ports used for input/output as well as the error port can
be passed when <code>repl</code> is called. If not passed, they default to
<code>current-input-port</code>, <code>current-output-port</code> and <code>current-error-port</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="assume"></a><a name="--index-entry-40509"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(assume obj ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> syntax</i></font></td></tr>
</tbody></table>
<br />The special form <code>assume</code> is defined in <strong>SRFI-145</strong>.
When <span style="font-variant: small-caps">STklos</span> is in debug mode, this special form is an expression
that evaluates to the value of <code>obj</code> if <code>obj</code> evaluates to a true
value and it is an error if <code>obj</code> evaluates to a false value.
<br />
When <span style="font-variant: small-caps">STklos</span> is not in debug mode, the call to <code>assume</code> is elided.</td></tr>
</tbody></table><a name="--index-entry-40567"></a><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="version-alist"></a><a name="--index-entry-40573"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(version-alist)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This function returns an association list of <span style="font-variant: small-caps">STklos</span> properties as defined by
<a  class="http" href="http://srfi.schemers.org/srfi-176/srfi-176.html">SRFI-176</a>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="apropos"></a><a name="--index-entry-40601"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(apropos obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(apropos obj module)</font></strong></code><br /><br /><code>Apropos</code> returns a list of symbols whose print name contains the
characters of <code>obj</code> as a substring . The given <code>obj</code> can be a string or
symbol. This function returns the list of matched symbols which can
be accessed from the given <code>module</code> (defaults to the current module if not
provided).
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="help"></a><a name="--index-entry-40644"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(help obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(help)</font></strong></code><br /><br />When called with an argument, <code>help</code> tries to give some help on the
given object, which could be a symbol, a procedure, a generic function
or a method. Whe called called without arguments, <code>help</code> enters a
read-help-print loop. The documentation for an object is searched in
the object itself or, if absent, in <span style="font-variant: small-caps">STklos</span> documentation.  Inserting
the documentation in an objet is very similar to Emacs docstrings: a
documentation string is defined among the code. Exemples of such
strings are given below
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> (foo n)
  <span class="source-string">&quot;If the function body starts with a string, it's a docstring&quot;</span>
  (+ n 1))

(<span class="source-define">define-generic</span> bar
  <span class="source-key">:documentation</span> <span class="source-string">&quot;Generic function docsting for bar&quot;</span>)

(<span class="source-define">define-method</span> bar ((x <span class="source-module">&lt;integer&gt;</span>))
  <span class="source-string">&quot;Probably less useful: as in functions, methods can have docstrings&quot;</span>
  (- x 1))
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="trace"></a><a name="--index-entry-40706"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(trace f-name ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> syntax</i></font></td></tr>
</tbody></table>
<br />Invoking <code>trace</code> with one or more function names causes the functions
named to be traced. Henceforth, whenever such a function is invoked,
information about the call and the returned values, if any, will be
printed on the current error port.

Calling <code>trace</code> with no argument returns the list of traced functions.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="untrace"></a><a name="--index-entry-40735"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(untrace f-name ...)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> syntax</i></font></td></tr>
</tbody></table>
<br />Invoking <code>untrace</code> with one or more function names causes the functions
named not to be traced anymore.

Calling <code>untrace</code> with no argument will untrace all the functions
currently traced.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="pp"></a><a name="pretty-print"></a><a name="--index-entry-40765"></a><a name="--index-entry-40769"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(pretty-print sexpr :key port width)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(pp sexpr :key port width)</font></strong></code><br /><br />This function tries to obtain a pretty-printed representation of <code>sexpr</code>.
The pretty-printed form is written on <code>port</code> with lines which are no
more long than <code>width</code> characters. If <code>port</code> is omitted if defaults to
the current error port. As a special convention, if <code>port</code> is <code>#t</code>,
output goes to the current output port and if <code>port</code> is <code>#f</code>, the output
is returned as a string by <code>pretty-print</code>.
Note that <code>pp</code> is another name for <code>pretty-print</code>.
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="disassemble"></a><a name="--index-entry-40847"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(disassemble proc)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(disassemble proc port)</font></strong></code><br /><br />This function prints on the given port (by default the current output
port) the instructions of procedure <code>proc</code>. The printed code uses an
<em>ad-hoc</em> instruction set that should be quite understandable.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(<span class="source-define">define</span> (fact n)
  (<strong>if</strong> (&lt; n 2)
      1
      (* n (fact (- n 1)))))
</pre></td></tr>
</tbody></table></blockquote>


The call <code>(disassemble fact)</code> will produce the following output:

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>   <span class="source-key">000:</span>  LOCAL-REF0-PUSH
   <span class="source-key">001:</span>  SMALL-INT            2
   <span class="source-key">003:</span>  JUMP-NUMGE           2  <span class="source-comment">;; =</span>&#8658; 007
   <span class="source-key">005:</span>  IM-ONE
   <span class="source-key">006:</span>  RETURN
   <span class="source-key">007:</span>  LOCAL-REF0-PUSH
   <span class="source-key">008:</span>  PREPARE-CALL
   <span class="source-key">009:</span>  LOCAL-REF0
   <span class="source-key">010:</span>  IN-SINT-ADD2         -1
   <span class="source-key">012:</span>  PUSH-GREF-INVOKE     0 1
   <span class="source-key">015:</span>  IN-MUL2
   <span class="source-key">016:</span>  RETURN
</pre></td></tr>
</tbody></table></blockquote>

<strong>Notes:</strong>
<ul><li>The code of a procedure may be patched after the first execution
          of <code>proc</code> to optimize it;</li>
<li>If <code>proc</code> is an anonymous function, you can use the special
         notation '#pxxx' to disassemble it:</li>
</ul>
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(disassemble #p7fee1dd82f80)  <span class="source-comment">;; (address-of (lambda() 42))</span>

      <span class="source-key">000:</span>  SMALL-INT            42
      <span class="source-key">002:</span>  RETURN
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="disassemble-expr"></a><a name="--index-entry-40973"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(disassemble-expr sexpr)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(disassemble-expr show-consts)</font></strong></code><br /><code><strong><font color="IndianRed">(disassemble-expr show-consts port)</font></strong></code><br /><br />This function prints on the given <code>port</code> (by default the current output
port) the instructions of the given <code>sexpr</code>. If <code>show-consts</code> is true,
the table of the contants used in <code>sexpr</code> is also printed.

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(disassemble-expr '(<strong>begin</strong>
                      (<span class="source-define">define</span> x (+ y 10))
                      (cons x y))
                    #t)
</pre></td></tr>
</tbody></table></blockquote>


will print:

<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre><span class="source-key">000:</span>  GLOBAL-REF           0
<span class="source-key">002:</span>  IN-SINT-ADD2         10
<span class="source-key">004:</span>  DEFINE-SYMBOL        1
<span class="source-key">006:</span>  GLOBAL-REF-PUSH      1
<span class="source-key">008:</span>  GLOBAL-REF           0
<span class="source-key">010:</span>  IN-CONS
<span class="source-key">011:</span>

<span class="source-key">Constants:</span>
<span class="source-key">0:</span> y
<span class="source-key">1:</span> x
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="uri-parse"></a><a name="--index-entry-41062"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(uri-parse str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Parses the string <code>str</code> as a RFC-2396 URI and return a keyed list with the
following components
<ul><li><code>scheme</code> : the scheme used as a string (defaults to <code>&quot;file&quot;</code>)</li>
<li><code>user</code>: the user information (generally expressed as
     <code>login:password</code>)</li>
<li><code>host</code> : the host as a string (defaults to &quot;&quot;)</li>
<li><code>port</code> : the port as an integer (0 if no port specified)</li>
<li><code>path</code> : the path </li>
<li><code>query</code> : the qury part of the URI as a string (defaults to the
empty string)</li>
<li><code>fragment</code> : the fragment of the URI as a string (defaults to the
empty string)</li>
</ul>
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(uri-parse <span class="source-string">&quot;http://google.com&quot;</span>)
    &#8658; (<span class="source-key">:scheme</span> <span class="source-string">&quot;http&quot;</span> <span class="source-key">:user</span> <span class="source-string">&quot;&quot;</span> <span class="source-key">:host</span> <span class="source-string">&quot;google.com&quot;</span> <span class="source-key">:port</span> 80
        <span class="source-key">:path</span> <span class="source-string">&quot;/&quot;</span> <span class="source-key">:query</span> <span class="source-string">&quot;&quot;</span> <span class="source-key">:fragment</span> <span class="source-string">&quot;&quot;</span>)
(uri-parse <span class="source-string">&quot;http://stklos.net:8080/a/file?x=1;y=2#end&quot;</span>)
    &#8658; (<span class="source-key">:scheme</span> <span class="source-string">&quot;http&quot;</span> <span class="source-key">:user</span> <span class="source-string">&quot;&quot;</span> <span class="source-key">:host</span> <span class="source-string">&quot;stklos.net&quot;</span> <span class="source-key">:port</span> 8080
        <span class="source-key">:path</span> <span class="source-string">&quot;/a/file&quot;</span> <span class="source-key">:query</span> <span class="source-string">&quot;x=1;y=2&quot;</span> <span class="source-key">:fragment</span> <span class="source-string">&quot;end&quot;</span>)
(uri-parse <span class="source-string">&quot;http://foo:secret&#x40;stklos.net:2000/a/file&quot;</span>)
    &#8658; (<span class="source-key">:scheme</span> <span class="source-string">&quot;http&quot;</span> <span class="source-key">:user</span> <span class="source-string">&quot;foo:secret&quot;</span> <span class="source-key">:host</span> <span class="source-string">&quot;stklos.net&quot;</span>
        <span class="source-key">:port</span> 2000  <span class="source-key">:path</span> <span class="source-string">&quot;/a/file&quot;</span> <span class="source-key">:query</span> <span class="source-string">&quot;&quot;</span> <span class="source-key">:fragment</span> <span class="source-string">&quot;&quot;</span>)
(uri-parse <span class="source-string">&quot;/a/file&quot;</span>)
   &#8658; (<span class="source-key">:scheme</span> <span class="source-string">&quot;file&quot;</span> <span class="source-key">:user</span> <span class="source-string">&quot;&quot;</span> <span class="source-key">:host</span> <span class="source-string">&quot;&quot;</span> <span class="source-key">:port</span> 0 <span class="source-key">:path</span> <span class="source-string">&quot;/a/file&quot;</span>
       <span class="source-key">:query</span> <span class="source-string">&quot;&quot;</span> <span class="source-key">:fragment</span> <span class="source-string">&quot;&quot;</span>)
(uri-parse <span class="source-string">&quot;&quot;</span>)
   &#8658; (<span class="source-key">:scheme</span> <span class="source-string">&quot;file&quot;</span>  <span class="source-key">:user</span> <span class="source-string">&quot;&quot;</span> <span class="source-key">:host</span> <span class="source-string">&quot;&quot;</span> <span class="source-key">:port</span> 0 <span class="source-key">:path</span> <span class="source-string">&quot;&quot;</span>
       <span class="source-key">:query</span> <span class="source-string">&quot;&quot;</span> <span class="source-key">:fragment</span> <span class="source-string">&quot;&quot;</span>)
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="string--html"></a><a name="--index-entry-41273"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(string-&gt;html str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />This primitive is a convenience function; it returns a string where
the HTML special chars are properly translated. It can easily written
in Scheme, but this version is fast.
<blockquote><table cellspacing="0" class="code" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>(string-&gt;html <span class="source-string">&quot;Just a &lt;test&gt;&quot;</span>)
   &#8658; <span class="source-string">&quot;Just a &amp;lt;test&amp;gt;&quot;</span>
</pre></td></tr>
</tbody></table></blockquote>
</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="md5sum"></a><a name="--index-entry-41308"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(md5sum obj)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return a string contening the md5 dum of <code>obj</code>. The given parameter can
be a string or an open input port.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="md5sum-file"></a><a name="--index-entry-41332"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(md5sum-file str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return a string contening the md5 dum of the file whose name is <code>str</code>.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="base64-encode"></a><a name="--index-entry-41356"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(base64-encode in)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(base64-encode in out)</font></strong></code><br /><br />Encode in Base64 the characters from input port <code>in</code> to the output port
<code>out</code>. If <code>out</code> is not specified, it defaults to the current output port.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="base64-decode"></a><a name="--index-entry-41394"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(base64-decode in)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<code><strong><font color="IndianRed">(base64-decode in out)</font></strong></code><br /><br />Decode the Base64 characters from input port <code>in</code> to the output port
<code>out</code>. If <code>out</code> is not specified, it defaults to the current output port.</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="base64-encode-string"></a><a name="--index-entry-41432"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(base64-encode-string str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Return a string contening the contents of <code>str</code> converted to Base64
encoded format</td></tr>
</tbody></table><br /><table cellspacing="0" class="doc-box" cellpadding="0" width="100%"><tbody>
<tr><td bgcolor="#dddddd"><a name="base64-decode-string"></a><a name="--index-entry-41456"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td align="center"><code><strong><font color="IndianRed">(base64-encode-string str)</font></strong></code></td><td class="align-right" align="center"><font color="darkolivegreen"><i><span style="font-variant: small-caps">STklos</span> procedure</i></font></td></tr>
</tbody></table>
<br />Decode the contents of <code>str</code> expressed in Base64.</td></tr>
</tbody></table></div></div></div><div class='footnotes'>
<hr>
<b>Notes:</b><br>
<a name="fn--footnote-39229"><sup><small>1</small></sup></a>: Under Unix, you can simply connect to
a listening socket with the <code>telnet</code> command. With the given
example, this can be achieved by typing the following command in a
window shell:
<blockquote><table cellspacing="0" cellpadding="4" width="90%"><tbody>
<tr><td bgcolor="ivory"><pre>$ telnet localhost 12345
</pre></td></tr>
</tbody></table></blockquote>

<br>
<a name="fn--footnote-39552"><sup><small>2</small></sup></a>: Port 13 is generally used for testing:
making a connection to it permits to know the distant system's idea
of the time of day.
<br>
</div></td>
</tr></table><small><hr>This <span style="font-variant: small-caps">Html</span> page has been produced by 
                                     <a  class="http" href="http://www.stklos.net/~eg/Publis/JFP05/article.html">Skribe</a>.<br />Last update <em>Mon Apr 26 11:33:45 2021</em></small>
</body>
</html>
